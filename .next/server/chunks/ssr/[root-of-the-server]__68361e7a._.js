module.exports=[568751,(a,b,c)=>{"use strict";var d=a.r(254799),e="abcdefghijklmnopqrstuvwxyz012345";b.exports={string:function(a){for(var b=e.length,c=d.randomBytes(a),f=[],g=0;g<a;g++)f.push(e.substr(c[g]%b,1));return f.join("")},number:function(a){return Math.floor(Math.random()*a)},numberString:function(a){var b=(""+(a-1)).length;return(Array(b+1).join("0")+this.number(a)).slice(-b)}}},847087,(a,b,c)=>{"use strict";var d=a.r(568751),e={},f=!1,g=a.g.chrome&&a.g.chrome.app&&a.g.chrome.app.runtime;b.exports={attachEvent:function(b,c){void 0!==a.g.addEventListener?a.g.addEventListener(b,c,!1):a.g.document&&a.g.attachEvent&&(a.g.document.attachEvent("on"+b,c),a.g.attachEvent("on"+b,c))},detachEvent:function(b,c){void 0!==a.g.addEventListener?a.g.removeEventListener(b,c,!1):a.g.document&&a.g.detachEvent&&(a.g.document.detachEvent("on"+b,c),a.g.detachEvent("on"+b,c))},unloadAdd:function(a){if(g)return null;var b=d.string(8);return e[b]=a,f&&setTimeout(this.triggerUnloadCallbacks,0),b},unloadDel:function(a){a in e&&delete e[a]},triggerUnloadCallbacks:function(){for(var a in e)e[a](),delete e[a]}},g||b.exports.attachEvent("unload",function(){f||(f=!0,b.exports.triggerUnloadCallbacks())})},999879,(a,b,c)=>{"use strict";b.exports=function(a,b){if(b=b.split(":")[0],!(a*=1))return!1;switch(b){case"http":case"ws":return 80!==a;case"https":case"wss":return 443!==a;case"ftp":return 21!==a;case"gopher":return 70!==a;case"file":return!1}return 0!==a}},118762,(a,b,c)=>{"use strict";var d,e=Object.prototype.hasOwnProperty;function f(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(a){return null}}function g(a){try{return encodeURIComponent(a)}catch(a){return null}}c.stringify=function(a,b){var c,f,h=[];for(f in"string"!=typeof(b=b||"")&&(b="?"),a)if(e.call(a,f)){if(!(c=a[f])&&(null===c||c===d||isNaN(c))&&(c=""),f=g(f),c=g(c),null===f||null===c)continue;h.push(f+"="+c)}return h.length?b+h.join("&"):""},c.parse=function(a){for(var b,c=/([^=?#&]+)=?([^&]*)/g,d={};b=c.exec(a);){var e=f(b[1]),g=f(b[2]);null===e||null===g||e in d||(d[e]=g)}return d}},832804,(a,b,c)=>{"use strict";var d=a.r(999879),e=a.r(118762),f=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,g=/[\n\r\t]/g,h=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/:\d+$/,j=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,k=/^[a-zA-Z]:/;function l(a){return(a||"").toString().replace(f,"")}var m=[["#","hash"],["?","query"],function(a,b){return p(b.protocol)?a.replace(/\\/g,"/"):a},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],n={hash:1,query:1};function o(b){var c,d=a.g.location||{},e={},f=typeof(b=b||d);if("blob:"===b.protocol)e=new r(unescape(b.pathname),{});else if("string"===f)for(c in e=new r(b,{}),n)delete e[c];else if("object"===f){for(c in b)c in n||(e[c]=b[c]);void 0===e.slashes&&(e.slashes=h.test(b.href))}return e}function p(a){return"file:"===a||"ftp:"===a||"http:"===a||"https:"===a||"ws:"===a||"wss:"===a}function q(a,b){a=(a=l(a)).replace(g,""),b=b||{};var c,d=j.exec(a),e=d[1]?d[1].toLowerCase():"",f=!!d[2],h=!!d[3],i=0;return f?h?(c=d[2]+d[3]+d[4],i=d[2].length+d[3].length):(c=d[2]+d[4],i=d[2].length):h?(c=d[3]+d[4],i=d[3].length):c=d[4],"file:"===e?i>=2&&(c=c.slice(2)):p(e)?c=d[4]:e?f&&(c=c.slice(2)):i>=2&&p(b.protocol)&&(c=d[4]),{protocol:e,slashes:f||p(e),slashesCount:i,rest:c}}function r(a,b,c){if(a=(a=l(a)).replace(g,""),!(this instanceof r))return new r(a,b,c);var f,h,i,j,n,s,t=m.slice(),u=typeof b,v=0;for("object"!==u&&"string"!==u&&(c=b,b=null),c&&"function"!=typeof c&&(c=e.parse),f=!(h=q(a||"",b=o(b))).protocol&&!h.slashes,this.slashes=h.slashes||f&&b.slashes,this.protocol=h.protocol||b.protocol||"",a=h.rest,("file:"===h.protocol&&(2!==h.slashesCount||k.test(a))||!h.slashes&&(h.protocol||h.slashesCount<2||!p(this.protocol)))&&(t[3]=[/(.*)/,"pathname"]);v<t.length;v++){if("function"==typeof(j=t[v])){a=j(a,this);continue}i=j[0],s=j[1],i!=i?this[s]=a:"string"==typeof i?~(n="@"===i?a.lastIndexOf(i):a.indexOf(i))&&("number"==typeof j[2]?(this[s]=a.slice(0,n),a=a.slice(n+j[2])):(this[s]=a.slice(n),a=a.slice(0,n))):(n=i.exec(a))&&(this[s]=n[1],a=a.slice(0,n.index)),this[s]=this[s]||f&&j[3]&&b[s]||"",j[4]&&(this[s]=this[s].toLowerCase())}c&&(this.query=c(this.query)),f&&b.slashes&&"/"!==this.pathname.charAt(0)&&(""!==this.pathname||""!==b.pathname)&&(this.pathname=function(a,b){if(""===a)return b;for(var c=(b||"/").split("/").slice(0,-1).concat(a.split("/")),d=c.length,e=c[d-1],f=!1,g=0;d--;)"."===c[d]?c.splice(d,1):".."===c[d]?(c.splice(d,1),g++):g&&(0===d&&(f=!0),c.splice(d,1),g--);return f&&c.unshift(""),("."===e||".."===e)&&c.push(""),c.join("/")}(this.pathname,b.pathname)),"/"!==this.pathname.charAt(0)&&p(this.protocol)&&(this.pathname="/"+this.pathname),d(this.port,this.protocol)||(this.host=this.hostname,this.port=""),this.username=this.password="",this.auth&&(~(n=this.auth.indexOf(":"))?(this.username=this.auth.slice(0,n),this.username=encodeURIComponent(decodeURIComponent(this.username)),this.password=this.auth.slice(n+1),this.password=encodeURIComponent(decodeURIComponent(this.password))):this.username=encodeURIComponent(decodeURIComponent(this.auth)),this.auth=this.password?this.username+":"+this.password:this.username),this.origin="file:"!==this.protocol&&p(this.protocol)&&this.host?this.protocol+"//"+this.host:"null",this.href=this.toString()}r.prototype={set:function(a,b,c){switch(a){case"query":"string"==typeof b&&b.length&&(b=(c||e.parse)(b)),this[a]=b;break;case"port":this[a]=b,d(b,this.protocol)?b&&(this.host=this.hostname+":"+b):(this.host=this.hostname,this[a]="");break;case"hostname":this[a]=b,this.port&&(b+=":"+this.port),this.host=b;break;case"host":this[a]=b,i.test(b)?(b=b.split(":"),this.port=b.pop(),this.hostname=b.join(":")):(this.hostname=b,this.port="");break;case"protocol":this.protocol=b.toLowerCase(),this.slashes=!c;break;case"pathname":case"hash":if(b){var f="pathname"===a?"/":"#";this[a]=b.charAt(0)!==f?f+b:b}else this[a]=b;break;case"username":case"password":this[a]=encodeURIComponent(b);break;case"auth":var g=b.indexOf(":");~g?(this.username=b.slice(0,g),this.username=encodeURIComponent(decodeURIComponent(this.username)),this.password=b.slice(g+1),this.password=encodeURIComponent(decodeURIComponent(this.password))):this.username=encodeURIComponent(decodeURIComponent(b))}for(var h=0;h<m.length;h++){var j=m[h];j[4]&&(this[j[1]]=this[j[1]].toLowerCase())}return this.auth=this.password?this.username+":"+this.password:this.username,this.origin="file:"!==this.protocol&&p(this.protocol)&&this.host?this.protocol+"//"+this.host:"null",this.href=this.toString(),this},toString:function(a){a&&"function"==typeof a||(a=e.stringify);var b,c=this.host,d=this.protocol;d&&":"!==d.charAt(d.length-1)&&(d+=":");var f=d+(this.protocol&&this.slashes||p(this.protocol)?"//":"");return this.username?(f+=this.username,this.password&&(f+=":"+this.password),f+="@"):this.password?(f+=":"+this.password,f+="@"):"file:"!==this.protocol&&p(this.protocol)&&!c&&"/"!==this.pathname&&(f+="@"),(":"===c[c.length-1]||i.test(this.hostname)&&!this.port)&&(c+=":"),f+=c+this.pathname,(b="object"==typeof this.query?a(this.query):this.query)&&(f+="?"!==b.charAt(0)?"?"+b:b),this.hash&&(f+=this.hash),f}},r.extractProtocol=q,r.location=o,r.trimLeft=l,r.qs=e,b.exports=r},283296,(a,b,c)=>{"use strict";var d=a.r(832804),e=function(){};b.exports={getOrigin:function(a){if(!a)return null;var b=new d(a);if("file:"===b.protocol)return null;var c=b.port;return c||(c="https:"===b.protocol?"443":"80"),b.protocol+"//"+b.hostname+":"+c},isOriginEqual:function(a,b){var c=this.getOrigin(a)===this.getOrigin(b);return e("same",a,b,c),c},isSchemeEqual:function(a,b){return a.split(":")[0]===b.split(":")[0]},addPath:function(a,b){var c=a.split("?");return c[0]+b+(c[1]?"?"+c[1]:"")},addQuery:function(a,b){return a+(-1===a.indexOf("?")?"?"+b:"&"+b)},isLoopbackAddr:function(a){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(a)||/^\[::1\]$/.test(a)}}},507915,(a,b,c)=>{"function"==typeof Object.create?b.exports=function(a,b){b&&(a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:b.exports=function(a,b){if(b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}},518919,(a,b,c)=>{try{var d=a.r(224361);if("function"!=typeof d.inherits)throw"";b.exports=d.inherits}catch(c){b.exports=a.r(507915)}},500874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},674898,(a,b,c)=>{var d=a.r(500874),e=d.Buffer;function f(a,b){for(var c in a)b[c]=a[c]}function g(a,b,c){return e(a,b,c)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?b.exports=d:(f(d,c),c.Buffer=g),g.prototype=Object.create(e.prototype),f(e,g),g.from=function(a,b,c){if("number"==typeof a)throw TypeError("Argument must not be a number");return e(a,b,c)},g.alloc=function(a,b,c){if("number"!=typeof a)throw TypeError("Argument must be a number");var d=e(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},g.allocUnsafe=function(a){if("number"!=typeof a)throw TypeError("Argument must be a number");return e(a)},g.allocUnsafeSlow=function(a){if("number"!=typeof a)throw TypeError("Argument must be a number");return d.SlowBuffer(a)}},566181,(a,b,c)=>{"use strict";var d=a.r(688947).Stream,e=a.r(224361),f=function(a){this.readable=this.writable=!0,this._paused=!1,this._driver=a};e.inherits(f,d),f.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0},f.prototype.resume=function(){this._paused=!1,this.emit("drain");var a=this._driver.messages;a._paused=!1,a.emit("drain")},f.prototype.write=function(a){return!!this.writable&&(this._driver.parse(a),!this._paused)},f.prototype.end=function(a){if(this.writable){void 0!==a&&this.write(a),this.writable=!1;var b=this._driver.messages;b.readable&&(b.readable=b.writable=!1,b.emit("end"))}},f.prototype.destroy=function(){this.end()};var g=function(a){this.readable=this.writable=!0,this._paused=!1,this._driver=a};e.inherits(g,d),g.prototype.pause=function(){this._driver.io._paused=!0},g.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")},g.prototype.write=function(a){return!!this.writable&&("string"==typeof a?this._driver.text(a):this._driver.binary(a),!this._paused)},g.prototype.end=function(a){void 0!==a&&this.write(a)},g.prototype.destroy=function(){},c.IO=f,c.Messages=g},786562,(a,b,c)=>{"use strict";var d=function(){this.clear()};d.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"],d.prototype.clear=function(){this._sent={},this._lines=[]},d.prototype.set=function(a,b){if(void 0!==b){a=this._strip(a),b=this._strip(b);var c=a.toLowerCase();(!this._sent.hasOwnProperty(c)||this.ALLOWED_DUPLICATES.indexOf(c)>=0)&&(this._sent[c]=!0,this._lines.push(a+": "+b+"\r\n"))}},d.prototype.toString=function(){return this._lines.join("")},d.prototype._strip=function(a){return a.toString().replace(/^ */,"").replace(/ *$/,"")},b.exports=d},594255,(a,b,c)=>{"use strict";var d=a.r(674898).Buffer,e=function(){this._queue=[],this._queueSize=0,this._offset=0};e.prototype.put=function(a){a&&0!==a.length&&(d.isBuffer(a)||(a=d.from(a)),this._queue.push(a),this._queueSize+=a.length)},e.prototype.read=function(a){if(a>this._queueSize)return null;if(0===a)return d.alloc(0);this._queueSize-=a;var b,c,e=this._queue,f=a,g=e[0];if(g.length>=a)if(g.length===a)return e.shift();else return c=g.slice(0,a),e[0]=g.slice(a),c;for(var h=0,i=e.length;h<i&&!(f<e[h].length);h++)f-=e[h].length;return b=e.splice(0,h),f>0&&e.length>0&&(b.push(e[0].slice(0,f)),e[0]=e[0].slice(f)),d.concat(b,a)},e.prototype.eachByte=function(a,b){for(var c,d,e;this._queue.length>0;){for(d=(c=this._queue[0]).length;this._offset<d;)e=this._offset,this._offset+=1,a.call(b,c[e]);this._offset=0,this._queue.shift()}},b.exports=e},930145,(a,b,c)=>{"use strict";var d=a.r(674898).Buffer,e=a.r(427699).EventEmitter,f=a.r(224361),g=a.r(566181),h=a.r(786562),i=a.r(594255),j=function(a,b,c){e.call(this),j.validateOptions(c||{},["maxLength","masking","requireMasking","protocols"]),this._request=a,this._reader=new i,this._options=c||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new h,this.__queue=[],this.readyState=0,this.url=b,this.io=new g.IO(this),this.messages=new g.Messages(this),this._bindEventListeners()};f.inherits(j,e),j.isWebSocket=function(a){var b=a.headers.connection||"",c=a.headers.upgrade||"";return"GET"===a.method&&b.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&"websocket"===c.toLowerCase()},j.validateOptions=function(a,b){for(var c in a)if(0>b.indexOf(c))throw Error("Unrecognized option: "+c)};var k={MAX_LENGTH:0x3ffffff,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var a=this;this.messages.on("error",function(){}),this.on("message",function(b){var c=a.messages;c.readable&&c.emit("data",b.data)}),this.on("error",function(b){var c=a.messages;c.readable&&c.emit("error",b)}),this.on("close",function(){var b=a.messages;b.readable&&(b.readable=b.writable=!1,b.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(a){return!1},setHeader:function(a,b){return!(this.readyState>0)&&(this._headers.set(a,b),!0)},start:function(){var a;if(0!==this.readyState)return!1;if(!j.isWebSocket(this._request))return this._failHandshake(Error("Not a WebSocket request"));try{a=this._handshakeResponse()}catch(a){return this._failHandshake(a)}return this._write(a),-1!==this._stage&&this._open(),!0},_failHandshake:function(a){var b=new h;return b.set("Content-Type","text/plain"),b.set("Content-Length",d.byteLength(a.message,"utf8")),b=["HTTP/1.1 400 Bad Request",b.toString(),a.message],this._write(d.from(b.join("\r\n"),"utf8")),this._fail("protocol_error",a.message),!1},text:function(a){return this.frame(a)},binary:function(a){return!1},ping:function(){return!1},pong:function(){return!1},close:function(a,b){return 1===this.readyState&&(this.readyState=3,this.emit("close",new j.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(a){this.frame.apply(this,a)},this),this.__queue=[],this.emit("open",new j.OpenEvent)},_queue:function(a){return this.__queue.push(a),!0},_write:function(a){var b=this.io;b.readable&&b.emit("data",a)},_fail:function(a,b){this.readyState=2,this.emit("error",Error(b)),this.close()}};for(var l in k)j.prototype[l]=k[l];j.ConnectEvent=function(){},j.OpenEvent=function(){},j.CloseEvent=function(a,b){this.code=a,this.reason=b},j.MessageEvent=function(a){this.data=a},j.PingEvent=function(a){this.data=a},j.PongEvent=function(a){this.data=a},b.exports=j},458726,(a,b,c)=>{function d(a){if(void 0!==a&&a!==d.REQUEST&&a!==d.RESPONSE)throw Error("type must be REQUEST or RESPONSE");void 0===a||this.initialize(a),this.maxHeaderSize=d.maxHeaderSize}c.HTTPParser=d,d.prototype.initialize=function(a,b){if(a!==d.REQUEST&&a!==d.RESPONSE)throw Error("type must be REQUEST or RESPONSE");this.type=a,this.state=a+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1},d.encoding="ascii",d.maxHeaderSize=81920,d.REQUEST="REQUEST",d.RESPONSE="RESPONSE";var e=d.kOnHeaders=1,f=d.kOnHeadersComplete=2,g=d.kOnBody=3,h=d.kOnMessageComplete=4;d.prototype[e]=d.prototype[f]=d.prototype[g]=d.prototype[h]=function(){};var i=!0;Object.defineProperty(d,"kOnExecute",{get:function(){return i=!1,99}});var j=c.methods=d.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],k=j.indexOf("CONNECT");d.prototype.reinitialize=d,d.prototype.close=d.prototype.pause=d.prototype.resume=d.prototype.remove=d.prototype.free=function(){},d.prototype._compatMode0_11=!1,d.prototype.getAsyncId=function(){return 0};var l={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};d.prototype.execute=function(a,b,c){if(!(this instanceof d))throw TypeError("not a HTTPParser");b=b||0,c="number"==typeof c?c:a.length,this.chunk=a,this.offset=b;var e=this.end=b+c;try{for(;this.offset<e&&!this[this.state](););}catch(a){if(this.isUserCall)throw a;return this.hadError=!0,a}return(this.chunk=null,c=this.offset-b,l[this.state]&&(this.headerSize+=c,this.headerSize>(this.maxHeaderSize||d.maxHeaderSize)))?Error("max header size exceeded"):c};var m={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};d.prototype.finish=function(){if(!this.hadError){if(!m[this.state])return Error("invalid state for EOF");"BODY_RAW"===this.state&&this.userCall()(this[h]())}},d.prototype.consume=d.prototype.unconsume=d.prototype.getCurrentBuffer=function(){},d.prototype.userCall=function(){this.isUserCall=!0;var a=this;return function(b){return a.isUserCall=!1,b}},d.prototype.nextRequest=function(){this.userCall()(this[h]()),this.reinitialize(this.type)},d.prototype.consumeLine=function(){for(var a=this.end,b=this.chunk,c=this.offset;c<a;c++)if(10===b[c]){var e=this.line+b.toString(d.encoding,this.offset,c);return"\r"===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),this.line="",this.offset=c+1,e}this.line+=b.toString(d.encoding,this.offset,this.end),this.offset=this.end};var n=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,o=/^[ \t]+(.*[^ \t])/;d.prototype.parseHeader=function(a,b){if(-1!==a.indexOf("\r"))throw r("HPE_LF_EXPECTED");var c=n.exec(a),d=c&&c[1];if(d)b.push(d),b.push(c[2]);else{var e=o.exec(a);e&&b.length&&(b[b.length-1]&&(b[b.length-1]+=" "),b[b.length-1]+=e[1])}};var p=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;d.prototype.REQUEST_LINE=function(){var a=this.consumeLine();if(a){var b=p.exec(a);if(null===b)throw r("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?b[1]:j.indexOf(b[1]),-1===this.info.method)throw Error("invalid request method");this.info.url=b[2],this.info.versionMajor=+b[3],this.info.versionMinor=+b[4],this.body_bytes=0,this.state="HEADER"}};var q=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;function r(a){var b=Error("Parse Error");return b.code=a,b}d.prototype.RESPONSE_LINE=function(){var a=this.consumeLine();if(a){var b=q.exec(a);if(null===b)throw r("HPE_INVALID_CONSTANT");this.info.versionMajor=+b[1],this.info.versionMinor=+b[2];var c=this.info.statusCode=+b[3];this.info.statusMessage=b[4],((c/100|0)==1||204===c||304===c)&&(this.body_bytes=0),this.state="HEADER"}},d.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(-1!==this.connection.indexOf("close"))return!1}else if(-1===this.connection.indexOf("keep-alive"))return!1;return null!==this.body_bytes||!!this.isChunked},d.prototype.HEADER=function(){var a=this.consumeLine();if(void 0!==a){var b=this.info;if(a)this.parseHeader(a,b.headers);else{for(var c,e,g=b.headers,h=!1,j=!1,l=0;l<g.length;l+=2)switch(g[l].toLowerCase()){case"transfer-encoding":this.isChunked="chunked"===g[l+1].toLowerCase();break;case"content-length":if(c=+g[l+1],h){if(c!==this.body_bytes)throw r("HPE_UNEXPECTED_CONTENT_LENGTH")}else h=!0,this.body_bytes=c;break;case"connection":this.connection+=g[l+1].toLowerCase();break;case"upgrade":j=!0}if(this.isChunked&&h&&(h=!1,this.body_bytes=null),j&&-1!=this.connection.indexOf("upgrade")?b.upgrade=this.type===d.REQUEST||101===b.statusCode:b.upgrade=b.method===k,this.isChunked&&b.upgrade&&(this.isChunked=!1),b.shouldKeepAlive=this.shouldKeepAlive(),2===(e=i?this.userCall()(this[f](b)):this.userCall()(this[f](b.versionMajor,b.versionMinor,b.headers,b.method,b.url,b.statusCode,b.statusMessage,b.upgrade,b.shouldKeepAlive))))return this.nextRequest(),!0;if(this.isChunked&&!e)this.state="BODY_CHUNKHEAD";else{if(e||0===this.body_bytes)return this.nextRequest(),b.upgrade;null===this.body_bytes?this.state="BODY_RAW":this.state="BODY_SIZED"}}}},d.prototype.BODY_CHUNKHEAD=function(){var a=this.consumeLine();void 0!==a&&(this.body_bytes=parseInt(a,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")},d.prototype.BODY_CHUNK=function(){var a=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[g](this.chunk.slice(this.offset,this.offset+a),0,a)),this.offset+=a,this.body_bytes-=a,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")},d.prototype.BODY_CHUNKEMPTYLINE=function(){var a=this.consumeLine();if(void 0!==a){if(""!==a)throw Error("Expected empty line");this.state="BODY_CHUNKHEAD"}},d.prototype.BODY_CHUNKTRAILERS=function(){var a=this.consumeLine();void 0!==a&&(a?this.parseHeader(a,this.trailers):(this.trailers.length&&this.userCall()(this[e](this.trailers,"")),this.nextRequest()))},d.prototype.BODY_RAW=function(){this.userCall()(this[g](this.chunk.slice(this.offset,this.end),0,this.end-this.offset)),this.offset=this.end},d.prototype.BODY_SIZED=function(){var a=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[g](this.chunk.slice(this.offset,this.offset+a),0,a)),this.offset+=a,this.body_bytes-=a,this.body_bytes||this.nextRequest()},["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(a){var b=d["kOn"+a];Object.defineProperty(d.prototype,"on"+a,{get:function(){return this[b]},set:function(a){return this._compatMode0_11=!0,k="CONNECT",this[b]=a}})})},334867,(a,b,c)=>{"use strict";var d=a.r(458726).HTTPParser,e=a.r(674898).Buffer,f={request:d.REQUEST||"request",response:d.RESPONSE||"response"},g=function(a){this._type=a,this._parser=new d(f[a]),this._complete=!1,this.headers={};var b=null,c=this;this._parser.onHeaderField=function(a,c,d){b=a.toString("utf8",c,c+d).toLowerCase()},this._parser.onHeaderValue=function(a,d,e){var f=a.toString("utf8",d,d+e);c.headers.hasOwnProperty(b)?c.headers[b]+=", "+f:c.headers[b]=f},this._parser.onHeadersComplete=this._parser[d.kOnHeadersComplete]=function(a,b,d,e,f,h){var i=arguments[0];if("object"==typeof i&&(e=i.method,f=i.url,h=i.statusCode,d=i.headers),c.method="number"==typeof e?g.METHODS[e]:e,c.statusCode=h,c.url=f,d){for(var j,k,l=0,m=d.length;l<m;l+=2)j=d[l].toLowerCase(),k=d[l+1],c.headers.hasOwnProperty(j)?c.headers[j]+=", "+k:c.headers[j]=k;c._complete=!0}}};g.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var h=process.version?process.version.match(/[0-9]+/g).map(function(a){return parseInt(a,10)}):[];0===h[0]&&12===h[1]&&(g.METHODS[16]="REPORT",g.METHODS[17]="MKACTIVITY",g.METHODS[18]="CHECKOUT",g.METHODS[19]="MERGE",g.METHODS[20]="M-SEARCH",g.METHODS[21]="NOTIFY",g.METHODS[22]="SUBSCRIBE",g.METHODS[23]="UNSUBSCRIBE",g.METHODS[24]="PATCH",g.METHODS[25]="PURGE"),g.prototype.isComplete=function(){return this._complete},g.prototype.parse=function(a){var b=this._parser.execute(a,0,a.length);if("number"!=typeof b){this.error=b,this._complete=!0;return}this._complete&&(this.body=b<a.length?a.slice(b):e.alloc(0))},b.exports=g},906073,(a,b,c)=>{"use strict";var d=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,e=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,f=RegExp(d.source+"(?:=(?:"+d.source+"|"+/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/.source+"))?"),g=RegExp(d.source+"(?: *; *"+f.source+")*","g"),h=RegExp("^"+g.source+"(?: *, *"+g.source+")*$"),i=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,j=Object.prototype.hasOwnProperty,k=function(){this._byName={},this._inOrder=[]};k.prototype.push=function(a,b){j.call(this._byName,a)||(this._byName[a]=[]),this._byName[a].push(b),this._inOrder.push({name:a,params:b})},k.prototype.eachOffer=function(a,b){for(var c=this._inOrder,d=0,e=c.length;d<e;d++)a.call(b,c[d].name,c[d].params)},k.prototype.byName=function(a){return this._byName[a]||[]},k.prototype.toArray=function(){return this._inOrder.slice()},b.exports={parseHeader:function(a){var b=new k;if(""===a||void 0===a)return b;if(!h.test(a))throw SyntaxError("Invalid Sec-WebSocket-Extensions header: "+a);return a.match(g).forEach(function(a){var c=a.match(RegExp(f.source,"g")),d=c.shift(),e={};c.forEach(function(a){var b,c=a.match(f),d=c[1];b=void 0!==c[2]?c[2]:void 0===c[3]||c[3].replace(/\\/g,""),i.test(b)&&(b=parseFloat(b)),j.call(e,d)?(e[d]=[].concat(e[d]),e[d].push(b)):e[d]=b},this),b.push(d,e)},this),b},serializeParams:function(a,b){var c=[],d=function(a,b){b instanceof Array?b.forEach(function(b){d(a,b)}):!0===b?c.push(a):"number"==typeof b?c.push(a+"="+b):e.test(b)?c.push(a+'="'+b.replace(/"/g,'\\"')+'"'):c.push(a+"="+b)};for(var f in b)d(f,b[f]);return[a].concat(c).join("; ")}}},721777,(a,b,c)=>{"use strict";var d=function(a){this._bufferSize=a,this.clear()};d.prototype.clear=function(){this._buffer=Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0},d.prototype.push=function(a){var b=!1,c=!1;this._ringSize<this._bufferSize?b=0===this._tail:this._ringOffset===this._ringSize&&(b=!0,c=0===this._tail),b&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(Array(this._bufferSize)),this._bufferSize=this._buffer.length,c&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=a,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},d.prototype.peek=function(){if(0!==this.length)return this._buffer[this._head]},d.prototype.shift=function(){if(0!==this.length){var a=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,0===this._ringOffset&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,a}},b.exports=d},176503,(a,b,c)=>{"use strict";var d=a.r(721777),e=function(a,b){this._session=a,this._method=b,this._queue=new d(e.QUEUE_SIZE),this._stopped=!1,this.pending=0};e.QUEUE_SIZE=8,e.prototype.call=function(a,b,c,d){if(!this._stopped){var e={error:a,message:b,callback:c,context:d,done:!1},f=!1,g=this;if(this._queue.push(e),e.error)return e.done=!0,this._stop(),this._flushQueue();var h=function(a,b){f^(f=!0)&&(a?(g._stop(),e.error=a,e.message=null):e.message=b,e.done=!0,g._flushQueue())};try{this._session[this._method](b,h)}catch(a){h(a)}}},e.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0},e.prototype._flushQueue=function(){for(var a,b=this._queue;b.length>0&&b.peek().done;)(a=b.shift()).error?(this.pending=0,b.clear()):this.pending-=1,a.callback.call(a.context,a.error,a.message)},b.exports=e},852681,(a,b,c)=>{"use strict";var d=a.r(721777),e=function(){this._complete=!1,this._callbacks=new d(e.QUEUE_SIZE)};e.QUEUE_SIZE=4,e.all=function(a){var b=new e,c=a.length,d=c;for(0===c&&b.done();d--;)a[d].then(function(){0==(c-=1)&&b.done()});return b},e.prototype.then=function(a){this._complete?a():this._callbacks.push(a)},e.prototype.done=function(){this._complete=!0;for(var a,b=this._callbacks;a=b.shift();)a()},b.exports=e},904698,(a,b,c)=>{"use strict";var d=a.r(176503),e=a.r(852681),f=function(a){this._ext=a[0],this._session=a[1],this._functors={incoming:new d(this._session,"processIncomingMessage"),outgoing:new d(this._session,"processOutgoingMessage")}};f.prototype.pending=function(a){var b=this._functors[a];b._stopped||(b.pending+=1)},f.prototype.incoming=function(a,b,c,d){this._exec("incoming",a,b,c,d)},f.prototype.outgoing=function(a,b,c,d){this._exec("outgoing",a,b,c,d)},f.prototype.close=function(){return this._closed=this._closed||new e,this._doClose(),this._closed},f.prototype._exec=function(a,b,c,d,e){this._functors[a].call(b,c,function(a,b){a&&(a.message=this._ext.name+": "+a.message),d.call(e,a,b),this._doClose()},this)},f.prototype._doClose=function(){var a=this._functors.incoming,b=this._functors.outgoing;this._closed&&a.pending+b.pending===0&&(this._session&&this._session.close(),this._session=null,this._closed.done())},b.exports=f},106239,(a,b,c)=>{"use strict";var d=a.r(904698),e=a.r(852681),f=function(a){this._cells=a.map(function(a){return new d(a)}),this._stopped={incoming:!1,outgoing:!1}};f.prototype.processIncomingMessage=function(a,b,c){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,a,b,c)},f.prototype.processOutgoingMessage=function(a,b,c){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,a,b,c)},f.prototype.close=function(a,b){this._stopped={incoming:!0,outgoing:!0};var c=this._cells.map(function(a){return a.close()});a&&e.all(c).then(function(){a.call(b)})},f.prototype._loop=function(a,b,c,d,e,f,g){for(var h=this._cells,i=h.length,j=this;i--;)h[i].pending(a);var k=function(b,e,i){if(b===c)return f.call(g,e,i);h[b][a](e,i,function(c,e){c&&(j._stopped[a]=!0),k(b+d,c,e)})};k(b,null,e)},b.exports=f},464081,(a,b,c)=>{"use strict";var d=a.r(906073),e=a.r(106239),f=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};f.MESSAGE_OPCODES=[1,2];var g={add:function(a){if("string"!=typeof a.name)throw TypeError("extension.name must be a string");if("permessage"!==a.type)throw TypeError('extension.type must be "permessage"');if("boolean"!=typeof a.rsv1)throw TypeError("extension.rsv1 must be true or false");if("boolean"!=typeof a.rsv2)throw TypeError("extension.rsv2 must be true or false");if("boolean"!=typeof a.rsv3)throw TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(a.name))throw TypeError('An extension with name "'+a.name+'" is already registered');this._byName[a.name]=a,this._inOrder.push(a)},generateOffer:function(){var a=[],b=[],c={};return this._inOrder.forEach(function(e){var f=e.createClientSession();if(f){var g=[e,f];a.push(g),c[e.name]=g;var h=f.generateOffer();(h=h?[].concat(h):[]).forEach(function(a){b.push(d.serializeParams(e.name,a))},this)}},this),this._sessions=a,this._index=c,b.length>0?b.join(", "):null},activate:function(a){var b=d.parseHeader(a),c=[];b.eachOffer(function(a,b){var e=this._index[a];if(!e)throw Error('Server sent an extension response for unknown extension "'+a+'"');var f=e[0],g=e[1],h=this._reserved(f);if(h)throw Error("Server sent two extension responses that use the RSV"+h[0]+' bit: "'+h[1]+'" and "'+f.name+'"');if(!0!==g.activate(b))throw Error("Server sent unacceptable extension parameters: "+d.serializeParams(a,b));this._reserve(f),c.push(e)},this),this._sessions=c,this._pipeline=new e(c)},generateResponse:function(a){var b=[],c=[],f=d.parseHeader(a);return this._inOrder.forEach(function(a){var e=f.byName(a.name);if(!(0===e.length||this._reserved(a))){var g=a.createServerSession(e);g&&(this._reserve(a),b.push([a,g]),c.push(d.serializeParams(a.name,g.generateResponse())))}},this),this._sessions=b,this._pipeline=new e(b),c.length>0?c.join(", "):null},validFrameRsv:function(a){var b,c={rsv1:!1,rsv2:!1,rsv3:!1};if(f.MESSAGE_OPCODES.indexOf(a.opcode)>=0)for(var d=0,e=this._sessions.length;d<e;d++)b=this._sessions[d][0],c.rsv1=c.rsv1||b.rsv1,c.rsv2=c.rsv2||b.rsv2,c.rsv3=c.rsv3||b.rsv3;return(c.rsv1||!a.rsv1)&&(c.rsv2||!a.rsv2)&&(c.rsv3||!a.rsv3)},processIncomingMessage:function(a,b,c){this._pipeline.processIncomingMessage(a,b,c)},processOutgoingMessage:function(a,b,c){this._pipeline.processOutgoingMessage(a,b,c)},close:function(a,b){if(!this._pipeline)return a.call(b);this._pipeline.close(a,b)},_reserve:function(a){this._rsv1=this._rsv1||a.rsv1&&a.name,this._rsv2=this._rsv2||a.rsv2&&a.name,this._rsv3=this._rsv3||a.rsv3&&a.name},_reserved:function(a){return this._rsv1&&a.rsv1?[1,this._rsv1]:this._rsv2&&a.rsv2?[2,this._rsv2]:!!this._rsv3&&!!a.rsv3&&[3,this._rsv3]}};for(var h in g)f.prototype[h]=g[h];b.exports=f},446256,(a,b,c)=>{"use strict";var d=function(){},e={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var f in e)d.prototype[f]=e[f];b.exports=d},355887,(a,b,c)=>{"use strict";var d=a.r(674898).Buffer,e=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},f={read:function(){return this.data=this.data||d.concat(this._chunks,this.length)},pushFrame:function(a){this.rsv1=this.rsv1||a.rsv1,this.rsv2=this.rsv2||a.rsv2,this.rsv3=this.rsv3||a.rsv3,null===this.opcode&&(this.opcode=a.opcode),this._chunks.push(a.payload),this.length+=a.length}};for(var g in f)e.prototype[g]=f[g];b.exports=e},117737,(a,b,c)=>{"use strict";var d=a.r(674898).Buffer,e=a.r(254799),f=a.r(224361),g=a.r(464081),h=a.r(930145),i=a.r(446256),j=a.r(355887),k=function(a,b,c){if(h.apply(this,arguments),this._extensions=new g,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},"string"==typeof this._protocols&&(this._protocols=this._protocols.split(/ *, */)),this._request){var d=this._request.headers["sec-websocket-protocol"],e=this._protocols;void 0!==d&&("string"==typeof d&&(d=d.split(/ *, */)),this.protocol=d.filter(function(a){return e.indexOf(a)>=0})[0]),this.version="hybi-"+k.VERSION}};f.inherits(k,h),k.VERSION="13",k.mask=function(a,b,c){if(!b||0===b.length)return a;c=c||0;for(var d=0,e=a.length-c;d<e;d++)a[c+d]=a[c+d]^b[d%4];return a},k.generateAccept=function(a){var b=e.createHash("sha1");return b.update(a+k.GUID),b.digest("base64")},k.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var l={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(a){return this._extensions.add(a),!0},parse:function(a){this._reader.put(a);for(var b=!0;b;)switch(this._stage){case 0:(b=this._reader.read(1))&&this._parseOpcode(b[0]);break;case 1:(b=this._reader.read(1))&&this._parseLength(b[0]);break;case 2:(b=this._reader.read(this._frame.lengthBytes))&&this._parseExtendedLength(b);break;case 3:(b=this._reader.read(4))&&(this._stage=4,this._frame.maskingKey=b);break;case 4:(b=this._reader.read(this._frame.length))&&(this._stage=0,this._emitFrame(b));break;default:b=null}},text:function(a){return!(this.readyState>1)&&this.frame(a,"text")},binary:function(a){return!(this.readyState>1)&&this.frame(a,"binary")},ping:function(a,b){return!(this.readyState>1)&&(a=a||"",b&&(this._pingCallbacks[a]=b),this.frame(a,"ping"))},pong:function(a){return!(this.readyState>1)&&(a=a||"",this.frame(a,"pong"))},close:function(a,b){return(a=a||"",b=b||this.ERRORS.normal_closure,this.readyState<=0)?(this.readyState=3,this.emit("close",new h.CloseEvent(b,a)),!0):1===this.readyState&&(this.readyState=2,this._extensions.close(function(){this.frame(a,"close",b)},this),!0)},frame:function(a,b,c){if(this.readyState<=0)return this._queue([a,b,c]);if(this.readyState>2)return!1;a instanceof Array&&(a=d.from(a)),"number"==typeof a&&(a=a.toString());var f,g,h=new j,k="string"==typeof a;h.rsv1=h.rsv2=h.rsv3=!1,h.opcode=this.OPCODES[b||(k?"text":"binary")],f=k?d.from(a,"utf8"):a,c&&(g=f,(f=d.allocUnsafe(2+g.length)).writeUInt16BE(c,0),g.copy(f,2)),h.data=f;var l=function(a){var b=new i;b.final=!0,b.rsv1=a.rsv1,b.rsv2=a.rsv2,b.rsv3=a.rsv3,b.opcode=a.opcode,b.masked=!!this._masking,b.length=a.data.length,b.payload=a.data,b.masked&&(b.maskingKey=e.randomBytes(4)),this._sendFrame(b)};return this.MESSAGE_OPCODES.indexOf(h.opcode)>=0?this._extensions.processOutgoingMessage(h,function(a,b){if(a)return this._fail("extension_error",a.message);l.call(this,b)},this):l.call(this,h),!0},_sendFrame:function(a){var b=a.length,c=b<=125?2:b<=65535?4:10,e=c+4*!!a.masked,f=d.allocUnsafe(e+b),g=a.masked?this.MASK:0;f[0]=(a.final?this.FIN:0)|(a.rsv1?this.RSV1:0)|(a.rsv2?this.RSV2:0)|(a.rsv3?this.RSV3:0)|a.opcode,b<=125?f[1]=g|b:b<=65535?(f[1]=126|g,f.writeUInt16BE(b,2)):(f[1]=127|g,f.writeUInt32BE(Math.floor(b/0x100000000),2),f.writeUInt32BE(b%0x100000000,6)),a.payload.copy(f,e),a.masked&&(a.maskingKey.copy(f,c),k.mask(f,a.maskingKey,e)),this._write(f)},_handshakeResponse:function(){var a=this._request.headers["sec-websocket-key"],b=this._request.headers["sec-websocket-version"];if(b!==k.VERSION)throw Error("Unsupported WebSocket version: "+b);if("string"!=typeof a)throw Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",k.generateAccept(a)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var c=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);c&&this._headers.set("Sec-WebSocket-Extensions",c);var e=["HTTP/1.1 101 Switching Protocols",this._headers.toString(),""];return d.from(e.join("\r\n"),"utf8")},_shutdown:function(a,b,c){delete this._frame,delete this._message,this._stage=5;var d=1===this.readyState;this.readyState=2,this._extensions.close(function(){d&&this.frame(b,"close",a),this.readyState=3,c&&this.emit("error",Error(b)),this.emit("close",new h.CloseEvent(a,b))},this)},_fail:function(a,b){this.readyState>1||this._shutdown(this.ERRORS[a],b,!0)},_parseOpcode:function(a){var b=[this.RSV1,this.RSV2,this.RSV3].map(function(b){return(a&b)===b}),c=this._frame=new i;return(c.final=(a&this.FIN)===this.FIN,c.rsv1=b[0],c.rsv2=b[1],c.rsv3=b[2],c.opcode=a&this.OPCODE,this._stage=1,this._extensions.validFrameRsv(c))?0>this.OPCODE_CODES.indexOf(c.opcode)?this._fail("protocol_error","Unrecognized frame opcode: "+c.opcode):0>this.MESSAGE_OPCODES.indexOf(c.opcode)&&!c.final?this._fail("protocol_error","Received fragmented control frame: opcode = "+c.opcode):this._message&&this.OPENING_OPCODES.indexOf(c.opcode)>=0?this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished"):void 0:this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+ +!!c.rsv1+", reserved2 = "+ +!!c.rsv2+", reserved3 = "+ +!!c.rsv3)},_parseLength:function(a){var b=this._frame;if(b.masked=(a&this.MASK)===this.MASK,b.length=a&this.LENGTH,b.length>=0&&b.length<=125){if(this._stage=b.masked?3:4,!this._checkFrameLength())return}else this._stage=2,b.lengthBytes=126===b.length?2:8;if(this._requireMasking&&!b.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(a){var b=this._frame;if(b.length=this._readUInt(a),this._stage=b.masked?3:4,0>this.MESSAGE_OPCODES.indexOf(b.opcode)&&b.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+b.length);if(!this._checkFrameLength())return},_checkFrameLength:function(){return!((this._message?this._message.length:0)+this._frame.length>this._maxLength)||(this._fail("too_large","WebSocket frame length too large"),!1)},_emitFrame:function(a){var b,c,d,e,f,g=this._frame,i=g.payload=k.mask(a,g.maskingKey),l=g.opcode;if(delete this._frame,l===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(g)}if((l===this.OPCODES.text||l===this.OPCODES.binary)&&(this._message=new j,this._message.pushFrame(g)),g.final&&this.MESSAGE_OPCODES.indexOf(l)>=0)return this._emitMessage(this._message);l===this.OPCODES.close&&(c=i.length>=2?i.readUInt16BE(0):null,d=i.length>2?this._encode(i.slice(2)):null,0!==i.length&&!(null!==c&&c>=this.MIN_RESERVED_ERROR&&c<=this.MAX_RESERVED_ERROR)&&0>this.ERROR_CODES.indexOf(c)&&(c=this.ERRORS.protocol_error),(i.length>125||i.length>2&&!d)&&(c=this.ERRORS.protocol_error),this._shutdown(c||this.DEFAULT_ERROR_CODE,d||"")),l===this.OPCODES.ping&&(this.frame(i,"pong"),this.emit("ping",new h.PingEvent(i.toString()))),l===this.OPCODES.pong&&(f=(e=this._pingCallbacks)[b=this._encode(i)],delete e[b],f&&f(),this.emit("pong",new h.PongEvent(i.toString())))},_emitMessage:function(a){var a=this._message;a.read(),delete this._message,this._extensions.processIncomingMessage(a,function(a,b){if(a)return this._fail("extension_error",a.message);var c=b.data;if(b.opcode===this.OPCODES.text&&(c=this._encode(c)),null===c)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new h.MessageEvent(c))},this)},_encode:function(a){try{var b=a.toString("binary",0,a.length);if(!this.UTF8_MATCH.test(b))return null}catch(a){}return a.toString("utf8",0,a.length)},_readUInt:function(a){return 2===a.length?a.readUInt16BE(0):0x100000000*a.readUInt32BE(0)+a.readUInt32BE(4)}};for(var m in l)k.prototype[m]=l[m];b.exports=k},827520,(a,b,c)=>{"use strict";var d=a.r(674898).Buffer,e=a.r(688947).Stream,f=a.r(792509),g=a.r(224361),h=a.r(930145),i=a.r(786562),j=a.r(334867),k={"ws:":80,"wss:":443},l=function(a,b,c){this._client=a,this._http=new j("response"),this._origin="object"==typeof a.url?a.url:f.parse(a.url),this._url="object"==typeof b?b:f.parse(b),this._options=c||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new i,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var e=this._url.auth&&d.from(this._url.auth,"utf8").toString("base64");e&&this._headers.set("Proxy-Authorization","Basic "+e)};g.inherits(l,e);var m={setHeader:function(a,b){return 0===this._state&&(this._headers.set(a,b),!0)},start:function(){if(0!==this._state)return!1;this._state=1;var a=this._origin,b=a.port||k[a.protocol],c=["CONNECT "+a.hostname+":"+b+" HTTP/1.1",this._headers.toString(),""];return this.emit("data",d.from(c.join("\r\n"),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(a){if(!this.writable)return!1;if(this._http.parse(a),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,200===this.statusCode)this.emit("connect",new h.ConnectEvent);else{var b="Can't establish a connection to the server at "+this._origin.href;this.emit("error",Error(b))}return this.end(),!this._paused},end:function(a){this.writable&&(void 0!==a&&this.write(a),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(var n in m)l.prototype[n]=m[n];b.exports=l},617737,(a,b,c)=>{"use strict";var d=a.r(674898).Buffer,e=a.r(254799),f=a.r(792509),g=a.r(224361),h=a.r(334867),i=a.r(930145),j=a.r(117737),k=a.r(827520),l=function(a,b){this.version="hybi-"+j.VERSION,j.call(this,null,a,b),this.readyState=-1,this._key=l.generateKey(),this._accept=j.generateAccept(this._key),this._http=new h("response");var c=f.parse(this.url),e=c.auth&&d.from(c.auth,"utf8").toString("base64");if(0>this.VALID_PROTOCOLS.indexOf(c.protocol))throw Error(this.url+" is not a valid WebSocket URL");this._pathname=(c.pathname||"/")+(c.search||""),this._headers.set("Host",c.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",j.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),e&&this._headers.set("Authorization","Basic "+e)};g.inherits(l,j),l.generateKey=function(){return e.randomBytes(16).toString("base64")};var m={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(a,b){return new k(this,a,b)},start:function(){return -1===this.readyState&&(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(a){if(3!==this.readyState){if(this.readyState>0)return j.prototype.parse.call(this,a);this._http.parse(a),this._http.isComplete()&&(this._validateHandshake(),3!==this.readyState&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var a=this._extensions.generateOffer();a&&this._headers.set("Sec-WebSocket-Extensions",a);var b=["GET "+this._pathname+" HTTP/1.1",this._headers.toString(),""];return d.from(b.join("\r\n"),"utf8")},_failHandshake:function(a){a="Error during WebSocket handshake: "+a,this.readyState=3,this.emit("error",Error(a)),this.emit("close",new i.CloseEvent(this.ERRORS.protocol_error,a))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(101!==this._http.statusCode)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var a=this._http.headers,b=a.upgrade||"",c=a.connection||"",d=a["sec-websocket-accept"]||"",e=a["sec-websocket-protocol"]||"";if(""===b)return this._failHandshake("'Upgrade' header is missing");if("websocket"!==b.toLowerCase())return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(""===c)return this._failHandshake("'Connection' header is missing");if("upgrade"!==c.toLowerCase())return this._failHandshake("'Connection' header value is not 'Upgrade'");if(d!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,""!==e)if(0>this._protocols.indexOf(e))return this._failHandshake("Sec-WebSocket-Protocol mismatch");else this.protocol=e;try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(a){return this._failHandshake(a.message)}}};for(var n in m)l.prototype[n]=m[n];b.exports=l},810950,(a,b,c)=>{"use strict";var d=a.r(674898).Buffer,e=a.r(930145),f=a.r(224361),g=function(a,b,c){e.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};f.inherits(g,e);var h={close:function(){return 3!==this.readyState&&(this.readyState=3,this.emit("close",new e.CloseEvent(null,null)),!0)},parse:function(a){this.readyState>1||(this._reader.put(a),this._reader.eachByte(function(a){var b;switch(this._stage){case -1:this._body.push(a),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(a);break;case 1:if(this._length=(127&a)+128*this._length,this._closing&&0===this._length)return this.close();(128&a)!=128&&(0===this._length?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(255===a)this._stage=0,b=d.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new e.MessageEvent(b));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(a),this._buffer.length>this._maxLength)return this.close()}},this))},frame:function(a){if(0===this.readyState)return this._queue([a]);if(this.readyState>1)return!1;"string"!=typeof a&&(a=a.toString());var b=d.byteLength(a),c=d.allocUnsafe(b+2);return c[0]=0,c.write(a,1),c[c.length-1]=255,this._write(c),!0},_handshakeResponse:function(){var a=["HTTP/1.1 101 Web Socket Protocol Handshake",this._headers.toString(),""];return d.from(a.join("\r\n"),"utf8")},_parseLeadingByte:function(a){(128&a)==128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(var i in h)g.prototype[i]=h[i];b.exports=g},861123,(a,b,c)=>{"use strict";var d=a.r(674898).Buffer,e=a.r(930145),f=a.r(810950),g=a.r(254799),h=a.r(224361),i=function(a){return parseInt((a.match(/[0-9]/g)||[]).join(""),10)},j=function(a){return(a.match(/ /g)||[]).length},k=function(a,b,c){f.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};h.inherits(k,f);var l={BODY_SIZE:8,start:function(){return!!f.prototype.start.call(this)&&(this._started=!0,this._sendHandshakeBody(),!0)},close:function(){return 3!==this.readyState&&(1===this.readyState&&this._write(d.from([255,0])),this.readyState=3,this.emit("close",new e.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var a=this._request.headers,b=a["sec-websocket-key1"],c=a["sec-websocket-key2"];if(!b)throw Error("Missing required header: Sec-WebSocket-Key1");if(!c)throw Error("Missing required header: Sec-WebSocket-Key2");var e=i(b),f=j(b),g=i(c),h=j(c);if(e%f!=0||g%h!=0)throw Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[e/f,g/h];var a=["HTTP/1.1 101 WebSocket Protocol Handshake",this._headers.toString(),""];return d.from(a.join("\r\n"),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var a=g.createHash("md5"),b=d.allocUnsafe(8+this.BODY_SIZE);return b.writeUInt32BE(this._keyValues[0],0),b.writeUInt32BE(this._keyValues[1],4),d.from(this._body).copy(b,8,0,this.BODY_SIZE),a.update(b),d.from(a.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var a=this._handshakeSignature();a&&(this._write(a),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(a){if(255!==a)return f.prototype._parseLeadingByte.call(this,a);this._closing=!0,this._length=0,this._stage=1}};for(var m in l)k.prototype[m]=l[m];b.exports=k},289048,(a,b,c)=>{"use strict";var d=a.r(224361),e=a.r(334867),f=a.r(930145),g=a.r(810950),h=a.r(861123),i=a.r(117737),j=function(a){f.call(this,null,null,a),this._http=new e("request")};d.inherits(j,f);var k={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(a){if(this._delegate)return this._delegate.parse(a);if(this._http.parse(a),this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var b=this;this._delegate=j.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(a){this._delegate.on(a,function(c){b.emit(a,c)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new f.ConnectEvent)}},_open:function(){this.__queue.forEach(function(a){this._delegate[a[0]].apply(this._delegate,a[1])},this),this.__queue=[]}};for(var l in["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(a){k[a]=function(){return this._delegate?this._delegate[a].apply(this._delegate,arguments):(this.__queue.push([a,arguments]),!0)}}),k)j.prototype[l]=k[l];j.isSecureRequest=function(a){if(a.connection&&void 0!==a.connection.authorized||a.socket&&a.socket.secure)return!0;var b=a.headers;return!!b&&("on"===b.https||"on"===b["x-forwarded-ssl"]||"https"===b["x-forwarded-scheme"]||"https"===b["x-forwarded-proto"])},j.determineUrl=function(a){return(this.isSecureRequest(a)?"wss:":"ws:")+"//"+a.headers.host+a.url},j.http=function(a,b){void 0===(b=b||{}).requireMasking&&(b.requireMasking=!0);var c=a.headers,d=c["sec-websocket-version"],e=c["sec-websocket-key"],f=c["sec-websocket-key1"],j=c["sec-websocket-key2"],k=this.determineUrl(a);return d||e?new i(a,k,b):f||j?new h(a,k,b):new g(a,k,b)},b.exports=j},738398,(a,b,c)=>{"use strict";var d=a.r(930145),e=a.r(617737),f=a.r(289048);b.exports={client:function(a,b){return void 0===(b=b||{}).masking&&(b.masking=!0),new e(a,b)},server:function(a){return void 0===(a=a||{}).requireMasking&&(a.requireMasking=!0),new f(a)},http:function(){return f.http.apply(f,arguments)},isSecureRequest:function(a){return f.isSecureRequest(a)},isWebSocket:function(a){return d.isWebSocket(a)},validateOptions:function(a,b){d.validateOptions(a,b)}}},859808,(a,b,c)=>{"use strict";var d=function(a,b){for(var c in this.type=a,b)this[c]=b[c]};d.prototype.initEvent=function(a,b,c){this.type=a,this.bubbles=b,this.cancelable=c},d.prototype.stopPropagation=function(){},d.prototype.preventDefault=function(){},d.CAPTURING_PHASE=1,d.AT_TARGET=2,d.BUBBLING_PHASE=3,b.exports=d},401738,(a,b,c)=>{"use strict";var d=a.r(859808);b.exports={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(a,b,c){this.on(a,b)},removeEventListener:function(a,b,c){this.removeListener(a,b)},dispatchEvent:function(a){a.target=a.currentTarget=this,a.eventPhase=d.AT_TARGET,this["on"+a.type]&&this["on"+a.type](a),this.emit(a.type,a)}}},379136,(a,b,c)=>{"use strict";var d=a.r(688947).Stream,e=a.r(224361),f=a.r(738398),g=a.r(401738),h=a.r(859808),i=function(a){a=a||{},f.validateOptions(a,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var b=a.headers;if(b)for(var c in b)this._driver.setHeader(c,b[c]);var d=a.extensions;d&&[].concat(d).forEach(this._driver.addExtension,this._driver),this._ping=a.ping,this._pingId=0,this.readyState=i.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var e=this;this._driver.on("open",function(a){e._open()}),this._driver.on("message",function(a){e._receiveMessage(a.data)}),this._driver.on("close",function(a){e._beginClose(a.reason,a.code)}),this._driver.on("error",function(a){e._emitError(a.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){e.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){e._pingId+=1,e.ping(e._pingId.toString())},1e3*this._ping)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};e.inherits(i,d),i.CONNECTING=0,i.OPEN=1,i.CLOSING=2,i.CLOSED=3,i.CLOSE_TIMEOUT=3e4;var j={write:function(a){return this.send(a)},end:function(a){void 0!==a&&this.send(a),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(a){return!(this.readyState>i.OPEN)&&(a instanceof Buffer||(a=String(a)),this._driver.messages.write(a))},ping:function(a,b){return!(this.readyState>i.OPEN)&&this._driver.ping(a,b)},close:function(a,b){if(void 0===a&&(a=1e3),void 0===b&&(b=""),1e3!==a&&(a<3e3||a>4999))throw Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+a+" is neither.");if(this.readyState<i.CLOSING){var c=this;this._closeTimer=setTimeout(function(){c._beginClose("",1006)},i.CLOSE_TIMEOUT)}this.readyState!==i.CLOSED&&(this.readyState=i.CLOSING),this._driver.close(b,a)},_configureStream:function(){var a=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(b){this._stream.on(b,function(){a._finalizeClose()})},this),this._stream.on("error",function(b){a._emitError("Network error: "+a.url+": "+b.message),a._finalizeClose()})},_open:function(){if(this.readyState===i.CONNECTING){this.readyState=i.OPEN,this.protocol=this._driver.protocol||"";var a=new h("open");a.initEvent("open",!1,!1),this.dispatchEvent(a)}},_receiveMessage:function(a){if(this.readyState>i.OPEN)return!1;this.readable&&this.emit("data",a);var b=new h("message",{data:a});b.initEvent("message",!1,!1),this.dispatchEvent(b)},_emitError:function(a){if(!(this.readyState>=i.CLOSING)){var b=new h("error",{message:a});b.initEvent("error",!1,!1),this.dispatchEvent(b)}},_beginClose:function(a,b){this.readyState!==i.CLOSED&&(this.readyState=i.CLOSING,this._closeParams=[a,b],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==i.CLOSED){this.readyState=i.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var a=this._closeParams?this._closeParams[0]:"",b=new h("close",{code:this._closeParams?this._closeParams[1]:1006,reason:a});b.initEvent("close",!1,!1),this.dispatchEvent(b)}}};for(var k in j)i.prototype[k]=j[k];for(var l in g)i.prototype[l]=g[l];b.exports=i},504446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},755004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},785053,(a,b,c)=>{"use strict";var d=a.r(224361),e=a.r(504446),f=a.r(755004),g=a.r(792509),h=a.r(738398),i=a.r(379136);a.r(859808);var j={"http:":80,"https:":443,"ws:":80,"wss:":443},k=["https:","wss:"],l=function(a,b,c){c=c||{},this.url=a,this._driver=h.client(this.url,{maxLength:c.maxLength,protocols:b}),["open","error"].forEach(function(a){this._driver.on(a,function(){s.headers=s._driver.headers,s.statusCode=s._driver.statusCode})},this);var d=c.proxy||{},l=g.parse(d.origin||this.url),m=l.port||j[l.protocol],n=k.indexOf(l.protocol)>=0,o=function(){s._onConnect()},p=c.net||{},q=c.tls||{},r=d.origin?d.tls||{}:q,s=this;p.host=r.host=l.hostname,p.port=r.port=m,q.ca=q.ca||c.ca,r.servername=r.servername||l.hostname,this._stream=n?f.connect(r,o):e.connect(p,o),d.origin&&this._configureProxy(d,q),i.call(this,c)};d.inherits(l,i),l.prototype._onConnect=function(){(this._proxy||this._driver).start()},l.prototype._configureProxy=function(a,b){var c,d=g.parse(this.url),e=k.indexOf(d.protocol)>=0,h=this;if(this._proxy=this._driver.proxy(a.origin),a.headers)for(c in a.headers)this._proxy.setHeader(c,a.headers[c]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(e){var a={socket:h._stream,servername:d.hostname};for(c in b)a[c]=b[c];h._stream=f.connect(a),h._configureStream()}h._driver.io.pipe(h._stream),h._stream.pipe(h._driver.io),h._driver.start()}),this._proxy.on("error",function(a){h._driver.emit("error",a)})},b.exports=l},492173,(a,b,c)=>{"use strict";var d=a.r(688947).Stream,e=a.r(224361),f=a.r(738398),g=a.r(786562),h=a.r(379136),i=a.r(401738),j=a.r(859808),k=function(a,b,c){this.writable=!0,c=c||{},this._stream=b.socket,this._ping=c.ping||this.DEFAULT_PING,this._retry=c.retry||this.DEFAULT_RETRY;var d=f.isSecureRequest(a)?"https:":"http:";this.url=d+"//"+a.headers.host+a.url,this.lastEventId=a.headers["last-event-id"]||"",this.readyState=h.CONNECTING;var e=new g,i=this;if(c.headers)for(var j in c.headers)e.set(j,c.headers[j]);if(this._stream&&this._stream.writable){process.nextTick(function(){i._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var k="HTTP/1.1 200 OK\r\nContent-Type: text/event-stream\r\nCache-Control: no-cache, no-store\r\nConnection: close\r\n"+e.toString()+"\r\nretry: "+Math.floor(1e3*this._retry)+"\r\n\r\n";this._write(k),this._stream.on("drain",function(){i.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){i.ping()},1e3*this._ping)),["error","end"].forEach(function(a){i._stream.on(a,function(){i.close()})})}};e.inherits(k,d),k.isEventSource=function(a){return"GET"===a.method&&(a.headers.accept||"").split(/\s*,\s*/).indexOf("text/event-stream")>=0};var l={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(a){if(!this.writable)return!1;try{return this._stream.write(a,"utf8")}catch(a){return!1}},_open:function(){if(this.readyState===h.CONNECTING){this.readyState=h.OPEN;var a=new j("open");a.initEvent("open",!1,!1),this.dispatchEvent(a)}},write:function(a){return this.send(a)},end:function(a){void 0!==a&&this.write(a),this.close()},send:function(a,b){if(this.readyState>h.OPEN)return!1;a=String(a).replace(/(\r\n|\r|\n)/g,"$1data: ");var c="";return(b=b||{}).event&&(c+="event: "+b.event+"\r\n"),b.id&&(c+="id: "+b.id+"\r\n"),c+="data: "+a+"\r\n\r\n",this._write(c)},ping:function(){return this._write(":\r\n\r\n")},close:function(){if(this.readyState>h.OPEN)return!1;this.readyState=h.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var a=new j("close");return a.initEvent("close",!1,!1),this.dispatchEvent(a),!0}};for(var m in l)k.prototype[m]=l[m];for(var n in i)k.prototype[n]=i[n];b.exports=k},347760,(a,b,c)=>{"use strict";var d=a.r(224361),e=a.r(738398),f=a.r(379136),g=function(a,b,c,d,g){g=g||{},this._stream=b,this._driver=e.http(a,{maxLength:g.maxLength,protocols:d});var h=this;if(this._stream&&this._stream.writable){if(!this._stream.readable)return this._stream.end();var i=function(){h._stream.removeListener("data",i)};this._stream.on("data",i),f.call(this,g),process.nextTick(function(){h._driver.start(),h._driver.io.write(c)})}};d.inherits(g,f),g.isWebSocket=function(a){return e.isWebSocket(a)},g.validateOptions=function(a,b){e.validateOptions(a,b)},g.WebSocket=g,g.Client=a.r(785053),g.EventSource=a.r(492173),b.exports=g},746514,(a,b,c)=>{b.exports=a.r(347760).Client},300861,(a,b,c)=>{"use strict";var d=a.r(847087),e=a.r(283296),f=a.r(518919),g=a.r(427699).EventEmitter,h=a.r(746514),i=function(){};function j(a,b,c){if(!j.enabled())throw Error("Transport created when disabled");g.call(this),i("constructor",a);var f=this,k=e.addPath(a,"/websocket");k="https"===k.slice(0,5)?"wss"+k.slice(5):"ws"+k.slice(4),this.url=k,this.ws=new h(this.url,[],c),this.ws.onmessage=function(a){i("message event",a.data),f.emit("message",a.data)},this.unloadRef=d.unloadAdd(function(){i("unload"),f.ws.close()}),this.ws.onclose=function(a){i("close event",a.code,a.reason),f.emit("close",a.code,a.reason),f._cleanup()},this.ws.onerror=function(a){i("error event",a),f.emit("close",1006,"WebSocket connection broken"),f._cleanup()}}f(j,g),j.prototype.send=function(a){var b="["+a+"]";i("send",b),this.ws.send(b)},j.prototype.close=function(){i("close");var a=this.ws;this._cleanup(),a&&a.close()},j.prototype._cleanup=function(){i("_cleanup");var a=this.ws;a&&(a.onmessage=a.onclose=a.onerror=null),d.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},j.enabled=function(){return i("enabled"),!!h},j.transportName="websocket",j.roundTrips=2,b.exports=j},299075,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(427699).EventEmitter,f=function(){};function g(a,b){f(a),e.call(this),this.sendBuffer=[],this.sender=b,this.url=a}d(g,e),g.prototype.send=function(a){f("send",a),this.sendBuffer.push(a),this.sendStop||this.sendSchedule()},g.prototype.sendScheduleWait=function(){f("sendScheduleWait");var a,b=this;this.sendStop=function(){f("sendStop"),b.sendStop=null,clearTimeout(a)},a=setTimeout(function(){f("timeout"),b.sendStop=null,b.sendSchedule()},25)},g.prototype.sendSchedule=function(){f("sendSchedule",this.sendBuffer.length);var a=this;if(this.sendBuffer.length>0){var b="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,b,function(b){a.sendStop=null,b?(f("error",b),a.emit("close",b.code||1006,"Sending error: "+b),a.close()):a.sendScheduleWait()}),this.sendBuffer=[]}},g.prototype._cleanup=function(){f("_cleanup"),this.removeAllListeners()},g.prototype.close=function(){f("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},b.exports=g},562372,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(427699).EventEmitter,f=function(){};function g(a,b,c){f(b),e.call(this),this.Receiver=a,this.receiveUrl=b,this.AjaxObject=c,this._scheduleReceiver()}d(g,e),g.prototype._scheduleReceiver=function(){f("_scheduleReceiver");var a=this,b=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);b.on("message",function(b){f("message",b),a.emit("message",b)}),b.once("close",function(c,d){f("close",c,d,a.pollIsClosing),a.poll=b=null,a.pollIsClosing||("network"===d?a._scheduleReceiver():(a.emit("close",c||1006,d),a.removeAllListeners()))})},g.prototype.abort=function(){f("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},b.exports=g},357258,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(283296),f=a.r(299075),g=a.r(562372),h=function(){};function i(a,b,c,d,i){var j=e.addPath(a,b);h(j);var k=this;f.call(this,a,c),this.poll=new g(d,j,i),this.poll.on("message",function(a){h("poll message",a),k.emit("message",a)}),this.poll.once("close",function(a,b){h("poll close",a,b),k.poll=null,k.emit("close",a,b),k.close()})}d(i,f),i.prototype.close=function(){f.prototype.close.call(this),h("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},b.exports=i},768111,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(283296),f=a.r(357258),g=function(){};function h(a,b,c,d){f.call(this,a,b,function(a,b,c){g("create ajax sender",a,b);var f={};"string"==typeof b&&(f.headers={"Content-type":"text/plain"});var h=new d("POST",e.addPath(a,"/xhr_send"),b,f);return h.once("finish",function(a){if(g("finish",a),h=null,200!==a&&204!==a)return c(Error("http status "+a));c()}),function(){g("abort"),h.close(),h=null;var a=Error("Aborted");a.code=1e3,c(a)}},c,d)}d(h,f),b.exports=h},988118,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(427699).EventEmitter,f=function(){};function g(a,b){f(a),e.call(this);var c=this;this.bufferPosition=0,this.xo=new b("POST",a,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(a,b){f("finish",a,b),c._chunkHandler(a,b),c.xo=null;var d=200===a?"network":"permanent";f("close",d),c.emit("close",null,d),c._cleanup()})}d(g,e),g.prototype._chunkHandler=function(a,b){if(f("_chunkHandler",a),200===a&&b)for(var c=-1;;this.bufferPosition+=c+1){var d=b.slice(this.bufferPosition);if(-1===(c=d.indexOf("\n")))break;var e=d.slice(0,c);e&&(f("message",e),this.emit("message",e))}},g.prototype._cleanup=function(){f("_cleanup"),this.removeAllListeners()},g.prototype.abort=function(){f("abort"),this.xo&&(this.xo.close(),f("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},b.exports=g},982190,(a,b,c)=>{"use strict";var d=a.r(427699).EventEmitter,e=a.r(518919),f=a.r(921517),g=a.r(524836),h=a.r(832804),i=function(){};function j(a,b,c,e){i(a,b,c);var j=this;d.call(this);var k=new h(b),l={method:a,hostname:k.hostname.replace(/\[|\]/g,""),port:k.port,path:k.pathname+(k.query||""),headers:e&&e.headers},m="https:"===k.protocol?g:f;this.req=m.request(l,function(a){a.setEncoding("utf8");var b="";a.on("data",function(a){i("data",a),b+=a,j.emit("chunk",200,b)}),a.once("end",function(){i("end"),j.emit("finish",a.statusCode,b),j.req=null})}),this.req.on("error",function(a){i("error",a),j.emit("finish",0,a.message)}),c&&this.req.write(c),this.req.end()}e(j,d),j.prototype.close=function(){i("close"),this.removeAllListeners(),this.req&&(this.req.abort(),this.req=null)},j.enabled=!0,j.supportsCORS=!0,b.exports=j},184098,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(982190);function f(a,b,c,d){e.call(this,a,b,c,d)}d(f,e),f.enabled=e.enabled&&e.supportsCORS,b.exports=f},65671,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(982190);function f(a,b,c){e.call(this,a,b,c,{noCredentials:!0})}d(f,e),f.enabled=e.enabled,b.exports=f},472509,(a,b,c)=>{"use strict";b.exports={isOpera:function(){return a.g.navigator&&/opera/i.test(a.g.navigator.userAgent)},isKonqueror:function(){return a.g.navigator&&/konqueror/i.test(a.g.navigator.userAgent)},hasDomain:function(){if(!a.g.document)return!0;try{return!!a.g.document.domain}catch(a){return!1}}}},731008,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(768111),f=a.r(988118),g=a.r(184098),h=a.r(65671),i=a.r(472509);function j(a){if(!h.enabled&&!g.enabled)throw Error("Transport created when disabled");e.call(this,a,"/xhr_streaming",f,g)}d(j,e),j.enabled=function(a){return!(a.nullOrigin||i.isOpera())&&g.enabled},j.transportName="xhr-streaming",j.roundTrips=2,j.needBody=!!a.g.document,b.exports=j},503524,(a,b,c)=>{"use strict";var d=a.r(427699).EventEmitter,e=a.r(518919),f=a.r(847087),g=a.r(472509),h=a.r(283296),i=function(){};function j(a,b,c){i(a,b);var e=this;d.call(this),setTimeout(function(){e._start(a,b,c)},0)}e(j,d),j.prototype._start=function(b,c,d){i("_start");var e=this,g=new a.g.XDomainRequest;c=h.addQuery(c,"t="+ +new Date),g.onerror=function(){i("onerror"),e._error()},g.ontimeout=function(){i("ontimeout"),e._error()},g.onprogress=function(){i("progress",g.responseText),e.emit("chunk",200,g.responseText)},g.onload=function(){i("load"),e.emit("finish",200,g.responseText),e._cleanup(!1)},this.xdr=g,this.unloadRef=f.unloadAdd(function(){e._cleanup(!0)});try{this.xdr.open(b,c),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(d)}catch(a){this._error()}},j.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},j.prototype._cleanup=function(a){if(i("cleanup",a),this.xdr){if(this.removeAllListeners(),f.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,a)try{this.xdr.abort()}catch(a){}this.unloadRef=this.xdr=null}},j.prototype.close=function(){i("close"),this._cleanup(!0)},j.enabled=!!(a.g.XDomainRequest&&g.hasDomain()),b.exports=j},552545,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(768111),f=a.r(988118),g=a.r(503524);function h(a){if(!g.enabled)throw Error("Transport created when disabled");e.call(this,a,"/xhr_streaming",f,g)}d(h,e),h.enabled=function(a){return!a.cookie_needed&&!a.nullOrigin&&g.enabled&&a.sameScheme},h.transportName="xdr-streaming",h.roundTrips=2,b.exports=h},308481,(a,b,c)=>{var d=a.r(792509).parse,e=a.r(427699),f=a.r(524836),g=a.r(921517),h=a.r(224361),i=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],j=[239,187,191],k=/^(cookie|authorization)$/i;function l(a,b){var c,e=l.CONNECTING,h=b&&b.headers,o=!1;Object.defineProperty(this,"readyState",{get:function(){return e}}),Object.defineProperty(this,"url",{get:function(){return a}});var p=this;function q(b){e!==l.CLOSED&&(e=l.CONNECTING,x("error",new m("error",{message:b})),v&&(a=v,v=null,o=!1),setTimeout(function(){e!==l.CONNECTING||p.connectionInProgress||(p.connectionInProgress=!0,w())},p.reconnectInterval))}p.reconnectInterval=1e3,p.connectionInProgress=!1;var r="";h&&h["Last-Event-ID"]&&(r=h["Last-Event-ID"],delete h["Last-Event-ID"]);var s=!1,t="",u="",v=null;function w(){var y=d(a),z="https:"===y.protocol;if(y.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},r&&(y.headers["Last-Event-ID"]=r),h){var A=o?function(a){var b={};for(var c in a)k.test(c)||(b[c]=a[c]);return b}(h):h;for(var B in A){var C=A[B];C&&(y.headers[B]=C)}}if(y.rejectUnauthorized=!(b&&!b.rejectUnauthorized),b&&void 0!==b.createConnection&&(y.createConnection=b.createConnection),b&&b.proxy){var D=d(b.proxy);y.protocol=(z="https:"===D.protocol)?"https:":"http:",y.path=a,y.headers.Host=y.host,y.hostname=D.hostname,y.host=D.host,y.port=D.port}if(b&&b.https){for(var E in b.https)if(-1!==i.indexOf(E)){var F=b.https[E];void 0!==F&&(y[E]=F)}}b&&void 0!==b.withCredentials&&(y.withCredentials=b.withCredentials),(c=(z?f:g).request(y,function(b){if(p.connectionInProgress=!1,500===b.statusCode||502===b.statusCode||503===b.statusCode||504===b.statusCode){x("error",new m("error",{status:b.statusCode,message:b.statusMessage})),q();return}if(301===b.statusCode||302===b.statusCode||307===b.statusCode){var c,d,f=b.headers.location;return f?(o=new URL(a).origin!==new URL(f).origin,307===b.statusCode&&(v=a),a=f,void process.nextTick(w)):void x("error",new m("error",{status:b.statusCode,message:b.statusMessage}))}if(200!==b.statusCode)return x("error",new m("error",{status:b.statusCode,message:b.statusMessage})),p.close();e=l.OPEN,b.on("close",function(){b.removeAllListeners("close"),b.removeAllListeners("end"),q()}),b.on("end",function(){b.removeAllListeners("close"),b.removeAllListeners("end"),q()}),x("open",new m("open"));var g=0,h=-1,i=0,k=0;b.on("data",function(b){if(c)b.length>c.length-k&&((i=2*c.length+b.length)>262144&&(i=c.length+b.length+262144),d=Buffer.alloc(i),c.copy(d,0,0,k),c=d),b.copy(c,k),k+=b.length;else{var e;e=c=b,j.every(function(a,b){return e[b]===a})&&(c=c.slice(j.length)),k=c.length}for(var f=0,l=k;f<l;){s&&(10===c[f]&&++f,s=!1);for(var m,o=-1,q=h,v=g;o<0&&v<l;++v)58===(m=c[v])?q<0&&(q=v-f):13===m?(s=!0,o=v-f):10===m&&(o=v-f);if(o<0){g=l-f,h=q;break}g=0,h=-1,function(b,c,d,e){if(0===e){if(t.length>0){var f=u||"message";x(f,new n(f,{data:t.slice(0,-1),lastEventId:r,origin:new URL(a).origin})),t=""}u=void 0}else if(d>0){var g=d<0,h=0,i=b.slice(c,c+(g?e:d)).toString();h=g?e:32!==b[c+d+1]?d+1:d+2,c+=h;var j=e-h,k=b.slice(c,c+j).toString();if("data"===i)t+=k+"\n";else if("event"===i)u=k;else if("id"===i)r=k;else if("retry"===i){var l=parseInt(k,10);Number.isNaN(l)||(p.reconnectInterval=l)}}}(c,f,q,o),f+=o+1}f===l?(c=void 0,k=0):f>0&&(k=(c=c.slice(f,k)).length)})})).on("error",function(a){p.connectionInProgress=!1,q(a.message)}),c.setNoDelay&&c.setNoDelay(!0),c.end()}function x(){p.listeners(arguments[0]).length>0&&p.emit.apply(p,arguments)}w(),this._close=function(){e!==l.CLOSED&&(e=l.CLOSED,c.abort&&c.abort(),c.xhr&&c.xhr.abort&&c.xhr.abort())}}function m(a,b){if(Object.defineProperty(this,"type",{writable:!1,value:a,enumerable:!0}),b)for(var c in b)b.hasOwnProperty(c)&&Object.defineProperty(this,c,{writable:!1,value:b[c],enumerable:!0})}function n(a,b){for(var c in Object.defineProperty(this,"type",{writable:!1,value:a,enumerable:!0}),b)b.hasOwnProperty(c)&&Object.defineProperty(this,c,{writable:!1,value:b[c],enumerable:!0})}b.exports=l,h.inherits(l,e.EventEmitter),l.prototype.constructor=l,["open","error","message"].forEach(function(a){Object.defineProperty(l.prototype,"on"+a,{get:function(){var b=this.listeners(a)[0];return b?b._listener?b._listener:b:void 0},set:function(b){this.removeAllListeners(a),this.addEventListener(a,b)}})}),Object.defineProperty(l,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(l,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(l,"CLOSED",{enumerable:!0,value:2}),l.prototype.CONNECTING=0,l.prototype.OPEN=1,l.prototype.CLOSED=2,l.prototype.close=function(){this._close()},l.prototype.addEventListener=function(a,b){"function"==typeof b&&(b._listener=b,this.on(a,b))},l.prototype.dispatchEvent=function(a){if(!a.type)throw Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(a.type,a.detail)},l.prototype.removeEventListener=function(a,b){"function"==typeof b&&(b._listener=void 0,this.removeListener(a,b))}},732580,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(427699).EventEmitter,f=a.r(308481),g=function(){};function h(a){g(a),e.call(this);var b=this,c=this.es=new f(a);c.onmessage=function(a){g("message",a.data),b.emit("message",decodeURI(a.data))},c.onerror=function(a){g("error",c.readyState,a);var d=2!==c.readyState?"network":"permanent";b._cleanup(),b._close(d)}}d(h,e),h.prototype.abort=function(){g("abort"),this._cleanup(),this._close("user")},h.prototype._cleanup=function(){g("cleanup");var a=this.es;a&&(a.onmessage=a.onerror=null,a.close(),this.es=null)},h.prototype._close=function(a){g("close",a);var b=this;setTimeout(function(){b.emit("close",null,a),b.removeAllListeners()},200)},b.exports=h},15338,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(768111),f=a.r(732580),g=a.r(184098),h=a.r(308481);function i(a){if(!i.enabled())throw Error("Transport created when disabled");e.call(this,a,"/eventsource",f,g)}d(i,e),i.enabled=function(){return!!h},i.transportName="eventsource",i.roundTrips=2,b.exports=i},855483,(a,b,c)=>{b.exports="1.6.1"},922524,(a,b,c)=>{"use strict";var d=a.r(847087),e=a.r(472509),f=function(){};b.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){b.exports.WPrefix in a.g||(a.g[b.exports.WPrefix]={})},postMessage:function(c,d){a.g.parent!==a.g?a.g.parent.postMessage(JSON.stringify({windowId:b.exports.currentWindowId,type:c,data:d||""}),"*"):f("Cannot postMessage, no parent window.",c,d)},createIframe:function(b,c){var e,g,h=a.g.document.createElement("iframe"),i=function(){f("unattach"),clearTimeout(e);try{h.onload=null}catch(a){}h.onerror=null},j=function(){f("cleanup"),h&&(i(),setTimeout(function(){h&&h.parentNode.removeChild(h),h=null},0),d.unloadDel(g))},k=function(a){f("onerror",a),h&&(j(),c(a))};return h.src=b,h.style.display="none",h.style.position="absolute",h.onerror=function(){k("onerror")},h.onload=function(){f("onload"),clearTimeout(e),e=setTimeout(function(){k("onload timeout")},2e3)},a.g.document.body.appendChild(h),e=setTimeout(function(){k("timeout")},15e3),g=d.unloadAdd(j),{post:function(a,b){f("post",a,b),setTimeout(function(){try{h&&h.contentWindow&&h.contentWindow.postMessage(a,b)}catch(a){}},0)},cleanup:j,loaded:i}},createHtmlfile:function(c,e){var g,h,i,j=["Active"].concat("Object").join("X"),k=new a.g[j]("htmlfile"),l=function(){clearTimeout(g),i.onerror=null},m=function(){k&&(l(),d.unloadDel(h),i.parentNode.removeChild(i),i=k=null,CollectGarbage())},n=function(a){f("onerror",a),k&&(m(),e(a))};k.open(),k.write('<html><script>document.domain="'+a.g.document.domain+'";</script></html>'),k.close(),k.parentWindow[b.exports.WPrefix]=a.g[b.exports.WPrefix];var o=k.createElement("div");return k.body.appendChild(o),i=k.createElement("iframe"),o.appendChild(i),i.src=c,i.onerror=function(){n("onerror")},g=setTimeout(function(){n("timeout")},15e3),h=d.unloadAdd(m),{post:function(a,b){try{setTimeout(function(){i&&i.contentWindow&&i.contentWindow.postMessage(a,b)},0)}catch(a){}},cleanup:m,loaded:l}}},b.exports.iframeEnabled=!1,a.g.document&&(b.exports.iframeEnabled=("function"==typeof a.g.postMessage||"object"==typeof a.g.postMessage)&&!e.isKonqueror())},292344,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(427699).EventEmitter,f=a.r(855483),g=a.r(283296),h=a.r(922524),i=a.r(847087),j=a.r(568751),k=function(){};function l(a,b,c){if(!l.enabled())throw Error("Transport created when disabled");e.call(this);var d=this;this.origin=g.getOrigin(c),this.baseUrl=c,this.transUrl=b,this.transport=a,this.windowId=j.string(8);var f=g.addPath(c,"/iframe.html")+"#"+this.windowId;k(a,b,f),this.iframeObj=h.createIframe(f,function(a){k("err callback"),d.emit("close",1006,"Unable to load an iframe ("+a+")"),d.close()}),this.onmessageCallback=this._message.bind(this),i.attachEvent("message",this.onmessageCallback)}d(l,e),l.prototype.close=function(){if(k("close"),this.removeAllListeners(),this.iframeObj){i.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(a){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},l.prototype._message=function(a){var b,c;if(k("message",a.data),!g.isOriginEqual(a.origin,this.origin))return void k("not same origin",a.origin,this.origin);try{b=JSON.parse(a.data)}catch(b){k("bad json",a.data);return}if(b.windowId!==this.windowId)return void k("mismatched window id",b.windowId,this.windowId);switch(b.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([f,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",b.data);break;case"c":try{c=JSON.parse(b.data)}catch(a){k("bad json",b.data);return}this.emit("close",c[0],c[1]),this.close()}},l.prototype.postMessage=function(a,b){k("postMessage",a,b),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:a,data:b||""}),this.origin)},l.prototype.send=function(a){k("send",a),this.postMessage("m",a)},l.enabled=function(){return h.iframeEnabled},l.transportName="iframe",l.roundTrips=2,b.exports=l},366843,(a,b,c)=>{"use strict";b.exports={isObject:function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},extend:function(a){if(!this.isObject(a))return a;for(var b,c,d=1,e=arguments.length;d<e;d++)for(c in b=arguments[d])Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a}}},484079,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(292344),f=a.r(366843);b.exports=function(b){function c(a,c){e.call(this,b.transportName,a,c)}return d(c,e),c.enabled=function(c,d){if(!a.g.document)return!1;var g=f.extend({},d);return g.sameOrigin=!0,b.enabled(g)&&e.enabled()},c.transportName="iframe-"+b.transportName,c.needBody=!0,c.roundTrips=e.roundTrips+b.roundTrips-1,c.facadeTransport=b,c}},712812,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(922524),f=a.r(283296),g=a.r(427699).EventEmitter,h=a.r(568751),i=function(){};function j(b){i(b),g.call(this);var c=this;e.polluteGlobalNamespace(),this.id="a"+h.string(6),b=f.addQuery(b,"c="+decodeURIComponent(e.WPrefix+"."+this.id)),i("using htmlfile",j.htmlfileEnabled);var d=j.htmlfileEnabled?e.createHtmlfile:e.createIframe;a.g[e.WPrefix][this.id]={start:function(){i("start"),c.iframeObj.loaded()},message:function(a){i("message",a),c.emit("message",a)},stop:function(){i("stop"),c._cleanup(),c._close("network")}},this.iframeObj=d(b,function(){i("callback"),c._cleanup(),c._close("permanent")})}d(j,g),j.prototype.abort=function(){i("abort"),this._cleanup(),this._close("user")},j.prototype._cleanup=function(){i("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete a.g[e.WPrefix][this.id]},j.prototype._close=function(a){i("_close",a),this.emit("close",null,a),this.removeAllListeners()},j.htmlfileEnabled=!1;var k=["Active"].concat("Object").join("X");if(k in a.g)try{new a.g[k]("htmlfile"),j.htmlfileEnabled=!0}catch(a){}j.enabled=j.htmlfileEnabled||e.iframeEnabled,b.exports=j},367351,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(712812),f=a.r(65671),g=a.r(768111);function h(a){if(!e.enabled)throw Error("Transport created when disabled");g.call(this,a,"/htmlfile",e,f)}d(h,g),h.enabled=function(a){return e.enabled&&a.sameOrigin},h.transportName="htmlfile",h.roundTrips=2,b.exports=h},216568,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(768111),f=a.r(988118),g=a.r(184098),h=a.r(65671);function i(a){if(!h.enabled&&!g.enabled)throw Error("Transport created when disabled");e.call(this,a,"/xhr",f,g)}d(i,e),i.enabled=function(a){return!a.nullOrigin&&(!!h.enabled&&!!a.sameOrigin||g.enabled)},i.transportName="xhr-polling",i.roundTrips=2,b.exports=i},713296,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(768111),f=a.r(552545),g=a.r(988118),h=a.r(503524);function i(a){if(!h.enabled)throw Error("Transport created when disabled");e.call(this,a,"/xhr",g,h)}d(i,e),i.enabled=f.enabled,i.transportName="xdr-polling",i.roundTrips=2,b.exports=i},140417,(a,b,c)=>{"use strict";var d=a.r(922524),e=a.r(568751),f=a.r(472509),g=a.r(283296),h=a.r(518919),i=a.r(427699).EventEmitter,j=function(){};function k(b){j(b);var c=this;i.call(this),d.polluteGlobalNamespace(),this.id="a"+e.string(6);var f=g.addQuery(b,"c="+encodeURIComponent(d.WPrefix+"."+this.id));a.g[d.WPrefix][this.id]=this._callback.bind(this),this._createScript(f),this.timeoutId=setTimeout(function(){j("timeout"),c._abort(Error("JSONP script loaded abnormally (timeout)"))},k.timeout)}h(k,i),k.prototype.abort=function(){if(j("abort"),a.g[d.WPrefix][this.id]){var b=Error("JSONP user aborted read");b.code=1e3,this._abort(b)}},k.timeout=35e3,k.scriptErrorTimeout=1e3,k.prototype._callback=function(a){j("_callback",a),this._cleanup(),this.aborting||(a&&(j("message",a),this.emit("message",a)),this.emit("close",null,"network"),this.removeAllListeners())},k.prototype._abort=function(a){j("_abort",a),this._cleanup(),this.aborting=!0,this.emit("close",a.code,a.message),this.removeAllListeners()},k.prototype._cleanup=function(){if(j("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var b=this.script;b.parentNode.removeChild(b),b.onreadystatechange=b.onerror=b.onload=b.onclick=null,this.script=null}delete a.g[d.WPrefix][this.id]},k.prototype._scriptError=function(){j("_scriptError");var a=this;this.errorTimer||(this.errorTimer=setTimeout(function(){a.loadedOkay||a._abort(Error("JSONP script loaded abnormally (onerror)"))},k.scriptErrorTimeout))},k.prototype._createScript=function(b){j("_createScript",b);var c,d=this,g=this.script=a.g.document.createElement("script");if(g.id="a"+e.string(8),g.src=b,g.type="text/javascript",g.charset="UTF-8",g.onerror=this._scriptError.bind(this),g.onload=function(){j("onload"),d._abort(Error("JSONP script loaded abnormally (onload)"))},g.onreadystatechange=function(){if(j("onreadystatechange",g.readyState),/loaded|closed/.test(g.readyState)){if(g&&g.htmlFor&&g.onclick){d.loadedOkay=!0;try{g.onclick()}catch(a){}}g&&d._abort(Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===g.async&&a.g.document.attachEvent)if(f.isOpera())(c=this.script2=a.g.document.createElement("script")).text="try{var a = document.getElementById('"+g.id+"'); if(a)a.onerror();}catch(x){};",g.async=c.async=!1;else{try{g.htmlFor=g.id,g.event="onclick"}catch(a){}g.async=!0}void 0!==g.async&&(g.async=!0);var h=a.g.document.getElementsByTagName("head")[0];h.insertBefore(g,h.firstChild),c&&h.insertBefore(c,h.firstChild)},b.exports=k},975188,(a,b,c)=>{"use strict";var d,e,f=a.r(568751),g=a.r(283296),h=function(){};b.exports=function(b,c,i){h(b,c),d||(h("createForm"),(d=a.g.document.createElement("form")).style.display="none",d.style.position="absolute",d.method="POST",d.enctype="application/x-www-form-urlencoded",d.acceptCharset="UTF-8",(e=a.g.document.createElement("textarea")).name="d",d.appendChild(e),a.g.document.body.appendChild(d));var j="a"+f.string(8);d.target=j,d.action=g.addQuery(g.addPath(b,"/jsonp_send"),"i="+j);var k=function(b){h("createIframe",b);try{return a.g.document.createElement('<iframe name="'+b+'">')}catch(d){var c=a.g.document.createElement("iframe");return c.name=b,c}}(j);k.id=j,k.style.display="none",d.appendChild(k);try{e.value=c}catch(a){}d.submit();var l=function(a){h("completed",j,a),k.onerror&&(k.onreadystatechange=k.onerror=k.onload=null,setTimeout(function(){h("cleaning up",j),k.parentNode.removeChild(k),k=null},500),e.value="",i(a))};return k.onerror=function(){h("onerror",j),l()},k.onload=function(){h("onload",j),l()},k.onreadystatechange=function(a){h("onreadystatechange",j,k.readyState,a),"complete"===k.readyState&&l()},function(){h("aborted",j),l(Error("Aborted"))}}},820785,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(357258),f=a.r(140417),g=a.r(975188);function h(a){if(!h.enabled())throw Error("Transport created when disabled");e.call(this,a,"/jsonp",g,f)}d(h,e),h.enabled=function(){return!!a.g.document},h.transportName="jsonp-polling",h.roundTrips=1,h.needBody=!0,b.exports=h},143134,(a,b,c)=>{"use strict";b.exports=[a.r(300861),a.r(731008),a.r(552545),a.r(15338),a.r(484079)(a.r(15338)),a.r(367351),a.r(484079)(a.r(367351)),a.r(216568),a.r(713296),a.r(484079)(a.r(216568)),a.r(820785)]},225027,(a,b,c)=>{"use strict";var d=a.r(922524);function e(a){this._transport=a,a.on("message",this._transportMessage.bind(this)),a.on("close",this._transportClose.bind(this))}e.prototype._transportClose=function(a,b){d.postMessage("c",JSON.stringify([a,b]))},e.prototype._transportMessage=function(a){d.postMessage("t",a)},e.prototype._send=function(a){this._transport.send(a)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},b.exports=e},463587,(a,b,c)=>{"use strict";var d=a.r(427699).EventEmitter,e=a.r(518919),f=a.r(366843),g=function(){};function h(a,b){d.call(this);var c=this,e=+new Date;this.xo=new b("GET",a),this.xo.once("finish",function(a,b){var d,h;if(200===a){if(h=new Date-e,b)try{d=JSON.parse(b)}catch(a){g("bad json",b)}f.isObject(d)||(d={})}c.emit("finish",d,h),c.removeAllListeners()})}e(h,d),h.prototype.close=function(){this.removeAllListeners(),this.xo.close()},b.exports=h},240369,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(427699).EventEmitter,f=a.r(65671),g=a.r(463587);function h(a){var b=this;e.call(this),this.ir=new g(a,f),this.ir.once("finish",function(a,c){b.ir=null,b.emit("message",JSON.stringify([a,c]))})}d(h,e),h.transportName="iframe-info-receiver",h.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},b.exports=h},943330,(a,b,c)=>{"use strict";b.exports=a.g.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},941985,(a,b,c)=>{"use strict";var d=a.r(283296),e=a.r(847087),f=a.r(225027),g=a.r(240369),h=a.r(922524),i=a.r(943330),j=function(){};b.exports=function(a,b){var c,k={};b.forEach(function(a){a.facadeTransport&&(k[a.facadeTransport.transportName]=a.facadeTransport)}),k[g.transportName]=g,a.bootstrap_iframe=function(){var b;h.currentWindowId=i.hash.slice(1),e.attachEvent("message",function(e){if(e.source===parent){if(void 0===c&&(c=e.origin),e.origin===c){try{g=JSON.parse(e.data)}catch(a){j("bad json",e.data);return}if(g.windowId===h.currentWindowId)switch(g.type){case"s":try{l=JSON.parse(g.data)}catch(a){j("bad json",g.data);break}var g,l,m=l[0],n=l[1],o=l[2],p=l[3];if(j(m,n,o,p),m!==a.version)throw Error('Incompatible SockJS! Main site uses: "'+m+'", the iframe: "'+a.version+'".');if(!d.isOriginEqual(o,i.href)||!d.isOriginEqual(p,i.href))throw Error("Can't connect to different domain from within an iframe. ("+i.href+", "+o+", "+p+")");b=new f(new k[n](o,p));break;case"m":b._send(g.data);break;case"c":b&&b._close(),b=null}}}}),h.postMessage("s")}}},97018,(a,b,c)=>{"use strict";var d,e=Array.prototype,f=Object.prototype,g=Function.prototype,h=String.prototype,i=e.slice,j=f.toString,k=function(a){return"[object Function]"===f.toString.call(a)},l=function(a){return"[object String]"===j.call(a)};d=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(a){return!1}}()?function(a,b,c,d){!d&&b in a||Object.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:c})}:function(a,b,c,d){!d&&b in a||(a[b]=c)};var m=function(a,b,c){for(var e in b)f.hasOwnProperty.call(b,e)&&d(a,e,b[e],c)},n=function(a){if(null==a)throw TypeError("can't convert "+a+" to object");return Object(a)};function o(){}m(g,{bind:function(a){var b=this;if(!k(b))throw TypeError("Function.prototype.bind called on incompatible "+b);for(var c=i.call(arguments,1),d=Math.max(0,b.length-c.length),e=[],f=0;f<d;f++)e.push("$"+f);var g=Function("binder","return function ("+e.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(!(this instanceof g))return b.apply(a,c.concat(i.call(arguments)));var d=b.apply(this,c.concat(i.call(arguments)));return Object(d)===d?d:this});return b.prototype&&(o.prototype=b.prototype,g.prototype=new o,o.prototype=null),g}}),m(Array,{isArray:function(a){return"[object Array]"===j.call(a)}});var p=Object("a"),q="a"!==p[0]||!(0 in p);m(e,{forEach:function(a){var b=n(this),c=q&&l(this)?this.split(""):b,d=arguments[1],e=-1,f=c.length>>>0;if(!k(a))throw TypeError();for(;++e<f;)e in c&&a.call(d,c[e],e,b)}},!function(a){var b=!0,c=!0;return a&&(a.call("foo",function(a,c,d){"object"!=typeof d&&(b=!1)}),a.call([1],function(){c="string"==typeof this},"x")),!!a&&b&&c}(e.forEach)),m(e,{indexOf:function(a){var b,c,d=q&&l(this)?this.split(""):n(this),e=d.length>>>0;if(!e)return -1;var f=0;for(arguments.length>1&&(b=arguments[1],(c=+b)!=c?c=0:0!==c&&c!==1/0&&c!==-1/0&&(c=(c>0||-1)*Math.floor(Math.abs(c))),f=c),f=f>=0?f:Math.max(0,e+f);f<e;f++)if(f in d&&d[f]===a)return f;return -1}},Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2));var r=h.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var a=void 0===/()??/.exec("")[1];h.split=function(b,c){var d=this;if(void 0===b&&0===c)return[];if("[object RegExp]"!==j.call(b))return r.call(this,b,c);var f,g,h,i,k=[],l=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.extended?"x":"")+(b.sticky?"y":""),m=0;for(b=RegExp(b.source,l+"g"),d+="",a||(f=RegExp("^"+b.source+"$(?!\\s)",l)),c=void 0===c?0xffffffff:c>>>0;(g=b.exec(d))&&(!((h=g.index+g[0].length)>m)||(k.push(d.slice(m,g.index)),!a&&g.length>1&&g[0].replace(f,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(g[a]=void 0)}),g.length>1&&g.index<d.length&&e.push.apply(k,g.slice(1)),i=g[0].length,m=h,!(k.length>=c)));)b.lastIndex===g.index&&b.lastIndex++;return m===d.length?(i||!b.test(""))&&k.push(""):k.push(d.slice(m)),k.length>c?k.slice(0,c):k}}():"0".split(void 0,0).length&&(h.split=function(a,b){return void 0===a&&0===b?[]:r.call(this,a,b)});var s=h.substr;m(h,{substr:function(a,b){return s.call(this,a<0&&(a=this.length+a)<0?0:a,b)}},"".substr&&"b"!=="0b".substr(-1))},483182,(a,b,c)=>{"use strict";var d,e=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,f=function(a){var b,c={},d=[];for(b=0;b<65536;b++)d.push(String.fromCharCode(b));return a.lastIndex=0,d.join("").replace(a,function(a){return c[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),a.lastIndex=0,c};b.exports={quote:function(a){var b=JSON.stringify(a);return(e.lastIndex=0,e.test(b))?(d||(d=f(e)),b.replace(e,function(a){return d[a]})):b}}},524064,(a,b,c)=>{"use strict";var d=function(){};b.exports=function(a){return{filterToEnabled:function(b,c){var e={main:[],facade:[]};return b?"string"==typeof b&&(b=[b]):b=[],a.forEach(function(a){if(a){if("websocket"===a.transportName&&!1===c.websocket)return void d("disabled from server","websocket");if(b.length&&-1===b.indexOf(a.transportName))return void d("not in whitelist",a.transportName);a.enabled(c)?(d("enabled",a.transportName),e.main.push(a),a.facadeTransport&&e.facade.push(a.facadeTransport)):d("disabled",a.transportName)}}),e}}}},443836,(a,b,c)=>{"use strict";var d={};["log","debug","warn"].forEach(function(b){var c;try{c=a.g.console&&a.g.console[b]&&a.g.console[b].apply}catch(a){}d[b]=c?function(){return a.g.console[b].apply(a.g.console,arguments)}:"log"===b?function(){}:d.log}),b.exports=d},86365,(a,b,c)=>{"use strict";function d(a){this.type=a}d.prototype.initEvent=function(a,b,c){return this.type=a,this.bubbles=b,this.cancelable=c,this.timeStamp=+new Date,this},d.prototype.stopPropagation=function(){},d.prototype.preventDefault=function(){},d.CAPTURING_PHASE=1,d.AT_TARGET=2,d.BUBBLING_PHASE=3,b.exports=d},12659,(a,b,c)=>{"use strict";function d(){this._listeners={}}d.prototype.addEventListener=function(a,b){a in this._listeners||(this._listeners[a]=[]);var c=this._listeners[a];-1===c.indexOf(b)&&(c=c.concat([b])),this._listeners[a]=c},d.prototype.removeEventListener=function(a,b){var c=this._listeners[a];if(c){var d=c.indexOf(b);if(-1!==d)return void(c.length>1?this._listeners[a]=c.slice(0,d).concat(c.slice(d+1)):delete this._listeners[a])}},d.prototype.dispatchEvent=function(){var a=arguments[0],b=a.type,c=1==arguments.length?[a]:Array.apply(null,arguments);if(this["on"+b]&&this["on"+b].apply(this,c),b in this._listeners)for(var d=this._listeners[b],e=0;e<d.length;e++)d[e].apply(this,c)},b.exports=d},611869,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(86365);function f(){e.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}d(f,e),b.exports=f},617986,(a,b,c)=>{"use strict";var d=a.r(518919),e=a.r(86365);function f(a){e.call(this),this.initEvent("message",!1,!1),this.data=a}d(f,e),b.exports=f},706420,(a,b,c)=>{"use strict";var d=a.r(427699).EventEmitter;function e(){var a=this;d.call(this),this.to=setTimeout(function(){a.emit("finish",200,"{}")},e.timeout)}a.r(518919)(e,d),e.prototype.close=function(){clearTimeout(this.to)},e.timeout=2e3,b.exports=e},174831,(a,b,c)=>{"use strict";var d=a.r(427699).EventEmitter,e=a.r(518919),f=a.r(847087),g=a.r(292344),h=a.r(240369),i=function(){};function j(b,c){var e=this;d.call(this);var j=function(){var a=e.ifr=new g(h.transportName,c,b);a.once("message",function(a){if(a){try{b=JSON.parse(a)}catch(b){i("bad json",a),e.emit("finish"),e.close();return}var b,c=b[0],d=b[1];e.emit("finish",c,d)}e.close()}),a.once("close",function(){e.emit("finish"),e.close()})};a.g.document.body?j():f.attachEvent("load",j)}e(j,d),j.enabled=function(){return g.enabled()},j.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},b.exports=j},561749,(a,b,c)=>{"use strict";var d=a.r(427699).EventEmitter,e=a.r(518919),f=a.r(283296),g=a.r(503524),h=a.r(184098),i=a.r(65671),j=a.r(706420),k=a.r(174831),l=a.r(463587),m=function(){};function n(a,b){m(a);var c=this;d.call(this),setTimeout(function(){c.doXhr(a,b)},0)}e(n,d),n._getReceiver=function(a,b,c){return c.sameOrigin?new l(b,i):h.enabled?new l(b,h):g.enabled&&c.sameScheme?new l(b,g):k.enabled()?new k(a,b):new l(b,j)},n.prototype.doXhr=function(a,b){var c=this,d=f.addPath(a,"/info");m("doXhr",d),this.xo=n._getReceiver(a,d,b),this.timeoutRef=setTimeout(function(){m("timeout"),c._cleanup(!1),c.emit("finish")},n.timeout),this.xo.once("finish",function(a,b){m("finish",a,b),c._cleanup(!0),c.emit("finish",a,b)})},n.prototype._cleanup=function(a){m("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!a&&this.xo&&this.xo.close(),this.xo=null},n.prototype.close=function(){m("close"),this.removeAllListeners(),this._cleanup(!1)},n.timeout=8e3,b.exports=n},968490,(a,b,c)=>{"use strict";a.r(97018);var d,e=a.r(832804),f=a.r(518919),g=a.r(568751),h=a.r(483182),i=a.r(283296),j=a.r(847087),k=a.r(524064),l=a.r(366843),m=a.r(472509),n=a.r(443836),o=a.r(86365),p=a.r(12659),q=a.r(943330),r=a.r(611869),s=a.r(617986),t=a.r(561749),u=function(){};function v(a,b,c){if(!(this instanceof v))return new v(a,b,c);if(arguments.length<1)throw TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");p.call(this),this.readyState=v.CONNECTING,this.extensions="",this.protocol="",(c=c||{}).protocols_whitelist&&n.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=c.transports,this._transportOptions=c.transportOptions||{},this._timeout=c.timeout||0;var d=c.sessionId||8;if("function"==typeof d)this._generateSessionId=d;else if("number"==typeof d)this._generateSessionId=function(){return g.string(d)};else throw TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=c.server||g.numberString(1e3);var f=new e(a);if(f.host&&f.protocol){if(f.hash)throw SyntaxError("The URL must not contain a fragment");else if("http:"!==f.protocol&&"https:"!==f.protocol)throw SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+f.protocol+"' is not allowed.")}else throw SyntaxError("The URL '"+a+"' is invalid");var h="https:"===f.protocol;if("https:"===q.protocol&&!h&&!i.isLoopbackAddr(f.hostname))throw Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");b?Array.isArray(b)||(b=[b]):b=[];var j=b.sort();j.forEach(function(a,b){if(!a)throw SyntaxError("The protocols entry '"+a+"' is invalid.");if(b<j.length-1&&a===j[b+1])throw SyntaxError("The protocols entry '"+a+"' is duplicated.")});var k=i.getOrigin(q.href);this._origin=k?k.toLowerCase():null,f.set("pathname",f.pathname.replace(/\/+$/,"")),this.url=f.href,u("using url",this.url),this._urlInfo={nullOrigin:!m.hasDomain(),sameOrigin:i.isOriginEqual(this.url,q.href),sameScheme:i.isSchemeEqual(this.url,q.href)},this._ir=new t(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function w(a){return 1e3===a||a>=3e3&&a<=4999}f(v,p),v.prototype.close=function(a,b){if(a&&!w(a))throw Error("InvalidAccessError: Invalid code");if(b&&b.length>123)throw SyntaxError("reason argument has an invalid length");this.readyState!==v.CLOSING&&this.readyState!==v.CLOSED&&this._close(a||1e3,b||"Normal closure",!0)},v.prototype.send=function(a){if("string"!=typeof a&&(a=""+a),this.readyState===v.CONNECTING)throw Error("InvalidStateError: The connection has not been established yet");this.readyState===v.OPEN&&this._transport.send(h.quote(a))},v.version=a.r(855483),v.CONNECTING=0,v.OPEN=1,v.CLOSING=2,v.CLOSED=3,v.prototype._receiveInfo=function(a,b){if(u("_receiveInfo",b),this._ir=null,!a)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(b),this._transUrl=a.base_url?a.base_url:this.url,u("info",a=l.extend(a,this._urlInfo));var c=d.filterToEnabled(this._transportsWhitelist,a);this._transports=c.main,u(this._transports.length+" enabled transports"),this._connect()},v.prototype._connect=function(){for(var b=this._transports.shift();b;b=this._transports.shift()){if(u("attempt",b.transportName),b.needBody&&(!a.g.document.body||void 0!==a.g.document.readyState&&"complete"!==a.g.document.readyState&&"interactive"!==a.g.document.readyState)){u("waiting for body"),this._transports.unshift(b),j.attachEvent("load",this._connect.bind(this));return}var c=Math.max(this._timeout,this._rto*b.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),c),u("using timeout",c);var d=i.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),e=this._transportOptions[b.transportName];u("transport url",d);var f=new b(d,this._transUrl,e);f.on("message",this._transportMessage.bind(this)),f.once("close",this._transportClose.bind(this)),f.transportName=b.transportName,this._transport=f;return}this._close(2e3,"All transports failed",!1)},v.prototype._transportTimeout=function(){u("_transportTimeout"),this.readyState===v.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},v.prototype._transportMessage=function(a){u("_transportMessage",a);var b,c=this,d=a.slice(0,1),e=a.slice(1);switch(d){case"o":this._open();return;case"h":this.dispatchEvent(new o("heartbeat")),u("heartbeat",this.transport);return}if(e)try{b=JSON.parse(e)}catch(a){u("bad json",e)}if(void 0===b)return void u("empty payload",e);switch(d){case"a":Array.isArray(b)&&b.forEach(function(a){u("message",c.transport,a),c.dispatchEvent(new s(a))});break;case"m":u("message",this.transport,b),this.dispatchEvent(new s(b));break;case"c":Array.isArray(b)&&2===b.length&&this._close(b[0],b[1],!0)}},v.prototype._transportClose=function(a,b){if(u("_transportClose",this.transport,a,b),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!w(a)&&2e3!==a&&this.readyState===v.CONNECTING)return void this._connect();this._close(a,b)},v.prototype._open=function(){u("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===v.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=v.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new o("open")),u("connected",this.transport)):this._close(1006,"Server lost session")},v.prototype._close=function(a,b,c){u("_close",this.transport,a,b,c,this.readyState);var d=!1;if(this._ir&&(d=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===v.CLOSED)throw Error("InvalidStateError: SockJS has already been closed");this.readyState=v.CLOSING,setTimeout((function(){this.readyState=v.CLOSED,d&&this.dispatchEvent(new o("error"));var e=new r("close");e.wasClean=c||!1,e.code=a||1e3,e.reason=b,this.dispatchEvent(e),this.onmessage=this.onclose=this.onerror=null,u("disconnected")}).bind(this),0)},v.prototype.countRTO=function(a){return a>100?4*a:300+a},b.exports=function(b){return d=k(b),a.r(941985)(v,b),v}},365936,(a,b,c)=>{"use strict";var d=a.r(143134);b.exports=a.r(968490)(d),"_sockjs_onload"in a.g&&setTimeout(a.g._sockjs_onload,1)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__68361e7a._.js.map