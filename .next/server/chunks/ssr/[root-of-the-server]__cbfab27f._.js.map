{"version":3,"sources":["turbopack:///[project]/src/app/(dashboard)/hr/holiday/add/page.tsx"],"sourcesContent":["\"use client\";\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\n\ninterface NewHoliday {\n  date: string;\n  occasion: string;\n}\n\nexport default function AddHolidayPage() {\n  const [newHolidays, setNewHolidays] = useState<NewHoliday[]>([\n    { date: \"\", occasion: \"\" },\n  ]);\n  const [submitting, setSubmitting] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  // Handle holiday input change\n  const handleHolidayChange = (index: number, field: keyof NewHoliday, value: string) => {\n    const updated = [...newHolidays];\n    updated[index][field] = value;\n    setNewHolidays(updated);\n  };\n\n  // Add new row\n  const addHolidayRow = () => {\n    setNewHolidays([...newHolidays, { date: \"\", occasion: \"\" }]);\n  };\n\n  // Remove row\n  const removeHolidayRow = (index: number) => {\n    setNewHolidays(newHolidays.filter((_, i) => i !== index));\n  };\n\n  // Submit holidays\n  const handleSubmit = async () => {\n    try {\n      // setSubmitting(true);\n      // setMessage(\"\");\n\n      const token = localStorage.getItem(\"accessToken\")\n      // if (!token) {\n      //   setMessage(\"❌ No token found in localStorage\");\n      //   setSubmitting(false);\n      //   return;\n      // }\n      //(\"dekh bhaiiii\", JSON.stringify({ holidays: newHolidays }))\n      const res = await axios.post(`${process.env.NEXT_PUBLIC_MAIN}/employee/api/holidays/bulk`, {\n\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ holidays: newHolidays }),\n      });\n\n      if (!res.ok) {\n        throw new Error(\"Failed to create holidays\");\n      }\n\n      await res.data;\n      setMessage(\"✅ Holidays created successfully!\");\n      setNewHolidays([{ date: \"\", occasion: \"\" }]);\n    } catch (err: any) {\n      setMessage(`❌ ${err.message}`);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"p-6 max-w-2xl mx-auto\">\n      <h1 className=\"text-xl font-bold mb-4\">Add New Holidays</h1>\n\n      {newHolidays.map((holiday, index) => (\n        <div key={index} className=\"flex gap-2 mb-2\">\n          <input\n            type=\"date\"\n            value={holiday.date}\n            onChange={(e) => handleHolidayChange(index, \"date\", e.target.value)}\n            className=\"border p-2 rounded\"\n          />\n          <input\n            type=\"text\"\n            value={holiday.occasion}\n            onChange={(e) => handleHolidayChange(index, \"occasion\", e.target.value)}\n            placeholder=\"Occasion\"\n            className=\"border p-2 rounded flex-1\"\n          />\n          {newHolidays.length > 1 && (\n            <button\n              onClick={() => removeHolidayRow(index)}\n              className=\"bg-red-500 text-white px-3 rounded\"\n            >\n              ✕\n            </button>\n          )}\n        </div>\n      ))}\n\n      <div className=\"flex gap-2 mt-4\">\n        <button\n          onClick={addHolidayRow}\n          className=\"bg-green-500 text-white px-4 py-2 rounded\"\n        >\n          + Add Row\n        </button>\n        <button\n          onClick={handleSubmit}\n          disabled={submitting}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded\"\n        >\n          {submitting ? \"Submitting...\" : \"Submit\"}\n        </button>\n      </div>\n\n      {message && <p className=\"mt-4 text-sm\">{message}</p>}\n    </div>\n  );\n}\n"],"names":[],"mappings":"6jBAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QAOe,SAAS,IACtB,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,CAC3D,CAAE,KAAM,GAAI,SAAU,EAAG,EAC1B,EACK,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IAGjC,EAAsB,CAAC,EAAe,EAAyB,KACnE,IAAM,EAAU,IAAI,EAAY,CAChC,CAAO,CAAC,EAAM,CAAC,EAAM,CAAG,EACxB,EAAe,EACjB,EAaM,EAAe,UACnB,GAAI,CAIF,IAAM,EAAQ,aAAa,OAAO,CAAC,eAO7B,EAAM,MAAM,EAAA,OAAK,CAAC,IAAI,CAAC,oEAA8D,CAEzF,QAAS,CACP,AAHyD,cAG1C,CAAC,OAAO,EAAE,EAAA,CAAO,AAHoD,CAIpF,AAJqF,eAIrE,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,SAAU,CAAY,EAC/C,GAEA,GAAI,CAAC,EAAI,EAAE,CACT,CADW,KACL,AAAI,MAAM,4BAGlB,OAAM,EAAI,IAAI,CACd,EAAW,oCACX,EAAe,CAAC,CAAE,KAAM,GAAI,SAAU,EAAG,EAAE,CAC7C,CAAE,MAAO,EAAU,CACjB,EAAW,CAAC,EAAE,EAAE,EAAI,OAAO,CAAA,CAAE,CAC/B,QAAU,CACR,GAAc,EAChB,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAAyB,qBAEtC,EAAY,GAAG,CAAC,CAAC,EAAS,IACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAgB,UAAU,4BACzB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EAAQ,IAAI,CACnB,SAAU,AAAC,GAAM,EAAoB,EAAO,OAAQ,EAAE,MAAM,CAAC,KAAK,EAClE,UAAU,uBAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EAAQ,QAAQ,CACvB,SAAU,AAAC,GAAM,EAAoB,EAAO,WAAY,EAAE,MAAM,CAAC,KAAK,EACtE,YAAY,WACZ,UAAU,8BAEX,EAAY,MAAM,CAAG,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,CA5DzB,EAAe,EAAY,MAAM,CAAC,CAAC,EAAG,IAAM,IA4DF,EA5DQ,GA6DxC,UAAU,8CACX,QAlBK,IAyBZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QA7Ec,CA6EL,IA5Ef,EAAe,IAAI,EAAa,CAAE,KAAM,GAAI,SAAU,EAAG,EAAE,CAC7D,EA4EQ,UAAU,qDACX,cAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAU,oDAET,EAAa,gBAAkB,cAInC,GAAW,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wBAAgB,MAG/C"}