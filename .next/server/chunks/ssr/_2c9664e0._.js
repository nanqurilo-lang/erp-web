module.exports=[915618,a=>{"use strict";a.s(["Plus",()=>b],915618);let b=(0,a.i(883706).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},806244,a=>{"use strict";a.s(["default",()=>i]);var b=a.i(187924),c=a.i(572131),d=a.i(238246),e=a.i(50944),f=a.i(915618),g=a.i(699570);let h="https://6jnqmj85-80.inc1.devtunnels.ms";function i(){let a=(0,e.useRouter)(),i=(0,c.useRef)(null),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)({companyName:"",email:"",contactNo:"",website:"",address:""});(0,c.useEffect)(()=>{let a=!0;return(async()=>{try{let b=await fetch(`${h}/employee/company`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,Accept:"application/json"}});if(!b.ok)return void console.warn("Company load failed",b.status);let c=await b.json();if(!a)return;s({companyName:c.companyName??"",email:c.email??"",contactNo:c.contactNo??"",website:c.website??"",address:c.address??""}),c.logoUrl&&o(c.logoUrl)}catch(a){console.error("Error loading company:",a)}finally{a&&k(!1)}})(),()=>{a=!1}},[]);let t=()=>{i.current?.click()},u=async b=>{if(b&&b.preventDefault(),!r.companyName||!r.email||!r.contactNo||!r.website||!r.address)return void alert("Please fill all required fields.");m(!0);try{let b=new FormData;b.append("companyName",r.companyName),b.append("email",r.email),b.append("contactNo",r.contactNo),b.append("website",r.website),b.append("address",r.address),p&&b.append("logo",p);let c=await fetch(`${h}/employee/company`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`},body:b});if(!c.ok){let a=await c.text().catch(()=>"");console.error("Save failed:",c.status,a),alert(`Save failed: ${c.status}. Check console for details.`),m(!1);return}let d=await c.json();d.logoUrl&&o(d.logoUrl),alert("Company saved successfully."),a.push("/settings/company-settings")}catch(a){console.error("Unexpected save error:",a),alert("Unexpected error while saving (see console).")}finally{m(!1)}};return j?(0,b.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-8",children:(0,b.jsxs)("div",{className:"w-full max-w-3xl bg-white rounded-lg border p-8 shadow",children:[(0,b.jsx)("div",{className:"h-8 w-56 bg-gray-100 rounded mb-6 animate-pulse"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"h-12 bg-gray-100 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-12 bg-gray-100 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-12 bg-gray-100 rounded animate-pulse"})]})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-10 px-4",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-slate-900",children:"Company Settings"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Manage company profile and logo"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(d.default,{href:"/settings/company-settings",children:(0,b.jsx)(g.Button,{variant:"ghost",children:"Back"})}),(0,b.jsxs)(g.Button,{onClick:t,children:[(0,b.jsx)(f.Plus,{className:"mr-2 w-4 h-4"})," Upload Logo"]})]})]}),(0,b.jsxs)("form",{onSubmit:u,className:"bg-white border rounded-xl p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-slate-700",children:["Company Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{required:!0,value:r.companyName,onChange:a=>s(b=>({...b,companyName:a.target.value})),className:"border rounded-md h-11 px-3 w-full",placeholder:"--"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-slate-700",children:["Email Id ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{required:!0,type:"email",value:r.email,onChange:a=>s(b=>({...b,email:a.target.value})),className:"border rounded-md h-11 px-3 w-full",placeholder:"--"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-slate-700",children:["Contact No. ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{required:!0,value:r.contactNo,onChange:a=>s(b=>({...b,contactNo:a.target.value})),className:"border rounded-md h-11 px-3 w-full",placeholder:"--"})]}),(0,b.jsxs)("label",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-slate-700",children:["Company Website ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{required:!0,value:r.website,onChange:a=>s(b=>({...b,website:a.target.value})),className:"border rounded-md h-11 px-3 w-full",placeholder:"--"})]})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsxs)("label",{className:"space-y-1 w-full",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-slate-700",children:["Company Address ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{required:!0,value:r.address,onChange:a=>s(b=>({...b,address:a.target.value})),className:"border rounded-md p-3 h-28 w-full",placeholder:"--"})]})}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-slate-700 mb-2",children:["Company Logo ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("div",{onClick:t,className:"border rounded-md h-36 flex items-center justify-center cursor-pointer bg-white hover:bg-gray-50",children:n?(0,b.jsxs)("div",{className:"flex items-center gap-4 px-4",children:[(0,b.jsx)("img",{src:n,alt:"logo preview",className:"h-24 object-contain rounded-md border"}),(0,b.jsx)("div",{className:"text-sm text-slate-600",children:"Click to change logo"})]}):(0,b.jsxs)("div",{className:"text-center text-slate-400",children:[(0,b.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",className:"mx-auto mb-2",children:[(0,b.jsx)("path",{d:"M12 3v10",stroke:"#9CA3AF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",stroke:"#9CA3AF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("path",{d:"M7 10l5-5 5 5",stroke:"#9CA3AF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,b.jsx)("div",{className:"text-sm",children:"Choose a file"})]})}),(0,b.jsx)("input",{ref:i,type:"file",accept:"image/*",className:"hidden",onChange:a=>{(a=>{if(!a)return q(null);q(a),o(URL.createObjectURL(a))})(a.target.files?.[0]??null)}})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-center gap-4",children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>a.push("/settings/company-settings"),children:"Cancel"}),(0,b.jsx)(g.Button,{type:"submit",onClick:u,disabled:l,children:l?"Saving...":"Save"})]})]}),(0,b.jsx)("div",{className:"mt-6 text-center text-sm text-slate-500",children:(0,b.jsx)(d.default,{href:"/settings/company-settings",className:"underline",children:"Back to company list"})})]})})}}];

//# sourceMappingURL=_2c9664e0._.js.map