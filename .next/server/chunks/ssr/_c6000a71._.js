module.exports=[786304,a=>{"use strict";a.s(["Badge",()=>g]);var b=a.i(187924),c=a.i(811011),d=a.i(400187),e=a.i(368114);let f=(0,d.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}},400210,a=>{"use strict";a.s(["ArrowLeft",()=>b],400210);let b=(0,a.i(883706).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},755145,a=>{"use strict";a.s(["default",()=>j]);var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(571987),f=a.i(400210),g=a.i(786304),h=a.i(699570);function i(){let a=(0,d.useRouter)(),i=(0,d.useSearchParams)().get("invoiceNumber"),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(null);async function p(){if(!i){o("No invoice number provided"),m(!1);return}try{let a=await fetch(`https://6jnqmj85-80.inc1.devtunnels.ms/api/invoices/${i}/credit-notes`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`}});if(!a.ok)throw Error(`Failed to fetch credit notes: ${a.statusText}`);let b=await a.json();k(Array.isArray(b)?b:[])}catch(a){console.error(a),o(a?.message||"Something went wrong while fetching credit notes.")}finally{m(!1)}}return((0,c.useEffect)(()=>{p()},[i]),l)?(0,b.jsx)("div",{className:"container mx-auto p-6",children:(0,b.jsx)("p",{className:"text-center text-gray-600",children:"Loading credit notes..."})}):n?(0,b.jsx)("div",{className:"container mx-auto p-6",children:(0,b.jsxs)("p",{className:"text-center text-red-500",children:["Error: ",n]})}):(0,b.jsxs)("div",{className:"container mx-auto p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)(h.Button,{variant:"ghost",onClick:()=>a.push(`/finance/invoices/${i}`),className:"mb-2",children:[(0,b.jsx)(f.ArrowLeft,{className:"h-4 w-4 mr-2"})," Back to Invoice"]}),(0,b.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Credit Notes for Invoice ",i]}),(0,b.jsxs)("p",{className:"text-gray-600 mt-1",children:["Manage credit notes associated with invoice ",i]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===j.length?(0,b.jsx)("p",{className:"text-center text-gray-500 col-span-full",children:"No credit notes found for this invoice"}):j.map(a=>{var c;return(0,b.jsx)("div",{className:"bg-white border rounded-lg shadow-sm p-4 flex flex-col justify-between hover:shadow-md transition",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:a.creditNoteNumber}),a.adjustmentPositive?(0,b.jsx)(g.Badge,{className:"bg-green-100 text-green-800",children:"Credit"}):(0,b.jsx)(g.Badge,{className:"bg-red-100 text-red-800",children:"Debit"})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Project: ",a.project?.projectName||"N/A"," (",a.project?.projectCode||"N/A",")"]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a.client?.company?.companyLogoUrl?(0,b.jsx)(e.default,{src:a.client.company.companyLogoUrl,alt:a.client.company.companyName||"Company",width:32,height:32,className:"rounded-full"}):(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:a.client?.name?.charAt(0)?.toUpperCase()||"?"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.client?.name||"N/A"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.client?.company?.companyName||""})]})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Credit Note Date: ",(c=a.creditNoteDate)?new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Total Amount: ",a.currency," ",a.totalAmount.toFixed(2)]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Adjustment: ",a.currency," ",a.adjustmentPositive?"+":"-",a.adjustment.toFixed(2)]})]})},a.id)})})]})}function j(){return(0,b.jsx)(c.Suspense,{children:(0,b.jsx)(i,{})})}}];

//# sourceMappingURL=_c6000a71._.js.map