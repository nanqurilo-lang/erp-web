module.exports=[587532,a=>{"use strict";a.s(["Search",()=>b],587532);let b=(0,a.i(883706).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},613749,50522,a=>{"use strict";a.s(["ChevronLeft",()=>b],613749);let b=(0,a.i(883706).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronRight",()=>c.default],50522);var c=a.i(111989)},510448,a=>{"use strict";a.s(["Edit2",()=>b],510448);let b=(0,a.i(883706).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},84218,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(883706).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},879360,a=>{"use strict";a.s(["MoreVertical",()=>b.default]);var b=a.i(84218)},781560,a=>{"use strict";a.s(["Trash2",()=>b],781560);let b=(0,a.i(883706).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},177156,a=>{"use strict";a.s(["Eye",()=>b],177156);let b=(0,a.i(883706).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},101239,a=>{"use strict";a.s(["Pin",()=>b],101239);let b=(0,a.i(883706).default)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]])},642900,a=>{"use strict";a.s(["Archive",()=>b],642900);let b=(0,a.i(883706).default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},889398,a=>{"use strict";a.s(["default",()=>s]);var b=a.i(187924),c=a.i(238246),d=a.i(572131),e=a.i(699570),f=a.i(866718),g=a.i(580701),h=a.i(206015),i=a.i(335732),j=a.i(613749),k=a.i(50522),l=a.i(587532),m=a.i(879360),n=a.i(177156),o=a.i(510448),p=a.i(101239),q=a.i(642900),r=a.i(781560);function s(){let[a,s]=(0,d.useState)([]),[t,u]=(0,d.useState)(!0),[v,w]=(0,d.useState)(null),[x,y]=(0,d.useState)(""),[z,A]=(0,d.useState)("all"),[B,C]=(0,d.useState)("all"),[D,E]=(0,d.useState)("all"),[F,G]=(0,d.useState)(1),[H,I]=(0,d.useState)(1),J=(0,d.useCallback)(async a=>{u(!0);try{let b=new URLSearchParams({page:F.toString(),limit:"10",search:x,status:"all"!==z?z:"",progress:"all"!==B?B:"",duration:"all"!==D?D:"",pinned:"true"}),c=await fetch(`/api/work/project?${b}`,{headers:{Authorization:`Bearer ${a}`}});if(!c.ok)throw Error("Failed to load projects");let d=await c.json();s(d.projects||[]),I(d.totalPages||1)}catch(a){console.error("Error loading projects:",a)}finally{u(!1)}},[F,x,z,B,D]);(0,d.useEffect)(()=>{let a=localStorage.getItem("accessToken");w(a),a?J(a):u(!1)},[J]);let K=async b=>{if(-1!==a.findIndex(a=>a.id===b)){s(a.filter(a=>a.id!==b));try{if(!(await fetch(`/api/work/project/${b}/pin`,{method:"DELETE",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}})).ok)throw Error("Failed to unpin project");await J(v)}catch(b){s(a),console.error("Failed to unpin:",b)}}},L=({project:d})=>{var f;let g=new Date(d.startDate),j=Math.ceil((new Date(d.deadline).getTime()-g.getTime())/864e5);return(0,b.jsxs)(h.TableRow,{className:"hover:bg-gray-50",children:[(0,b.jsxs)(h.TableCell,{children:[(0,b.jsx)(c.default,{href:`/work/project/${d.id}`,className:"text-blue-600 hover:underline font-medium",children:d.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:d.shortCode})]}),(0,b.jsx)(h.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[d.client?.profilePictureUrl&&(0,b.jsx)("img",{src:d.client.profilePictureUrl||"/placeholder.svg",alt:"client",className:"w-6 h-6 rounded-full object-cover"}),(0,b.jsx)("span",{className:"text-sm",children:d.client?.name||"N/A"})]})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"on-hold":return"bg-yellow-100 text-yellow-800";case"planning":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(d.status)}`,children:d.status||"N/A"})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:`h-2 rounded-full ${!(f=d.progress)?"bg-gray-200":f<33?"bg-red-500":f<66?"bg-yellow-500":"bg-green-500"}`,style:{width:`${d.progress||0}%`}})}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:[d.progress||0,"%"]})]})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsxs)("span",{className:"font-medium",children:[d.currency," ",d.budget.toLocaleString()]})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsxs)("span",{className:"text-sm",children:[j," days"]})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)("span",{className:"text-sm",children:new Date(d.deadline).toLocaleDateString()})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsxs)("div",{className:"flex -space-x-2",children:[d.assignedEmployees?.slice(0,3).map(a=>(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center border-2 border-white",title:a.name,children:a.name.charAt(0)},a.employeeId)),d.assignedEmployees&&d.assignedEmployees.length>3&&(0,b.jsxs)("div",{className:"w-6 h-6 rounded-full bg-gray-400 text-white text-xs flex items-center justify-center border-2 border-white",children:["+",d.assignedEmployees.length-3]})]})}),(0,b.jsx)(h.TableCell,{className:"text-right",children:(0,b.jsxs)(i.DropdownMenu,{children:[(0,b.jsx)(i.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,b.jsx)(m.MoreVertical,{className:"h-4 w-4"})})}),(0,b.jsxs)(i.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,b.jsxs)(i.DropdownMenuItem,{onClick:()=>{d.id},className:"gap-2",children:[(0,b.jsx)(n.Eye,{className:"h-4 w-4"}),(0,b.jsx)(c.default,{href:`/work/project/${d.id}`,children:"View"})]}),(0,b.jsx)(i.DropdownMenuItem,{asChild:!0,className:"gap-2",children:(0,b.jsxs)(c.default,{href:`/work/project/${d.id}/update`,className:"flex items-center gap-2",children:[(0,b.jsx)(o.Edit2,{className:"h-4 w-4"}),"Edit"]})}),(0,b.jsxs)(i.DropdownMenuItem,{onClick:()=>K(d.id),className:"gap-2",children:[(0,b.jsx)(p.Pin,{className:"h-4 w-4"}),"Unpin Project"]}),(0,b.jsx)(i.DropdownMenuSeparator,{}),(0,b.jsxs)(i.DropdownMenuItem,{onClick:()=>{var b;return b=d.id,void s(a.map(a=>a.id===b?{...a,isArchived:!a.isArchived}:a))},className:"gap-2",children:[(0,b.jsx)(q.Archive,{className:"h-4 w-4"}),d.isArchived?"Unarchive":"Archive"]}),(0,b.jsxs)(i.DropdownMenuItem,{onClick:()=>{var b;return b=d.id,void s(a.filter(a=>a.id!==b))},className:"gap-2 text-red-600 focus:text-red-600",children:[(0,b.jsx)(r.Trash2,{className:"h-4 w-4"}),"Delete"]})]})]})})]},d.id)};return t?(0,b.jsx)("p",{className:"p-4",children:"Loading Projects..."}):v?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg border",children:[(0,b.jsx)(l.Search,{className:"w-4 h-4 text-gray-400"}),(0,b.jsx)(f.Input,{placeholder:"Search projects by name or code...",value:x,onChange:a=>{y(a.target.value),G(1)},className:"border-0 bg-transparent focus-visible:ring-0"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)(g.Select,{value:z,onValueChange:a=>{A(a),G(1)},children:[(0,b.jsx)(g.SelectTrigger,{children:(0,b.jsx)(g.SelectValue,{placeholder:"Filter by Status"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"All Status"}),(0,b.jsx)(g.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(g.SelectItem,{value:"completed",children:"Completed"}),(0,b.jsx)(g.SelectItem,{value:"on-hold",children:"On Hold"}),(0,b.jsx)(g.SelectItem,{value:"planning",children:"Planning"})]})]}),(0,b.jsxs)(g.Select,{value:B,onValueChange:a=>{C(a),G(1)},children:[(0,b.jsx)(g.SelectTrigger,{children:(0,b.jsx)(g.SelectValue,{placeholder:"Filter by Progress"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"All Progress"}),(0,b.jsx)(g.SelectItem,{value:"0-33",children:"0-33%"}),(0,b.jsx)(g.SelectItem,{value:"33-66",children:"33-66%"}),(0,b.jsx)(g.SelectItem,{value:"66-100",children:"66-100%"})]})]}),(0,b.jsxs)(g.Select,{value:D,onValueChange:a=>{E(a),G(1)},children:[(0,b.jsx)(g.SelectTrigger,{children:(0,b.jsx)(g.SelectValue,{placeholder:"Filter by Duration"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"All Duration"}),(0,b.jsx)(g.SelectItem,{value:"0-30",children:"0-30 days"}),(0,b.jsx)(g.SelectItem,{value:"30-60",children:"30-60 days"}),(0,b.jsx)(g.SelectItem,{value:"60-90",children:"60-90 days"}),(0,b.jsx)(g.SelectItem,{value:"90+",children:"90+ days"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-blue-50 px-6 py-3 border-b",children:(0,b.jsxs)("h2",{className:"font-semibold text-blue-900 flex items-center gap-2",children:[(0,b.jsx)(p.Pin,{className:"w-4 h-4"}),"Pinned Projects (",a.length,")"]})}),(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{className:"bg-gray-50",children:[(0,b.jsx)(h.TableHead,{children:"Project"}),(0,b.jsx)(h.TableHead,{children:"Client"}),(0,b.jsx)(h.TableHead,{children:"Status"}),(0,b.jsx)(h.TableHead,{children:"Progress"}),(0,b.jsx)(h.TableHead,{children:"Budget"}),(0,b.jsx)(h.TableHead,{children:"Duration"}),(0,b.jsx)(h.TableHead,{children:"Deadline"}),(0,b.jsx)(h.TableHead,{children:"Employees"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(h.TableBody,{children:a.length>0?a.map(a=>(0,b.jsx)(L,{project:a},a.id)):(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:9,className:"text-center py-8 text-gray-500",children:"No pinned projects yet. Pin a project to see it here."})})})]})]}),a.length>0&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Page ",F," of ",H]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>G(a=>Math.max(1,a-1)),disabled:1===F,children:[(0,b.jsx)(j.ChevronLeft,{className:"w-4 h-4"}),"Previous"]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>G(a=>Math.min(H,a+1)),disabled:F===H,children:["Next",(0,b.jsx)(k.ChevronRight,{className:"w-4 h-4"})]})]})]})]}):(0,b.jsx)("p",{className:"p-4 text-red-500",children:"Unauthorized! Token not found."})}}];

//# sourceMappingURL=_e630b6c0._.js.map