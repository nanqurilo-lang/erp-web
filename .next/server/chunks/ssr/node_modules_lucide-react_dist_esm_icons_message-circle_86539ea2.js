module.exports=[45222,406001,a=>{"use strict";var b,c,d,e;a.s(["MessageCircle",()=>f],45222);let f=(0,a.i(883706).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);a.s(["Client",()=>m],406001);let g={LF:"\n",NULL:"\0"};class h{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return this._binaryBody||this.isBinaryBody||(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(a){let{command:b,headers:c,body:d,binaryBody:e,escapeHeaderValues:f,skipContentLengthHeader:g}=a;this.command=b,this.headers=Object.assign({},c||{}),e?(this._binaryBody=e,this.isBinaryBody=!0):(this._body=d||"",this.isBinaryBody=!1),this.escapeHeaderValues=f||!1,this.skipContentLengthHeader=g||!1}static fromRawFrame(a,b){let c={},d=a=>a.replace(/^\s+|\s+$/g,"");for(let e of a.headers.reverse()){e.indexOf(":");let f=d(e[0]),g=d(e[1]);b&&"CONNECT"!==a.command&&"CONNECTED"!==a.command&&(g=h.hdrValueUnEscape(g)),c[f]=g}return new h({command:a.command,headers:c,binaryBody:a.binaryBody,escapeHeaderValues:b})}toString(){return this.serializeCmdAndHeaders()}serialize(){let a=this.serializeCmdAndHeaders();return this.isBinaryBody?h.toUnit8Array(a,this._binaryBody).buffer:a+this._body+g.NULL}serializeCmdAndHeaders(){let a=[this.command];for(let b of(this.skipContentLengthHeader&&delete this.headers["content-length"],Object.keys(this.headers||{}))){let c=this.headers[b];this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?a.push(`${b}:${h.hdrValueEscape(`${c}`)}`):a.push(`${b}:${c}`)}return!this.isBinaryBody&&(this.isBodyEmpty()||this.skipContentLengthHeader)||a.push(`content-length:${this.bodyLength()}`),a.join(g.LF)+g.LF+g.LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){let a=this.binaryBody;return a?a.length:0}static sizeOfUTF8(a){return a?new TextEncoder().encode(a).length:0}static toUnit8Array(a,b){let c=new TextEncoder().encode(a),d=new Uint8Array([0]),e=new Uint8Array(c.length+b.length+d.length);return e.set(c),e.set(b,c.length),e.set(d,c.length+b.length),e}static marshall(a){return new h(a).serialize()}static hdrValueEscape(a){return a.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(a){return a.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class i{constructor(a,b){this.onFrame=a,this.onIncomingPing=b,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(a,b=!1){let c;if(c="string"==typeof a?this._encoder.encode(a):new Uint8Array(a),b&&0!==c[c.length-1]){let a=new Uint8Array(c.length+1);a.set(c,0),a[c.length]=0,c=a}for(let a=0;a<c.length;a++){let b=c[a];this._onByte(b)}}_collectFrame(a){if(0!==a&&13!==a){if(10===a)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(a)}}_collectCommand(a){if(13!==a){if(10===a){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(a)}}_collectHeaders(a){if(13!==a){if(10===a)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(a)}}_reinjectByte(a){this._onByte(a)}_collectHeaderKey(a){if(58===a){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(a)}_collectHeaderValue(a){if(13!==a){if(10===a){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(a)}}_setupCollectBody(){let a=this._results.headers.filter(a=>"content-length"===a[0])[0];a?(this._bodyBytesRemaining=parseInt(a[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(a){if(0===a)return void this._retrievedBody();this._consumeByte(a)}_collectBodyFixedSize(a){if(0==this._bodyBytesRemaining--)return void this._retrievedBody();this._consumeByte(a)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(a){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",a)}this._initState()}_consumeByte(a){this._token.push(a)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){let a=new Uint8Array(this._token);return this._token=[],a}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}!function(a){a[a.CONNECTING=0]="CONNECTING",a[a.OPEN=1]="OPEN",a[a.CLOSING=2]="CLOSING",a[a.CLOSED=3]="CLOSED"}(b||(b={})),function(a){a[a.ACTIVE=0]="ACTIVE",a[a.DEACTIVATING=1]="DEACTIVATING",a[a.INACTIVE=2]="INACTIVE"}(c||(c={})),function(a){a[a.LINEAR=0]="LINEAR",a[a.EXPONENTIAL=1]="EXPONENTIAL"}(d||(d={})),function(a){a.Interval="interval",a.Worker="worker"}(e||(e={}));class j{constructor(a,b=e.Interval,c){this._interval=a,this._strategy=b,this._debug=c,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(a){this.stop(),this.shouldUseWorker()?this.runWorker(a):this.runInterval(a)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return"undefined"!=typeof Worker&&this._strategy===e.Worker}runWorker(a){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=b=>a(b.data))}runInterval(a){if(this._debug("Using runInterval for outgoing pings"),!this._timer){let b=Date.now();this._timer=setInterval(()=>{a(Date.now()-b)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class k{constructor(a){this.versions=a}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(a=>`v${a.replace(".","")}.stomp`)}}k.V1_0="1.0",k.V1_1="1.1",k.V1_2="1.2",k.default=new k([k.V1_2,k.V1_1,k.V1_0]);class l{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(a,b,c){this._client=a,this._webSocket=b,this._connected=!1,this._serverFrameHandlers={CONNECTED:a=>{this.debug(`connected to server ${a.headers.server}`),this._connected=!0,this._connectedVersion=a.headers.version,this._connectedVersion===k.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(a.headers),this.onConnect(a)},MESSAGE:a=>{let b=a.headers.subscription,c=this._subscriptions[b]||this.onUnhandledMessage,d=this,e=this._connectedVersion===k.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(a={})=>d.ack(e,b,a),a.nack=(a={})=>d.nack(e,b,a),c(a)},RECEIPT:a=>{let b=this._receiptWatchers[a.headers["receipt-id"]];b?(b(a),delete this._receiptWatchers[a.headers["receipt-id"]]):this.onUnhandledReceipt(a)},ERROR:a=>{this.onStompError(a)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=c.debug,this.stompVersions=c.stompVersions,this.connectHeaders=c.connectHeaders,this.disconnectHeaders=c.disconnectHeaders,this.heartbeatIncoming=c.heartbeatIncoming,this.heartbeatToleranceMultiplier=c.heartbeatGracePeriods,this.heartbeatOutgoing=c.heartbeatOutgoing,this.splitLargeFrames=c.splitLargeFrames,this.maxWebSocketChunkSize=c.maxWebSocketChunkSize,this.forceBinaryWSFrames=c.forceBinaryWSFrames,this.logRawCommunication=c.logRawCommunication,this.appendMissingNULLonIncoming=c.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=c.discardWebsocketOnCommFailure,this.onConnect=c.onConnect,this.onDisconnect=c.onDisconnect,this.onStompError=c.onStompError,this.onWebSocketClose=c.onWebSocketClose,this.onWebSocketError=c.onWebSocketError,this.onUnhandledMessage=c.onUnhandledMessage,this.onUnhandledReceipt=c.onUnhandledReceipt,this.onUnhandledFrame=c.onUnhandledFrame,this.onHeartbeatReceived=c.onHeartbeatReceived,this.onHeartbeatLost=c.onHeartbeatLost}start(){let a=new i(a=>{let b=h.fromRawFrame(a,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${b}`),(this._serverFrameHandlers[b.command]||this.onUnhandledFrame)(b)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=b=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){let a=b.data instanceof ArrayBuffer?new TextDecoder().decode(b.data):b.data;this.debug(`<<< ${a}`)}a.parseChunk(b.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=a=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(a)},this._webSocket.onerror=a=>{this.onWebSocketError(a)},this._webSocket.onopen=()=>{let a=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),a["accept-version"]=this.stompVersions.supportedVersions(),a["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:a})}}_setupHeartbeat(a){if(a.version!==k.V1_1&&a.version!==k.V1_2||!a["heart-beat"])return;let[c,d]=a["heart-beat"].split(",").map(a=>parseInt(a,10));if(0!==this.heartbeatOutgoing&&0!==d){let a=Math.max(this.heartbeatOutgoing,d);this.debug(`send PING every ${a}ms`),this._pinger=new j(a,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===b.OPEN&&(this._webSocket.send(g.LF),this.debug(">>> PING"))})}if(0!==this.heartbeatIncoming&&0!==c){let a=Math.max(this.heartbeatIncoming,c);this.debug(`check PONG every ${a}ms`),this._ponger=setInterval(()=>{let b=Date.now()-this._lastServerActivityTS;b>a*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${b}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},a)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===b.CONNECTING||this._webSocket.readyState===b.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){var a,b;"function"!=typeof this._webSocket.terminate&&(a=this._webSocket,b=a=>this.debug(a),a.terminate=function(){let c=()=>{};this.onerror=c,this.onmessage=c,this.onopen=c;let d=new Date,e=Math.random().toString().substring(2,8),f=this.onclose;this.onclose=a=>{let c=new Date().getTime()-d.getTime();b(`Discarded socket (#${e})  closed after ${c}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),f?.call(a,{code:4001,reason:`Quick discarding socket (#${e}) without waiting for the shutdown sequence.`,wasClean:!1})}),this._webSocket.terminate()}_transmit(a){let{command:b,headers:c,body:d,binaryBody:e,skipContentLengthHeader:f}=a,g=new h({command:b,headers:c,body:d,binaryBody:e,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:f}),i=g.serialize();if(this.logRawCommunication?this.debug(`>>> ${i}`):this.debug(`>>> ${g}`),this.forceBinaryWSFrames&&"string"==typeof i&&(i=new TextEncoder().encode(i)),"string"==typeof i&&this.splitLargeFrames){let a=i;for(;a.length>0;){let b=a.substring(0,this.maxWebSocketChunkSize);a=a.substring(this.maxWebSocketChunkSize),this._webSocket.send(b),this.debug(`chunk sent = ${b.length}, remaining = ${a.length}`)}}else this._webSocket.send(i)}dispose(){if(this.connected)try{let a=Object.assign({},this.disconnectHeaders);a.receipt||(a.receipt=`close-${this._counter++}`),this.watchForReceipt(a.receipt,a=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(a)}),this._transmit({command:"DISCONNECT",headers:a})}catch(a){this.debug(`Ignoring error during disconnect ${a}`)}else(this._webSocket.readyState===b.CONNECTING||this._webSocket.readyState===b.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(a){let{destination:b,headers:c,body:d,binaryBody:e,skipContentLengthHeader:f}=a,g=Object.assign({destination:b},c);this._transmit({command:"SEND",headers:g,body:d,binaryBody:e,skipContentLengthHeader:f})}watchForReceipt(a,b){this._receiptWatchers[a]=b}subscribe(a,b,c={}){(c=Object.assign({},c)).id||(c.id=`sub-${this._counter++}`),c.destination=a,this._subscriptions[c.id]=b,this._transmit({command:"SUBSCRIBE",headers:c});let d=this;return{id:c.id,unsubscribe:a=>d.unsubscribe(c.id,a)}}unsubscribe(a,b={}){b=Object.assign({},b),delete this._subscriptions[a],b.id=a,this._transmit({command:"UNSUBSCRIBE",headers:b})}begin(a){let b=a||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:b}});let c=this;return{id:b,commit(){c.commit(b)},abort(){c.abort(b)}}}commit(a){this._transmit({command:"COMMIT",headers:{transaction:a}})}abort(a){this._transmit({command:"ABORT",headers:{transaction:a}})}ack(a,b,c={}){c=Object.assign({},c),this._connectedVersion===k.V1_2?c.id=a:c["message-id"]=a,c.subscription=b,this._transmit({command:"ACK",headers:c})}nack(a,b,c={}){return c=Object.assign({},c),this._connectedVersion===k.V1_2?c.id=a:c["message-id"]=a,c.subscription=b,this._transmit({command:"NACK",headers:c})}}class m{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(a){this._disconnectHeaders=a,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===c.ACTIVE}_changeState(a){this.state=a,this.onChangeState(a)}constructor(a={}){this.stompVersions=k.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=9e5,this.reconnectTimeMode=d.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=e.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=c.INACTIVE;let b=()=>{};this.debug=b,this.beforeConnect=b,this.onConnect=b,this.onDisconnect=b,this.onUnhandledMessage=b,this.onUnhandledReceipt=b,this.onUnhandledFrame=b,this.onHeartbeatReceived=b,this.onHeartbeatLost=b,this.onStompError=b,this.onWebSocketClose=b,this.onWebSocketError=b,this.logRawCommunication=!1,this.onChangeState=b,this.connectHeaders={},this._disconnectHeaders={},this.configure(a)}configure(a){Object.assign(this,a),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){let a=()=>{if(this.active)return void this.debug("Already ACTIVE, ignoring request to activate");this._changeState(c.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===c.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{a()})):a()}async _connect(){if(await this.beforeConnect(this),this._stompHandler)return void this.debug("There is already a stompHandler, skipping the call to connect");if(!this.active)return void this.debug("Client has been marked inactive, will not attempt to connect");this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");let a=this._createWebSocket();this._stompHandler=new l(this,a,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:a=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(a)},onDisconnect:a=>{this.onDisconnect(a)},onStompError:a=>{this.onStompError(a)},onWebSocketClose:a=>{this._stompHandler=void 0,this.state===c.DEACTIVATING&&this._changeState(c.INACTIVE),this.onWebSocketClose(a),this.active&&this._schedule_reconnect()},onWebSocketError:a=>{this.onWebSocketError(a)},onUnhandledMessage:a=>{this.onUnhandledMessage(a)},onUnhandledReceipt:a=>{this.onUnhandledReceipt(a)},onUnhandledFrame:a=>{this.onUnhandledFrame(a)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let a;if(this.webSocketFactory)a=this.webSocketFactory();else if(this.brokerURL)a=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw Error("Either brokerURL or webSocketFactory must be provided");return a.binaryType="arraybuffer",a}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===d.EXPONENTIAL&&(this._nextReconnectDelay=2*this._nextReconnectDelay,0!==this.maxReconnectDelay&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(a={}){let d,e=a.force||!1,f=this.active;if(this.state===c.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(c.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),!this._stompHandler||this.webSocket.readyState===b.CLOSED)return this._changeState(c.INACTIVE),Promise.resolve();{let a=this._stompHandler.onWebSocketClose;d=new Promise((b,c)=>{this._stompHandler.onWebSocketClose=c=>{a(c),b()}})}return e?this._stompHandler?.discardWebsocket():f&&this._disposeStompHandler(),d}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(a){this._checkConnection(),this._stompHandler.publish(a)}_checkConnection(){if(!this.connected)throw TypeError("There is no underlying STOMP connection")}watchForReceipt(a,b){this._checkConnection(),this._stompHandler.watchForReceipt(a,b)}subscribe(a,b,c={}){return this._checkConnection(),this._stompHandler.subscribe(a,b,c)}unsubscribe(a,b={}){this._checkConnection(),this._stompHandler.unsubscribe(a,b)}begin(a){return this._checkConnection(),this._stompHandler.begin(a)}commit(a){this._checkConnection(),this._stompHandler.commit(a)}abort(a){this._checkConnection(),this._stompHandler.abort(a)}ack(a,b,c={}){this._checkConnection(),this._stompHandler.ack(a,b,c)}nack(a,b,c={}){this._checkConnection(),this._stompHandler.nack(a,b,c)}}}];

//# sourceMappingURL=node_modules_lucide-react_dist_esm_icons_message-circle_86539ea2.js.map