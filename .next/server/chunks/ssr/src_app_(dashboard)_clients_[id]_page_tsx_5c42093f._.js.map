{"version":3,"sources":["turbopack:///[project]/src/app/(dashboard)/clients/[id]/page.tsx","turbopack:///[project]/src/app/(dashboard)/clients/components/client/ClientHeader.tsx","turbopack:///[project]/src/app/(dashboard)/clients/components/client/ClientStats.tsx","turbopack:///[project]/src/app/(dashboard)/clients/components/client/ProfileSection.tsx","turbopack:///[project]/src/app/(dashboard)/clients/components/client/ProjectsTable.tsx","turbopack:///[project]/src/app/(dashboard)/clients/components/client/InvoicesTable.tsx","turbopack:///[project]/src/app/(dashboard)/clients/components/client/ClientCreditNotesTable.tsx","turbopack:///[project]/src/app/(dashboard)/clients/components/client/Row.tsx","turbopack:///[project]/src/app/(dashboard)/clients/components/client/ClientDocuments.tsx","turbopack:///[project]/src/app/(dashboard)/clients/components/client/ClientNotesTable.tsx","turbopack:///[project]/src/app/(dashboard)/clients/components/client/ClientPaymentsTable.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/circle-plus.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/loader.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/circle-dollar-sign.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/sticky-note.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/cloud-upload.ts"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useCallback, useRef } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport {\n  ClientHeader,\n  ClientStats,\n  ProfileSection,\n  InvoicesTable,\n} from \"../components/client/index\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\nimport {\n  MoreVertical,\n  Eye,\n  Edit2,\n  Pin,\n  Archive,\n  Trash2,\n  Grid,\n  Search,\n  X,\n} from \"lucide-react\";\nimport ClientCreditNotesTable from \"../components/client/ClientCreditNotesTable\";\nimport ClientPaymentsTable from \"../components/client/ClientPaymentsTable\";\nimport ClientDocuments from \"../components/client/ClientDocuments\";\nimport ClientNotesTable from \"../components/client/ClientNotesTable\";\n\nconst API_BASE = `${process.env.NEXT_PUBLIC_MAIN}`;\n\n// safe text parser (handles stringified JSON responses)\nconst safeParseText = (text: string) => {\n  if (!text) return null;\n  try {\n    return JSON.parse(text);\n  } catch {\n    try {\n      const t = text.trim();\n      if (\n        (t.startsWith('\"') && t.endsWith('\"')) ||\n        (t.startsWith(\"'\") && t.endsWith(\"'\"))\n      ) {\n        return JSON.parse(t.slice(1, -1));\n      }\n    } catch {}\n    return null;\n  }\n};\n\n// Normalize client object to avoid rendering raw objects as JSX children\nfunction normalizeClient(raw: any) {\n  if (!raw) return raw;\n  const companyRaw = raw.company;\n  let companyStr = \"\";\n  if (!companyRaw) companyStr = \"\";\n  else if (typeof companyRaw === \"string\") companyStr = companyRaw;\n  else if (typeof companyRaw === \"object\") {\n    companyStr =\n      companyRaw.companyName ??\n      companyRaw.name ??\n      companyRaw.company ??\n      JSON.stringify(companyRaw);\n  } else {\n    companyStr = String(companyRaw);\n  }\n\n  return {\n    ...raw,\n    company: companyStr,\n  };\n}\n\nconst STATUS_OPTIONS = [\n  \"IN_PROGRESS\",\n  \"NOT_STARTED\",\n  \"ON_HOLD\",\n  \"CANCELLED\",\n  \"FINISHED\",\n] as const;\ntype StatusOption = (typeof STATUS_OPTIONS)[number];\n\ntype Category = { id: string | number; name: string };\ntype ClientItem = { id: number; clientId?: string; name?: string };\ntype DepartmentItem = { id: number; departmentName: string };\n\nexport default function ClientDetailPage() {\n  const { id } = useParams() as { id?: string };\n  const router = useRouter();\n\n  // ---- client\n  const [client, setClient] = useState<any | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // stats\n  const [projectCount, setProjectCount] = useState<number | null>(null);\n  const [totalEarning, setTotalEarning] = useState<number | null>(null);\n  const [unpaidInvoiceCount, setUnpaidInvoiceCount] = useState<number | null>(\n    null\n  );\n  const [totalUnpaidAmount, setTotalUnpaidAmount] = useState<number | null>(\n    null\n  );\n\n  // projects\n  const [projects, setProjects] = useState<any[]>([]);\n  const [projectsLoading, setProjectsLoading] = useState(false);\n  const [projectsError, setProjectsError] = useState<string | null>(null);\n\n  // invoices\n  const [invoices, setInvoices] = useState<any[]>([]);\n  const [invoicesLoading, setInvoicesLoading] = useState(false);\n  const [invoicesError, setInvoicesError] = useState<string | null>(null);\n\n  // selects: categories, clients, departments\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [catLoading, setCatLoading] = useState(false);\n\n  const [clients, setClients] = useState<ClientItem[]>([]);\n  const [clientLoading, setClientLoading] = useState(false);\n\n  const [departments, setDepartments] = useState<DepartmentItem[]>([]);\n  const [deptLoading, setDeptLoading] = useState(false);\n\n  // tabs\n  const [activeTab, setActiveTab] = useState<\n    \"profile\" | \"projects\" | \"invoices\" |\"creditnotes\"| \"payments\"| \"documents\"|\"notes\"| string\n  >(\"profile\");\n\n  const token =localStorage.getItem(\"accessToken\") \n\n  // ---------- fetch client ----------\n  const fetchClient = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch(`${API_BASE}/clients/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\") || \"\"}`,\n        },\n      });\n      if (!res.ok) throw new Error(`Failed to fetch client (${res.status})`);\n      const data = await res.json();\n      setClient(normalizeClient(data));\n    } catch (err: any) {\n      setError(err?.message ?? \"An error occurred\");\n      setClient(null);\n    } finally {\n      setLoading(false);\n    }\n  }, [id]);\n\n  // ---------- helpers to load selects ----------\n  const loadCategories = useCallback(async () => {\n    setCatLoading(true);\n    try {\n      const res = await fetch(`${API_BASE}/api/projects/category`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\") || \"\"}`,\n        },\n      });\n      if (!res.ok) {\n        setCategories([]);\n        setCatLoading(false);\n        return;\n      }\n      const data = await res.json();\n      if (Array.isArray(data)) {\n        if (data.length > 0 && typeof data[0] === \"string\") {\n          setCategories(data.map((n, i) => ({ id: i + 1, name: String(n) })));\n        } else {\n          setCategories(\n            data.map((d: any) => ({\n              id: d.id ?? d.name ?? Math.random(),\n              name: d.name ?? String(d),\n            }))\n          );\n        }\n      } else {\n        setCategories([]);\n      }\n    } catch (err) {\n      console.error(\"loadCategories\", err);\n      setCategories([]);\n    } finally {\n      setCatLoading(false);\n    }\n  }, []);\n\n  const loadClients = useCallback(async () => {\n    setClientLoading(true);\n    try {\n      const res = await fetch(`${API_BASE}/clients`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\") || \"\"}`,\n        },\n      });\n      if (!res.ok) {\n        setClients([]);\n        setClientLoading(false);\n        return;\n      }\n      const data = await res.json();\n      if (Array.isArray(data)) setClients(data as ClientItem[]);\n      else if (Array.isArray(data.items))\n        setClients(data.items as ClientItem[]);\n      else setClients([]);\n    } catch (err) {\n      console.error(\"loadClients\", err);\n      setClients([]);\n    } finally {\n      setClientLoading(false);\n    }\n  }, []);\n\n  const loadDepartments = useCallback(async () => {\n    setDeptLoading(true);\n    try {\n      const res = await fetch(`${API_BASE}/admin/departments`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\") || \"\"}`,\n        },\n      });\n      if (!res.ok) {\n        setDepartments([]);\n        setDeptLoading(false);\n        return;\n      }\n      const data = await res.json();\n      if (Array.isArray(data)) setDepartments(data as DepartmentItem[]);\n      else if (Array.isArray(data.items))\n        setDepartments(data.items as DepartmentItem[]);\n      else setDepartments([]);\n    } catch (err) {\n      console.error(\"loadDepartments\", err);\n      setDepartments([]);\n    } finally {\n      setDeptLoading(false);\n    }\n  }, []);\n\n  // ---------- stats fetch ----------\n  async function fetchClientStats(clientId: string) {\n    const headers = {\n      Authorization: `Bearer ${localStorage.getItem(\"accessToken\") || \"\"}`,\n    };\n\n    try {\n      const res = await fetch(\n        `${API_BASE}/api/projects/client/${clientId}/stats`,\n        { headers }\n      );\n      const text = await res.text();\n      const parsed =\n        safeParseText(text) ?? (res.ok ? JSON.parse(text || \"{}\") : null);\n      const obj =\n        parsed &&\n        typeof parsed === \"object\" &&\n        (parsed.projectCount !== undefined || parsed.totalEarning !== undefined)\n          ? parsed\n          : parsed && typeof parsed === \"object\" && parsed[\"Response Body\"]\n          ? safeParseText(parsed[\"Response Body\"])\n          : parsed;\n\n      setProjectCount(Number(obj?.projectCount ?? 0));\n      setTotalEarning(Number(obj?.totalEarning ?? 0));\n    } catch {\n      setProjectCount(0);\n      setTotalEarning(0);\n    }\n\n    try {\n      const res2 = await fetch(\n        `${API_BASE}/api/invoices/client/${clientId}/stats/unpaid`,\n        { headers }\n      );\n      const text2 = await res2.text();\n      const parsed2 =\n        safeParseText(text2) ?? (res2.ok ? JSON.parse(text2 || \"{}\") : null);\n      const obj2 =\n        parsed2 &&\n        typeof parsed2 === \"object\" &&\n        (parsed2.unpaidInvoiceCount !== undefined ||\n          parsed2.totalUnpaidAmount !== undefined)\n          ? parsed2\n          : parsed2 && typeof parsed2 === \"object\" && parsed2[\"Response Body\"]\n          ? safeParseText(parsed2[\"Response Body\"])\n          : parsed2;\n\n      setUnpaidInvoiceCount(Number(obj2?.unpaidInvoiceCount ?? 0));\n      setTotalUnpaidAmount(Number(obj2?.totalUnpaidAmount ?? 0));\n    } catch {\n      setUnpaidInvoiceCount(0);\n      setTotalUnpaidAmount(0);\n    }\n  }\n\n  // ---------- projects fetch (called when Projects tab activated) ----------\n  async function fetchProjectsForClient(clientId: string) {\n    setProjectsLoading(true);\n    setProjectsError(null);\n    try {\n      const res = await fetch(`${API_BASE}/api/projects/client/${clientId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\") || \"\"}`,\n        },\n      });\n      const text = await res.text();\n      const parsed =\n        safeParseText(text) ?? (res.ok ? JSON.parse(text || \"[]\") : null);\n\n      let list: any[] = [];\n      if (Array.isArray(parsed)) list = parsed;\n      else if (parsed && Array.isArray(parsed.projects)) list = parsed.projects;\n      else if (parsed && Array.isArray(parsed.data)) list = parsed.data;\n      else if (parsed && parsed.ResponseBody) {\n        const inner = safeParseText(parsed.ResponseBody);\n        if (Array.isArray(inner)) list = inner;\n      }\n\n      const mapped = list.map((p: any) => ({\n        id: p.id ?? p.projectId ?? p._id ?? String(Math.random()),\n        shortCode:\n          p.shortCode ?? p.code ?? p.projectCode ?? p.project_code ?? p.id,\n        name: p.name ?? p.projectName ?? p.title ?? \"Project Name\",\n        members:\n          Array.isArray(p.assignedEmployees) && p.assignedEmployees.length\n            ? p.assignedEmployees.map((m: any) => ({\n                id: m.employeeId ?? m.id,\n                name: m.name ?? m.fullName,\n                avatarUrl: m.profileUrl ?? m.profilePictureUrl,\n              }))\n            : Array.isArray(p.members)\n            ? p.members\n            : [],\n        startDate: p.startDate ?? p.start_date ?? p.start,\n        deadline: p.deadline ?? p.endDate ?? p.end_date,\n        client:\n          p.client ??\n          (p.clientId\n            ? {\n                clientId: p.clientId,\n                name: client?.name,\n                profilePictureUrl: client?.profilePictureUrl,\n              }\n            : undefined),\n        progressPercent:\n          typeof p.progressPercent === \"number\"\n            ? p.progressPercent\n            : typeof p.progress === \"number\"\n            ? p.progress\n            : p.progress ?? 0,\n        projectStatus: (p.projectStatus ??\n          p.status ??\n          \"NOT_STARTED\") as StatusOption,\n        pinned: Boolean(p.pinned ?? p.isPinned),\n        archived: Boolean(p.archived ?? p.isArchived),\n        noDeadline: Boolean(p.noDeadline ?? false),\n      }));\n      setProjects(mapped);\n    } catch (err: any) {\n      setProjectsError(err?.message ?? \"Failed to fetch projects\");\n      setProjects([]);\n    } finally {\n      setProjectsLoading(false);\n    }\n  }\n\n  // ---------- invoices fetch (called when Invoices tab activated) ----------\n  async function fetchInvoicesForClient(clientId: string) {\n    setInvoicesLoading(true);\n    setInvoicesError(null);\n    try {\n      const res = await fetch(`${API_BASE}/api/invoices/client/${clientId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\") || \"\"}`,\n        },\n      });\n      const text = await res.text();\n      const parsed =\n        safeParseText(text) ?? (res.ok ? JSON.parse(text || \"[]\") : null);\n\n      let list: any[] = [];\n      if (Array.isArray(parsed)) list = parsed;\n      else if (parsed && Array.isArray(parsed.invoices)) list = parsed.invoices;\n      else if (parsed && Array.isArray(parsed.data)) list = parsed.data;\n      else if (parsed && parsed.ResponseBody) {\n        const inner = safeParseText(parsed.ResponseBody);\n        if (Array.isArray(inner)) list = inner;\n      }\n\n      const mapped = list.map((inv: any) => ({\n        id: inv.id ?? inv.invoiceId,\n        invoiceNumber: inv.invoiceNumber,\n        invoiceDate: inv.invoiceDate,\n        currency: inv.currency,\n        project: inv.project ?? {\n          projectName: inv.projectName,\n          projectCode: inv.projectCode,\n        },\n        total:\n          typeof inv.total === \"number\" ? inv.total : Number(inv.total ?? 0),\n        unpaidAmount:\n          typeof inv.unpaidAmount === \"number\"\n            ? inv.unpaidAmount\n            : Number(inv.unpaidAmount ?? 0),\n        status: inv.status,\n        createdAt: inv.createdAt,\n      }));\n      setInvoices(mapped);\n    } catch (err: any) {\n      setInvoicesError(err?.message ?? \"Failed to fetch invoices\");\n      setInvoices([]);\n    } finally {\n      setInvoicesLoading(false);\n    }\n  }\n\n  // ---------- Project action helpers (optimistic updates + rollback) ----------\n  const getToken = () => localStorage.getItem(\"accessToken\") || \"\";\n\n  async function patchStatus(\n    projectId: number | string,\n    newStatus: StatusOption\n  ) {\n    const prev = projects.slice();\n    setProjects((ps) =>\n      ps.map((pr) =>\n        pr.id === projectId ? { ...pr, projectStatus: newStatus } : pr\n      )\n    );\n    try {\n      const fd = new FormData();\n      fd.append(\"status\", newStatus);\n      const res = await fetch(`${API_BASE}/api/projects/${projectId}/status`, {\n        method: \"PATCH\",\n        body: fd,\n        headers: { Authorization: `Bearer ${getToken()}` },\n      });\n      if (!res.ok) throw new Error(\"Status patch failed\");\n      try {\n        const json = await res.json();\n        if (json && json.id) {\n          setProjects((ps) =>\n            ps.map((pr) => (pr.id === json.id ? { ...pr, ...json } : pr))\n          );\n        } else if (client?.clientId) {\n          await fetchProjectsForClient(client.clientId);\n        }\n      } catch {\n        if (client?.clientId) await fetchProjectsForClient(client.clientId);\n      }\n    } catch (err) {\n      console.error(\"Status update failed\", err);\n      setProjects(prev);\n      alert(\"Failed to update project status\");\n    }\n  }\n\n  async function patchProgress(projectId: number | string, percent: number) {\n    const clamped = Math.max(0, Math.min(100, Math.round(percent)));\n    const prev = projects.slice();\n    setProjects((ps) =>\n      ps.map((pr) =>\n        pr.id === projectId ? { ...pr, progressPercent: clamped } : pr\n      )\n    );\n    try {\n      const fd = new FormData();\n      fd.append(\"percent\", String(clamped));\n      const res = await fetch(\n        `${API_BASE}/api/projects/${projectId}/progress`,\n        {\n          method: \"PATCH\",\n          body: fd,\n          headers: { Authorization: `Bearer ${getToken()}` },\n        }\n      );\n      if (res.status === 401) {\n        setProjects(prev);\n        localStorage.removeItem(\"accessToken\");\n        alert(\"Session expired. Please login again.\");\n        return;\n      }\n      if (!res.ok) {\n        const text = await res.text().catch(() => \"\");\n        console.error(\"patchProgress failed:\", res.status, text);\n        setProjects(prev);\n        alert(\"Failed to update progress on server\");\n        return;\n      }\n      try {\n        if (res.status !== 204) {\n          const json = await res.json();\n          if (json && json.id)\n            setProjects((ps) =>\n              ps.map((pr) => (pr.id === json.id ? { ...pr, ...json } : pr))\n            );\n          else if (client?.clientId)\n            await fetchProjectsForClient(client.clientId);\n        }\n      } catch {\n        if (client?.clientId) await fetchProjectsForClient(client.clientId);\n      }\n    } catch (err) {\n      console.error(\"Progress update failed:\", err);\n      setProjects(prev);\n      alert(\"Failed to update progress on server\");\n    }\n  }\n\n  async function handlePin(projectId: number | string) {\n    const prev = projects.slice();\n    const idx = projects.findIndex((p) => p.id === projectId);\n    if (idx === -1) return;\n    const newPinned = !projects[idx].pinned;\n    setProjects((ps) =>\n      ps.map((pr) => (pr.id === projectId ? { ...pr, pinned: newPinned } : pr))\n    );\n    try {\n      const res = await fetch(`${API_BASE}/projects/${projectId}/pin`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${getToken()}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ pinned: newPinned }),\n      });\n      if (!res.ok) throw new Error(\"Pin failed\");\n      try {\n        const json = await res.json();\n        if (json && json.id)\n          setProjects((ps) =>\n            ps.map((pr) => (pr.id === json.id ? { ...pr, ...json } : pr))\n          );\n        else if (client?.clientId)\n          await fetchProjectsForClient(client.clientId);\n      } catch {\n        if (client?.clientId) await fetchProjectsForClient(client.clientId);\n      }\n    } catch (err) {\n      console.error(\"Pin toggle error\", err);\n      setProjects(prev);\n      alert(\"Failed to toggle pin\");\n    }\n  }\n\n  async function handleArchive(projectId: number | string) {\n    const prev = projects.slice();\n    const idx = projects.findIndex((p) => p.id === projectId);\n    if (idx === -1) return;\n    const newArchived = !projects[idx].archived;\n    setProjects((ps) =>\n      ps.map((pr) =>\n        pr.id === projectId ? { ...pr, archived: newArchived } : pr\n      )\n    );\n    try {\n      const res = await fetch(`${API_BASE}/projects/${projectId}/archive`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${getToken()}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ archived: newArchived }),\n      });\n      if (!res.ok) throw new Error(\"Archive toggle failed\");\n      try {\n        const json = await res.json();\n        if (json && json.id)\n          setProjects((ps) =>\n            ps.map((pr) => (pr.id === json.id ? { ...pr, ...json } : pr))\n          );\n        else if (client?.clientId)\n          await fetchProjectsForClient(client.clientId);\n      } catch {\n        if (client?.clientId) await fetchProjectsForClient(client.clientId);\n      }\n    } catch (err) {\n      console.error(\"Archive toggle error\", err);\n      setProjects(prev);\n      alert(\"Failed to toggle archive state on server\");\n    }\n  }\n\n  const handleDelete = async (projectId: number | string) => {\n    if (!confirm(\"Delete this project?\")) return;\n    const prev = projects.slice();\n    setProjects((ps) => ps.filter((p) => p.id !== projectId));\n    try {\n      const res = await fetch(`${API_BASE}/api/projects/${projectId}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${getToken()}` },\n      });\n      if (!res.ok) throw new Error(\"Delete failed\");\n    } catch (err) {\n      console.error(err);\n      setProjects(prev);\n      alert(\"Failed to delete project\");\n    }\n  };\n\n  // ---------- Add Project modal state & handlers ----------\n  const [showAddModal, setShowAddModal] = useState(false)\n  const [shortCode, setShortCode] = useState(\"\")\n  const [projectName, setProjectName] = useState(\"\")\n  const [startDate, setStartDate] = useState(\"\")\n  const [deadline, setDeadline] = useState(\"\")\n  const [noDeadline, setNoDeadline] = useState(false)\n  const [category, setCategory] = useState<string>(\"none\")\n  const [department, setDepartment] = useState<string>(\"none\")\n  const [clientField, setClientField] = useState<string>(\"none\")\n  const [summary, setSummary] = useState(\"\")\n  const [needsApproval, setNeedsApproval] = useState(true)\n  const [members, setMembers] = useState<string | string[]>(\"\")\n  const [file, setFile] = useState<File | null>(null)\n  const fileInputRef = useRef<HTMLInputElement | null>(null)\n  const [currency, setCurrency] = useState(\"USD\")\n  const [budget, setBudget] = useState<string>(\"\")\n  const [hoursEstimate, setHoursEstimate] = useState<string>(\"\")\n  const [allowManualTimeLogs, setAllowManualTimeLogs] = useState(false)\n  const [addedBy, setAddedBy] = useState<string>(\"you\")\n  const [submitting, setSubmitting] = useState(false)\n  \n   const clientId=client?.clientId\n   const clientNumericId = client?.id\n   \n\n  const resetAddForm = () => {\n    setShortCode(\"\");\n    setProjectName(\"\");\n    setStartDate(\"\");\n    setDeadline(\"\");\n    setNoDeadline(false);\n    setCategory(\"none\");\n    setDepartment(\"none\");\n    setClientField(client?.clientId ? String(client.clientId) : \"none\");\n    setSummary(\"\");\n    setNeedsApproval(true);\n    setMembers(\"\");\n    setFile(null);\n    setCurrency(\"USD\");\n    setBudget(\"\");\n    setHoursEstimate(\"\");\n    setAllowManualTimeLogs(false);\n    setAddedBy(\"you\");\n    setSubmitting(false);\n  };\n\n  const handleChooseFileClick = () => fileInputRef.current?.click();\n  const handleFileInputChange = (e: React.ChangeEvent<HTMLInputElement>) =>\n    setFile(e.target.files?.[0] ?? null);\n\n  const createProject = async () => {\n    if (!projectName.trim()) return alert(\"Project Name is required\");\n    setSubmitting(true);\n    try {\n      // ensure shortCode\n      let sc = shortCode.trim();\n      if (!sc) {\n        const slug = projectName\n          .toString()\n          .normalize(\"NFKD\")\n          .replace(/[\\u0300-\\u036F]/g, \"\")\n          .toLowerCase()\n          .trim()\n          .replace(/[^a-z0-9]+/g, \"-\")\n          .replace(/(^-|-$)+/g, \"\");\n        sc = slug\n          ? slug.toUpperCase().replace(/-/g, \"\").slice(0, 10)\n          : `PRJ${Date.now().toString().slice(-6)}`;\n      }\n\n      const fd = new FormData();\n      fd.append(\"shortCode\", sc);\n      fd.append(\"name\", projectName);\n      fd.append(\"projectName\", projectName);\n      fd.append(\"startDate\", startDate || \"\");\n      if (noDeadline) fd.append(\"deadline\", \"\");\n      else fd.append(\"deadline\", deadline || \"\");\n      fd.append(\"noDeadline\", String(Boolean(noDeadline)));\n      fd.append(\"category\", category === \"none\" ? \"\" : String(category));\n      fd.append(\"department\", department === \"none\" ? \"\" : String(department));\n      fd.append(\n        \"clientId\",\n        clientField === \"none\" ? client?.clientId ?? \"\" : String(clientField)\n      );\n      fd.append(\"summary\", summary || \"\");\n      fd.append(\"tasksNeedAdminApproval\", String(Boolean(needsApproval)));\n\n      const assignedArray = Array.isArray(members)\n        ? members\n        : String(members || \"\")\n            .split(\",\")\n            .map((s) => s.trim())\n            .filter(Boolean);\n\n      fd.append(\"assignedEmployeeIds\", JSON.stringify(assignedArray));\n      if (file) fd.append(\"companyFile\", file);\n      fd.append(\"currency\", currency || \"\");\n      fd.append(\"budget\", budget !== \"\" ? String(budget) : \"0\");\n      fd.append(\n        \"hoursEstimate\",\n        hoursEstimate !== \"\" ? String(hoursEstimate) : \"0\"\n      );\n      fd.append(\"allowManualTimeLogs\", String(Boolean(allowManualTimeLogs)));\n      fd.append(\"addedBy\", String(addedBy || \"\"));\n\n      const res = await fetch(`${API_BASE}/api/projects`, {\n        method: \"POST\",\n        body: fd,\n        headers: { Authorization: `Bearer ${getToken()}` },\n      });\n      if (!res.ok) {\n        const text = await res.text().catch(() => \"\");\n        console.error(\"Create project failed\", res.status, text);\n        let message = `Failed to create project (status ${res.status})`;\n        try {\n          const json = JSON.parse(text || \"{}\");\n          if (json && json.message) message = json.message;\n        } catch {}\n        alert(message);\n        setSubmitting(false);\n        return;\n      }\n      try {\n        await res.json();\n      } catch {}\n      // refresh projects list\n      if (client?.clientId) await fetchProjectsForClient(client.clientId);\n      setShowAddModal(false);\n      resetAddForm();\n    } catch (err) {\n      console.error(\"Create project error\", err);\n      alert(\"Failed to create project\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // initial fetch: client, selects\n  useEffect(() => {\n    if (id) fetchClient();\n    // load selects regardless\n    loadCategories();\n    loadClients();\n    loadDepartments();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  useEffect(() => {\n    if (client?.clientId) fetchClientStats(client.clientId);\n  }, [client]);\n\n  // when user activates Projects tab, load projects\n // Fetch projects AS SOON as client loads (so ProfileSection gets data)\nuseEffect(() => {\n  if (client?.clientId) {\n    fetchProjectsForClient(client.clientId)\n  }\n}, [client])\n\n\n  // when user activates Invoices tab, load invoices\n  useEffect(() => {\n    if (activeTab === \"invoices\" && client?.clientId) {\n      fetchInvoicesForClient(client.clientId);\n    }\n\n    \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeTab, client]);\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4\" />\n          <p className=\"text-muted-foreground\">Loading client details...</p>\n        </div>\n      </div>\n\n      \n    );\n  }\n\n  if (error || !client) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center\">\n        <div className=\"w-full max-w-md p-6 border rounded\">\n          <h3 className=\"text-destructive text-xl mb-2\">Error</h3>\n          <p className=\"mb-4\">{error || \"Client not found\"}</p>\n          <div>\n            <button\n              className=\"px-3 py-2 border rounded\"\n              onClick={() => router.push(\"/clients\")}\n            >\n              Back to Clients\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Project Row helper for consistent rendering (matching AllProjectsPage look/feel)\n  function ProjectRow({ p }: { p: any }) {\n    const start = p.startDate\n      ? new Date(p.startDate).toLocaleDateString()\n      : \"-\";\n    const dl = p.noDeadline\n      ? \"No Deadline\"\n      : p.deadline\n      ? new Date(p.deadline).toLocaleDateString()\n      : \"-\";\n    const progress = Math.max(0, Math.min(100, Number(p.progressPercent ?? 0)));\n    const getProgressColor = (n?: number | null) => {\n      if (n === undefined || n === null) return \"bg-gray-300\";\n      if (n < 33) return \"bg-red-500\";\n      if (n < 66) return \"bg-yellow-400\";\n      return \"bg-green-500\";\n    };\n    const statusBadgeClas = (s?: string | null) => {\n      switch (s) {\n        case \"IN_PROGRESS\":\n          return \"bg-green-600 text-white\";\n        case \"NOT_STARTED\":\n          return \"bg-gray-400 text-white\";\n        case \"ON_HOLD\":\n          return \"bg-yellow-500 text-white\";\n        case \"CANCELLED\":\n          return \"bg-red-600 text-white\";\n        case \"FINISHED\":\n          return \"bg-blue-600 text-white\";\n        default:\n          return \"bg-gray-400 text-white\";\n      }\n    };\n    const badgeDotColor = (status?: string | null) => {\n      switch (status) {\n        case \"IN_PROGRESS\":\n          return \"#10B981\";\n        case \"NOT_STARTED\":\n          return \"#9CA3AF\";\n        case \"ON_HOLD\":\n          return \"#F59E0B\";\n        case \"CANCELLED\":\n          return \"#EF4444\";\n        case \"FINISHED\":\n          return \"#3B82F6\";\n        default:\n          return \"#9CA3AF\";\n      }\n    };\n\n    return (\n      <TableRow key={p.id} className=\"bg-white hover:bg-gray-50\">\n        <TableCell className=\"py-4 px-4 align-top w-28\">\n          <div className=\"text-sm font-medium\">{p.shortCode ?? p.id}</div>\n        </TableCell>\n        <TableCell className=\"py-4 px-4 align-top\">\n          <div className=\"font-medium\">{p.name}</div>\n        </TableCell>\n        <TableCell className=\"py-4 px-4 align-top\">\n          <div className=\"text-sm\">\n            {Array.isArray(p.members) && p.members.length\n              ? p.members\n                  .map((m: any) => m.name ?? m)\n                  .slice(0, 3)\n                  .join(\", \")\n              : \"-\"}\n          </div>\n        </TableCell>\n        <TableCell className=\"py-4 px-4 align-top text-sm\">{start}</TableCell>\n        <TableCell className=\"py-4 px-4 align-top text-sm\">{dl}</TableCell>\n        <TableCell className=\"py-4 px-4 align-top\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center\">\n              {p.client?.profilePictureUrl ? (\n                <img\n                  src={p.client.profilePictureUrl}\n                  alt={p.client?.name}\n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <div className=\"text-xs text-gray-500\">\n                  {(p.client?.name || \"C\").charAt(0)}\n                </div>\n              )}\n            </div>\n            <div>\n              <div className=\"text-sm font-medium\">\n                {p.client?.name ?? \"Client\"}\n              </div>\n              <div className=\"text-xs text-gray-400\">\n                {p.client?.company ?? \"\"}\n              </div>\n            </div>\n          </div>\n        </TableCell>\n\n        <TableCell className=\"py-4 px-4 align-top\">\n          <div className=\"flex flex-col gap-2\">\n            <div\n              className=\"w-44 cursor-pointer\"\n              title=\"Click to filter by this progress bucket\"\n            >\n              <div className=\"relative bg-gray-200 h-4 rounded-full overflow-hidden\">\n                <div\n                  className={`h-4 rounded-full ${getProgressColor(progress)}`}\n                  style={{ width: `${progress}%` }}\n                />\n                <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n                  <span className=\"text-xs font-semibold text-white drop-shadow-sm\">\n                    {progress}%\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-3 mt-2\">\n              <button\n                className={`inline-flex items-center gap-2 px-2 py-1 rounded-full text-xs ${statusBadgeClas(\n                  p.projectStatus\n                )}`}\n                title=\"Status\"\n              >\n                <span\n                  className=\"w-2 h-2 rounded-full\"\n                  style={{ background: badgeDotColor(p.projectStatus) }}\n                />\n                <span>{p.projectStatus ?? \"N/A\"}</span>\n              </button>\n\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <button className=\"inline-flex items-center gap-1 px-2 py-1 border rounded text-sm bg-white hover:bg-gray-50\">\n                    <span className=\"text-xs text-gray-500\">â–¾</span>\n                  </button>\n                </DropdownMenuTrigger>\n\n                <DropdownMenuContent align=\"start\" className=\"w-64 p-2\">\n                  <div className=\"text-xs text-gray-500 mb-1\">\n                    Change status\n                  </div>\n                  <div className=\"space-y-1\">\n                    {STATUS_OPTIONS.map((s) => (\n                      <button\n                        key={s}\n                        onClick={() => patchStatus(p.id, s as StatusOption)}\n                        className={`w-full text-left px-3 py-2 rounded text-sm hover:bg-gray-50 ${\n                          s === p.projectStatus ? \"font-medium\" : \"\"\n                        }`}\n                      >\n                        {s}\n                      </button>\n                    ))}\n                  </div>\n\n                  <DropdownMenuSeparator />\n                  <div className=\"text-xs text-gray-500 mt-2 mb-1\">\n                    Adjust progress\n                  </div>\n                  <div>\n                    <input\n                      type=\"range\"\n                      min={0}\n                      max={100}\n                      value={p.progressPercent ?? 0}\n                      onChange={(e) => {\n                        const v = Number(e.target.value);\n                        setProjects((prev) =>\n                          prev.map((pr) =>\n                            pr.id === p.id ? { ...pr, progressPercent: v } : pr\n                          )\n                        );\n                      }}\n                      onMouseUp={async (e) => {\n                        const v = Number((e.target as HTMLInputElement).value);\n                        await patchProgress(p.id, v);\n                      }}\n                      onTouchEnd={async (e) => {\n                        const v = Number((e.target as HTMLInputElement).value);\n                        await patchProgress(p.id, v);\n                      }}\n                      className=\"w-full\"\n                    />\n                    <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n                      <span>0%</span>\n                      <span>{p.progressPercent ?? 0}%</span>\n                      <span>100%</span>\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-end mt-2\">\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      onClick={() =>\n                        client?.clientId &&\n                        fetchProjectsForClient(client.clientId)\n                      }\n                    >\n                      Refresh\n                    </Button>\n                  </div>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            </div>\n          </div>\n        </TableCell>\n\n        <TableCell className=\"py-4 px-4 align-top text-right\">\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                <MoreVertical className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\n              <DropdownMenuItem\n                onClick={() => router.push(`/work/project/${p.id}`)}\n              >\n                <Eye className=\"h-4 w-4 mr-2\" /> View\n              </DropdownMenuItem>\n\n              <DropdownMenuItem\n                onClick={() => router.push(`/work/project/${p.id}/edit`)}\n              >\n                <Edit2 className=\"h-4 w-4 mr-2\" /> Edit\n              </DropdownMenuItem>\n\n              <DropdownMenuItem onClick={() => handlePin(p.id)}>\n                <Pin className=\"h-4 w-4 mr-2\" /> {p.pinned ? \"Unpin\" : \"Pin\"}{\" \"}\n                Project\n              </DropdownMenuItem>\n\n              <DropdownMenuItem onClick={() => handleArchive(p.id)}>\n                <Archive className=\"h-4 w-4 mr-2\" />{\" \"}\n                {p.archived ? \"Unarchive\" : \"Archive\"}\n              </DropdownMenuItem>\n\n              <DropdownMenuSeparator />\n\n              <DropdownMenuItem\n                onClick={() => handleDelete(p.id)}\n                className=\"text-red-600\"\n              >\n                <Trash2 className=\"h-4 w-4 mr-2\" /> Delete\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </TableCell>\n      </TableRow>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto py-8 px-4\">\n      {/* Header */}\n      <ClientHeader\n        clientName={client.name}\n        clientId={client.clientId}\n        onBack={() => router.push(\"/clients\")}\n        onOpenTab={(t) => setActiveTab(t)}\n        activeTab={activeTab}\n      />\n\n      {/* Stats (only on profile tab) */}\n      {activeTab === \"profile\" && (\n        <ClientStats\n          projectCount={projectCount}\n          totalEarning={totalEarning}\n          unpaidInvoiceCount={unpaidInvoiceCount}\n          totalUnpaidAmount={totalUnpaidAmount}\n        />\n      )}\n\n\n {activeTab === \"creditnotes\" && (\n        <ClientCreditNotesTable clientId={client.clientId} />\n      )}\n\n      {/* Main content by tab */}\n      {activeTab === \"profile\" && <ProfileSection client={client} projects={projects} />}\n      {/* <ProfileSection client={client} projects={projects} /> */}\n\n\n      {activeTab === \"projects\" && (\n        <div className=\"mt-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h3 className=\"text-lg font-semibold\">\n              Projects for {client.name}\n            </h3>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"flex items-center gap-2 border rounded px-2 py-1 bg-white\">\n                <Search className=\"w-4 h-4 text-gray-400\" />\n                <Input\n                  placeholder=\"Search projects\"\n                  onChange={() => {\n                    /* implement search if needed */\n                  }}\n\n\n                  className=\"border-0 bg-transparent focus-visible:ring-0\"\n                />\n              </div>\n              <Button\n                className=\"bg-blue-600 text-white\"\n                onClick={() => {\n                  setShowAddModal(true);\n                  /* preselect client */ setClientField(\n                    client?.clientId ? String(client.clientId) : \"none\"\n                  );\n                }}\n              >\n                + Add Project\n              </Button>\n            </div>\n          </div>\n\n\n          <div className=\"bg-white rounded-lg border overflow-hidden\">\n            <div className=\"overflow-auto p-4\">\n              {projectsLoading ? (\n                <div className=\"p-8 text-center text-gray-500\">\n                  Loading projects...\n                </div>\n              ) : projects.length === 0 ? (\n                <div className=\"p-8 text-center text-gray-500\">\n                  No projects found\n                </div>\n              ) : (\n                <Table>\n                  <TableHeader>\n                    <TableRow className=\"bg-blue-50\">\n                      <TableHead className=\"px-4 py-3\">Code</TableHead>\n                      <TableHead className=\"px-4 py-3\">Project Name</TableHead>\n                      <TableHead className=\"px-4 py-3\">Member</TableHead>\n                      <TableHead className=\"px-4 py-3\">Start Date</TableHead>\n                      <TableHead className=\"px-4 py-3\">Deadline</TableHead>\n                      <TableHead className=\"px-4 py-3\">Client</TableHead>\n                      <TableHead className=\"px-4 py-3\">Status</TableHead>\n                      <TableHead className=\"px-4 py-3 text-right\">\n                        Action\n                      </TableHead>\n                    </TableRow>\n                  </TableHeader>\n\n                  <TableBody>\n                    {projects.map((p) => (\n                      <ProjectRow key={p.id} p={p} />\n                    ))}\n                  </TableBody>\n                </Table>\n              )}\n            </div>\n          </div>\n        </div>\n        \n      )}\n\n      {activeTab === \"invoices\" && (\n    \n       <InvoicesTable clientId={`${clientId}`} />\n      // <InvoicesTable clientId=\"CLI005\" />\n\n      )}\n\n\n{/* NEW: Payments tab rendering */}\n      {(activeTab === \"payments\" || activeTab === \"Payments\") && (\n        <div className=\"mt-6\">\n          <ClientPaymentsTable\n            clientId={client.clientId}\n            onAdd={() => {\n              /* open add payment modal if you have one */\n              //console.log(\"Open add payment\");\n            }}\n            onSearch={(q) => {\n              //console.log(\"search payments:\", q);\n            }}\n            onAction={(p) => {\n              // You can open a payment details modal here if you want\n              //console.log(\"payment row action\", p);\n            }}\n          />\n        </div>\n      )}\n\n     {activeTab === \"notes\" && (\n <ClientNotesTable\n  clientId={clientNumericId} // string | number or object with .id\n  authToken={token}\n  onView={(note) => {\n    // open view modal or navigate\n    //console.log(\"view\", note);\n  }}\n  onEdit={(note) => {\n    // navigate to edit page or open form component\n    // e.g. router.push(`/clients/${clientId}/notes/${note.id}/edit`);\n    //console.log(\"edit\", note);\n  }}\n  onDelete={(note) => {\n    // optional: already optimistic remove happens inside component\n    //console.log(\"deleted\", note);\n  }}\n/>\n\n)}\n\n\n\n {activeTab === \"documents\" && (\n  <ClientDocuments clientId={client} authToken={token} />\n\n)}\n  \n\n      {/* ADD PROJECT MODAL */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 z-[10000] flex items-start justify-center pt-12 px-4 overflow-y-auto\">\n          <div\n            className=\"fixed inset-0 bg-black/40\"\n            onClick={() => {\n              setShowAddModal(false);\n              resetAddForm();\n            }}\n          />\n          <div className=\"relative w-full max-w-4xl bg-white rounded-xl shadow-2xl overflow-y-auto z-10\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h3 className=\"text-lg font-semibold\">Add Project</h3>\n              <button\n                onClick={() => {\n                  setShowAddModal(false);\n                  resetAddForm();\n                }}\n                className=\"p-2 rounded hover:bg-gray-100\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-6\">\n              {/* Project Details */}\n              <div className=\"rounded-lg border p-4\">\n                <h4 className=\"font-medium mb-3\">Project Details</h4>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-sm text-gray-600\">\n                      Short Code *\n                    </label>\n                    <Input\n                      value={shortCode}\n                      onChange={(e) => setShortCode(e.target.value)}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600\">\n                      Project Name *\n                    </label>\n                    <Input\n                      value={projectName}\n                      onChange={(e) => setProjectName(e.target.value)}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">\n                      Start Date *\n                    </label>\n                    <Input\n                      type=\"date\"\n                      value={startDate}\n                      onChange={(e) => setStartDate(e.target.value)}\n                    />\n                  </div>\n                  <div>\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex-1\">\n                        <label className=\"text-sm text-gray-600\">\n                          Deadline *\n                        </label>\n                        <Input\n                          type=\"date\"\n                          value={deadline}\n                          onChange={(e) => setDeadline(e.target.value)}\n                          disabled={noDeadline}\n                        />\n                      </div>\n                      <div className=\"pt-6\">\n                        <label className=\"inline-flex items-center gap-2 text-sm text-gray-600\">\n                          <input\n                            type=\"checkbox\"\n                            checked={noDeadline}\n                            onChange={(e) => setNoDeadline(e.target.checked)}\n                          />\n                          <span className=\"text-xs\">\n                            There is no project deadline\n                          </span>\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">\n                      Project Category *\n                    </label>\n                    <div className=\"flex gap-2\">\n                      <Select\n                        value={category}\n                        onValueChange={(v) => setCategory(v)}\n                      >\n                        <SelectTrigger className=\"w-full\">\n                          <SelectValue placeholder=\"--\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"none\">--</SelectItem>\n                          {categories.map((c) => (\n                            <SelectItem key={c.id} value={String(c.id)}>\n                              {c.name}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">\n                      Department *\n                    </label>\n                    <Select\n                      value={department}\n                      onValueChange={(v) => setDepartment(v)}\n                    >\n                      <SelectTrigger className=\"w-full\">\n                        <SelectValue placeholder=\"--\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"none\">--</SelectItem>\n                        {departments.map((d) => (\n                          <SelectItem key={d.id} value={String(d.id)}>\n                            {d.departmentName}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Client *</label>\n                    <Select\n                      value={clientField}\n                      onValueChange={(v) => setClientField(v)}\n                    >\n                      <SelectTrigger className=\"w-full\">\n                        <SelectValue placeholder=\"--\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"none\">--</SelectItem>\n                        {clients.map((c) => (\n                          <SelectItem\n                            key={c.id}\n                            value={String(c.clientId ?? c.id)}\n                          >\n                            {c.name}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div className=\"col-span-2\">\n                    <label className=\"text-sm text-gray-600\">\n                      Project Summary\n                    </label>\n                    <textarea\n                      rows={4}\n                      value={summary}\n                      onChange={(e) => setSummary(e.target.value)}\n                      className=\"w-full p-2 border rounded\"\n                    />\n                  </div>\n\n                  <div>\n                    <div className=\"text-sm text-gray-600 mb-1\">\n                      Tasks needs approval by Admin\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                      <label className=\"inline-flex items-center gap-2\">\n                        <input\n                          type=\"radio\"\n                          name=\"approval\"\n                          checked={needsApproval === true}\n                          onChange={() => setNeedsApproval(true)}\n                        />\n                        <span className=\"text-sm\">Yes</span>\n                      </label>\n                      <label className=\"inline-flex items-center gap-2\">\n                        <input\n                          type=\"radio\"\n                          name=\"approval\"\n                          checked={needsApproval === false}\n                          onChange={() => setNeedsApproval(false)}\n                        />\n                        <span className=\"text-sm\">No</span>\n                      </label>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">\n                      Add Project Members *\n                    </label>\n                    <Input\n                      placeholder=\"Comma separated names\"\n                      value={\n                        Array.isArray(members) ? members.join(\",\") : members\n                      }\n                      onChange={(e) => setMembers(e.target.value)}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Company Details â€” SINGLE (below Project Details) */}\n              <div className=\"rounded-lg border p-4\">\n                <h4 className=\"font-medium mb-3\">Company Details</h4>\n\n                <div className=\"mb-4\">\n                  <label className=\"text-sm text-gray-600 mb-2 block\">\n                    Add File\n                  </label>\n                  <div\n                    onClick={handleChooseFileClick}\n                    className=\"border-2 border-dashed rounded-lg h-28 flex items-center justify-center cursor-pointer text-gray-500\"\n                  >\n                    {file ? <div>{file.name}</div> : <div>Choose File</div>}\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      className=\"hidden\"\n                      onChange={handleFileInputChange}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Currency</label>\n                    <Select\n                      value={currency}\n                      onValueChange={(v) => setCurrency(v)}\n                    >\n                      <SelectTrigger className=\"w-full\">\n                        <SelectValue placeholder=\"USD\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"USD\">USD $</SelectItem>\n                        <SelectItem value=\"USD\">USD â‚¹</SelectItem>\n                        <SelectItem value=\"EUR\">EUR â‚¬</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">\n                      Project Budget\n                    </label>\n                    <Input\n                      value={budget}\n                      onChange={(e) => setBudget(e.target.value)}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">\n                      Hours Estimate (In Hours)\n                    </label>\n                    <Input\n                      value={hoursEstimate}\n                      onChange={(e) => setHoursEstimate(e.target.value)}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mt-3 flex items-center justify-between\">\n                  <div className=\"flex items-center gap-4\">\n                    <label className=\"inline-flex items-center gap-2\">\n                      <input\n                        type=\"checkbox\"\n                        checked={allowManualTimeLogs}\n                        onChange={(e) =>\n                          setAllowManualTimeLogs(e.target.checked)\n                        }\n                      />\n                      <span className=\"text-sm text-gray-600\">\n                        Allow manual time logs\n                      </span>\n                    </label>\n                  </div>\n\n                  <div className=\"flex items-center gap-2\">\n                    <label className=\"text-sm text-gray-600 mr-2\">\n                      Added by*\n                    </label>\n                    <Select\n                      value={addedBy}\n                      onValueChange={(v) => setAddedBy(v)}\n                    >\n                      <SelectTrigger className=\"w-44\">\n                        <SelectValue placeholder=\"You\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"you\">You</SelectItem>\n                        {/* optionally fill with members from projects if available */}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n              </div>\n\n              {/* ACTIONS */}\n              <div className=\"flex items-center justify-end gap-3\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => {\n                    setShowAddModal(false);\n                    resetAddForm();\n                  }}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  className=\"bg-blue-600 text-white\"\n                  onClick={createProject}\n                  disabled={submitting}\n                >\n                  {submitting ? \"Saving...\" : \"Save\"}\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n","\"use client\"\nimport React from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { ArrowLeft, FileText, StickyNote } from \"lucide-react\"\nimport Link from \"next/link\"\n\n\ntype Props = {\nclientName: string\nclientId?: string\nonBack?: () => void\nonOpenTab?: (tab: string) => void\nactiveTab?: string\n}\n\n\nexport const ClientHeader: React.FC<Props> = ({ clientName, clientId, onBack, onOpenTab, activeTab = \"profile\" }) => {\nconst tabs = [\n{ key: \"profile\", label: \"Profile\" },\n{ key: \"projects\", label: \"Projects\" },\n{ key: \"invoices\", label: \"Invoices\" },\n{ key: \"creditnotes\", label: \"Credit Notes \" },\n{ key: \"payments\", label: \"Payments\" },\n{ key: \"documents\", label: \"Documents\" },\n{ key: \"notes\", label: \"Notes\" },\n]\n\n\nreturn (\n<div className=\"mb-6\">\n<div className=\"flex items-center justify-between\">\n<div>\n<h1 className=\"text-3xl font-semibold\">{clientName}</h1>\n<p className=\"text-sm text-muted-foreground\">Client ID: {clientId}</p>\n</div>\n\n\n<div className=\"flex items-center gap-3\">\n<Button variant=\"ghost\" className=\"hidden sm:inline-flex items-center gap-2\" onClick={onBack}>\n<ArrowLeft className=\"mr-1 h-4 w-4\" /> Back to Clients \n</Button>\n\n\n<Link href={`/clients/${clientId}/documents`}>\n<Button variant=\"outline\" className=\"flex items-center gap-2\">\n<FileText className=\"h-4 w-4\" /> Documents\n</Button>\n</Link>\n\n\n<Link href={`/clients/${clientId}/notes`}>\n<Button variant=\"outline\" className=\"flex items-center gap-2\">\n<StickyNote className=\"h-4 w-4\" /> Notes\n</Button>\n</Link>\n</div>\n</div>\n\n\n<div className=\"mt-6 border-b\">\n<nav className=\"flex gap-6 text-sm text-slate-600\">\n{tabs.map((t) => (\n<button\nkey={t.key}\nonClick={() => onOpenTab?.(t.key)}\nclassName={`pb-3 ${activeTab === t.key ? \"border-b-2 border-primary text-primary font-medium\" : \"\"}`}>\n{t.label}\n</button>\n\n\n\n))}\n</nav>\n</div>\n</div>\n)\n}\n\n\nexport default ClientHeader","\"use client\"\nimport React from \"react\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\"\n\ntype Props = {\n  projectCount?: number | null\n  totalEarning?: number | null\n  unpaidInvoiceCount?: number | null\n  totalUnpaidAmount?: number | null\n}\n\nconst placeholderImg = \"/mnt/data/Screenshot 2025-11-25 124734.png\"\n\nexport const ClientStats: React.FC<Props> = ({ projectCount, totalEarning, unpaidInvoiceCount, totalUnpaidAmount }) => (\n  <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6\">\n    <div className=\"col-span-1\">\n      <Card>\n        <CardContent className=\"flex items-center gap-4\">\n          <Avatar className=\"h-16 w-16\">\n            <AvatarImage src={placeholderImg} alt=\"client\" />\n            <AvatarFallback>NA</AvatarFallback>\n          </Avatar>\n          <div>\n            <div className=\"font-medium\">Client</div>\n            <div className=\"text-sm text-muted-foreground\" />\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n\n    <div className=\"lg:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4\">\n      <Card>\n        <CardContent>\n          <div className=\"text-sm text-slate-600\">Total Projects</div>\n          <div className=\"text-2xl font-semibold text-blue-600 mt-2\">{projectCount ?? \"â€”\"}</div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardContent>\n          <div className=\"text-sm text-slate-600\">Total Earnings</div>\n          <div className=\"text-2xl font-semibold text-blue-600 mt-2\">{totalEarning !== null ? totalEarning.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : \"â€”\"}</div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardContent>\n          <div className=\"text-sm text-slate-600\">Due Invoices</div>\n          <div className=\"text-2xl font-semibold text-blue-600 mt-2\">{unpaidInvoiceCount ?? \"â€”\"}</div>\n          {totalUnpaidAmount !== null && (\n            <div className=\"text-xs text-muted-foreground mt-1\">{totalUnpaidAmount.toLocaleString(undefined, { style: \"currency\", currency: \"USD\", minimumFractionDigits: 2 })}</div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  </div>\n)\n\nexport default ClientStats","\"use client\"\nimport React, { useMemo } from \"react\"\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from \"@/components/ui/card\"\nimport Row from \"./Row\"\n\n/**\n * Order + colors chosen to match the screenshot:\n *  Finished  -> green\n *  To Do     -> yellow  (mapped from ON_HOLD)\n *  In Progress -> blue\n *  Cancelled -> red\n *  Not Started -> gray\n */\nconst STATUS_ORDER = [\n  { key: \"FINISHED\", label: \"Finished\", color: \"#16A34A\" },      // green\n  { key: \"ON_HOLD\", label: \"To Do\", color: \"#F59E0B\" },          // yellow (used as \"To Do\")\n  { key: \"IN_PROGRESS\", label: \"In Progress\", color: \"#2563EB\" },// blue\n  { key: \"CANCELLED\", label: \"Cancelled\", color: \"#EF4444\" },    // red\n  { key: \"NOT_STARTED\", label: \"Not Started\", color: \"#9CA3AF\" },// gray\n] as const\n\ntype StatusKey = (typeof STATUS_ORDER)[number][\"key\"]\n\n/**\n * ProfileSection shows client info (unchanged) and a Projects card which contains:\n *  - donut chart (pie) built with CSS conic-gradient\n *  - legend to the right matching the screenshot\n *\n * Pass projects prop from parent: <ProfileSection client={client} projects={projects} />\n */\nexport const ProfileSection: React.FC<{ client: any; projects?: any[] }> = ({ client, projects = [] }) => {\n  // normalize and compute counts/pcts in the SAME order as STATUS_ORDER\n  const statusStats = useMemo(() => {\n    const total = Array.isArray(projects) ? projects.length : 0\n\n    // initialize counts\n    const counts: Record<string, number> = {}\n    STATUS_ORDER.forEach((s) => (counts[s.key] = 0))\n\n    // Accept many potential status fields and normalize\n    function normalizeProjectStatus(p: any): StatusKey {\n      if (!p) return \"NOT_STARTED\"\n      const cand = (p.projectStatus ?? p.status ?? p.state ?? p.project_state ?? \"\").toString().trim()\n      const up = cand.toUpperCase().replace(/ /g, \"_\")\n\n      if ([\"FINISHED\", \"COMPLETED\", \"DONE\"].includes(up)) return \"FINISHED\"\n      if ([\"IN_PROGRESS\", \"INPROGRESS\", \"IN-PROGRESS\", \"ONGOING\", \"RUNNING\"].includes(up)) return \"IN_PROGRESS\"\n      if ([\"ON_HOLD\", \"HOLD\", \"PAUSED\", \"TODO\", \"TO_DO\", \"TO-DO\"].includes(up)) return \"ON_HOLD\"\n      if ([\"CANCELLED\", \"CANCELED\", \"CANCEL\"].includes(up)) return \"CANCELLED\"\n      if ([\"NOT_STARTED\", \"NOTSTARTED\", \"PENDING\", \"PLANNED\"].includes(up)) return \"NOT_STARTED\"\n\n      // fallback: if it happens to match one of our keys exactly\n      if ((STATUS_ORDER as any).some((m: any) => m.key === up)) return up as StatusKey\n\n      // last fallback\n      return \"NOT_STARTED\"\n    }\n\n    (projects || []).forEach((p) => {\n      const k = normalizeProjectStatus(p)\n      counts[k] = (counts[k] || 0) + 1\n    })\n\n    // build items in the desired order\n    const items = STATUS_ORDER.map((s) => {\n      const count = counts[s.key] ?? 0\n      const pct = total > 0 ? (count / total) * 100 : 0\n      return { key: s.key, label: s.label, color: s.color, count, pct }\n    })\n\n    return { total, items }\n  }, [projects])\n\n  // build conic-gradient CSS string from items (keeps order)\n  const gradientStyle = useMemo(() => {\n    const segs: string[] = []\n    let cursor = 0\n    statusStats.items.forEach((it) => {\n      const start = cursor\n      const end = cursor + Math.max(0, Math.round(it.pct * 100) / 100) // keep decimals under control\n      // if pct is zero we still add a 0-length segment (harmless)\n      segs.push(`${it.color} ${start}% ${end}%`)\n      cursor = end\n    })\n    // if rounding left some gap, fill remainder with transparent (or gray)\n    if (cursor < 100) {\n      segs.push(`#ffffff ${cursor}% 100%`) // small white gap if any rounding error\n    }\n    return segs.join(\", \")\n  }, [statusStats.items])\n\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n      <div className=\"lg:col-span-2\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Profile Information </CardTitle>\n            <CardDescription>Details about client</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 gap-0\">\n              <Row label=\"Name\" value={client.name} />\n              <Row label=\"Email\" value={client.email} />\n              <Row label=\"Gender\" value={\"â€”\"} />\n              <Row label=\"Company Name\" value={client.company?.companyName ?? \"â€”\"} />\n              <Row label=\"Company Logo\" value={client.companyLogoUrl ? \"Uploaded\" : \"â€”\"} />\n              <Row label=\"Mobile\" value={client.mobile ?? \"â€”\"} />\n              <Row label=\"Office Phone No.\" value={\"â€”\"} />\n              <Row label=\"Official Website\" value={\"â€”\"} />\n              <Row label=\"Tax No.\" value={\"â€”\"} />\n              <Row label=\"Address\" value={\"â€”\"} />\n              <Row label=\"State\" value={client.company?.state ?? \"â€”\"} />\n              <Row label=\"Country\" value={client.country ?? \"usa\"} />\n              <Row label=\"Postal Code\" value={\"â€”\"} />\n              <Row label=\"Language\" value={\"English\"} />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"space-y-4\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Projects</CardTitle>\n            <CardDescription>\n              {statusStats.total > 0 ? `${statusStats.total} project${statusStats.total > 1 ? \"s\" : \"\"}` : \"No projects yet\"}\n            </CardDescription>\n          </CardHeader>\n\n          <CardContent>\n            {statusStats.total === 0 ? (\n              <div className=\"h-40 flex items-center justify-center\">\n                <div className=\"w-28 h-28 rounded-full bg-blue-500/90\" />\n              </div>\n            ) : (\n              <div className=\"flex items-center gap-6\">\n                {/* LEFT: Pie/Donut */}\n                <div className=\"flex-shrink-0\">\n                  <div\n                    className=\"relative\"\n                    style={{\n                      width: 140,\n                      height: 140,\n                    }}\n                  >\n                    {/* Pie using conic-gradient */}\n                    <div\n                      aria-hidden\n                      className=\"rounded-full\"\n                      style={{\n                        width: 140,\n                        height: 140,\n                        background: `conic-gradient(${gradientStyle})`,\n                        boxShadow: \"0 1px 4px rgba(0,0,0,0.06)\",\n                      }}\n                    />\n\n                    {/* Center hole to make donut (white center) */}\n                    <div\n                      className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full\"\n                      style={{\n                        width: 90,\n                        height: 90,\n                        background: \"#ffffff\",\n                        boxShadow: \"inset 0 1px 0 rgba(255,255,255,0.6)\",\n                      }}\n                    />\n\n                    {/* Optional percentage in center: show largest segment pct */}\n                    <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center justify-center pointer-events-none\">\n                      {/* show largest segment pct and label */}\n                      {(() => {\n                        const sorted = [...statusStats.items].sort((a, b) => b.pct - a.pct)\n                        const top = sorted[0]\n                        return (\n                          <>\n                            <div className=\"text-sm font-semibold\" style={{ color: top?.color ?? \"#111\" }}>\n                              {Math.round(top?.pct ?? 0)}%\n                            </div>\n                            <div className=\"text-xs text-gray-500 -mt-0.5\">{top?.label}</div>\n                          </>\n                        )\n                      })()}\n                    </div>\n                  </div>\n                </div>\n\n                {/* RIGHT: Legend (vertical list) */}\n                <div className=\"flex-1\">\n                  <div className=\"flex flex-col gap-3\">\n                    {statusStats.items.map((it) => (\n                      <div key={it.key} className=\"flex items-center gap-3\">\n                        <div className=\"w-6 h-6 rounded-sm flex-shrink-0\" style={{ background: it.color }} />\n                        <div className=\"flex-1\">\n                          <div className=\"text-sm font-medium\">{it.label}</div>\n                          <div className=\"text-xs text-gray-500\">{it.count} project{it.count !== 1 ? \"s\" : \"\"}</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Invoices </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"h-40 flex items-center justify-center\">\n              <div className=\"w-32 h-32 rounded-full bg-green-600/90\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n\nexport default ProfileSection\n","\"use client\"\nimport React from \"react\"\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { DropdownMenu, DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem, DropdownMenuSeparator } from \"@/components/ui/dropdown-menu\"\nimport { MoreHorizontal } from \"lucide-react\"\n\n\nconst placeholderImg = \"/mnt/data/Screenshot 2025-11-25 124734.png\"\n\nexport const ProjectsTable: React.FC<{\n  projects: any[]\n  loading?: boolean\n  error?: string | null\n  clientName?: string\n  onView?: (id: string) => void\n  onEdit?: (id: string) => void\n  onDelete?: (id: string) => void\n  onAdd?: () => void\n}> = ({ projects = [], loading, error, clientName, onView, onEdit, onDelete, onAdd }) => {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Projects</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"mb-4 flex items-center justify-between\">\n          <div>\n            <Button className=\"bg-blue-600 hover:bg-blue-700 text-white\" onClick={onAdd}>+ Add Project dfnfj</Button>\n          </div>\n          <div className=\"w-64\">\n            <input placeholder=\"Search\" className=\"w-full px-3 py-2 border rounded\" />\n          </div>\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"bg-blue-50 text-left text-xs\">\n                <th className=\"px-4 py-3\">Code</th>\n                <th className=\"px-4 py-3\">Project Name</th>\n                <th className=\"px-4 py-3\">Members</th>\n                <th className=\"px-4 py-3\">Start Date</th>\n                <th className=\"px-4 py-3\">Deadline</th>\n                <th className=\"px-4 py-3\">Client</th>\n                <th className=\"px-4 py-3\">Status</th>\n                <th className=\"px-4 py-3\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {loading ? (\n                <tr>\n                  <td colSpan={8} className=\"text-center py-8\">Loading projects...</td>\n                </tr>\n              ) : error ? (\n                <tr>\n                  <td colSpan={8} className=\"text-center py-8 text-red-600\">{error}</td>\n                </tr>\n              ) : projects.length === 0 ? (\n                <tr>\n                  <td colSpan={8} className=\"text-center py-8\">No projects found</td>\n                </tr>\n              ) : (\n                projects.map((p) => (\n                  <tr key={p.id} className=\"border-t\">\n                    <td className=\"px-4 py-3\">{p.code ?? \"â€”\"}</td>\n                    <td className=\"px-4 py-3\">{p.name}</td>\n                    <td className=\"px-4 py-3\">\n                      <div className=\"flex -space-x-2 items-center\">\n                        {p.members && p.members.slice(0, 3).map((m: any, i: number) => (\n                          <div key={m.id || i} className=\"w-7 h-7 rounded-full ring-2 ring-white overflow-hidden\">\n                            <img src={m.avatarUrl || placeholderImg} alt={m.name} className=\"w-full h-full object-cover\" />\n                          </div>\n                        ))}\n                        {p.members && p.members.length > 3 && (\n                          <div className=\"w-7 h-7 rounded-full bg-slate-200 flex items-center justify-center text-xs ring-2 ring-white\">+{p.members.length - 3}</div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-4 py-3\">{p.startDate ? new Date(p.startDate).toLocaleDateString() : \"â€”\"}</td>\n                    <td className=\"px-4 py-3\">{p.deadline ? new Date(p.deadline).toLocaleDateString() : \"â€”\"}</td>\n                    <td className=\"px-4 py-3\">\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"w-8 h-8 rounded-full overflow-hidden\">\n                          <img src={p.client?.avatarUrl || placeholderImg} alt={p.client?.name || clientName} className=\"w-full h-full object-cover\" />\n                        </div>\n                        <div className=\"text-sm\">\n                          <div className=\"font-medium\">{p.client?.name ?? clientName}</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-4 py-3\">\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"w-24 h-3 bg-green-200 rounded\" style={{ position: \"relative\" }}>\n                          <div className=\"h-3 bg-green-500 rounded\" style={{ width: `${p.progressPercent ?? 0}%` }} />\n                        </div>\n                        <div className=\"text-xs text-muted-foreground\">{p.progressPercent ?? 0}%</div>\n                      </div>\n                      <div className=\"mt-2 text-xs\">\n                        <Badge variant=\"secondary\">{p.status ?? \"In Progress\"}</Badge>\n                      </div>\n                    </td>\n                    <td className=\"px-4 py-3\">\n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                            <span className=\"sr-only\">Open menu</span>\n                            <MoreHorizontal className=\"h-4 w-4\" />\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent align=\"end\">\n                          <DropdownMenuItem onClick={() => onView?.(p.id)}>View</DropdownMenuItem>\n                          <DropdownMenuItem onClick={() => onEdit?.(p.id)}>Edit</DropdownMenuItem>\n                          <DropdownMenuSeparator />\n                          <DropdownMenuItem onClick={() => onDelete?.(p.id)} className=\"text-destructive\">Delete</DropdownMenuItem>\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default ProjectsTable","\"use client\";\n\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Plus,\n  CheckCircle,\n  Trash,\n  Upload,\n  Copy,\n  MoreHorizontal,\n  Edit2,\n  FileText,\n  Eye,\n  CircleDollarSign,\n  Bell,\n  PlusCircle,\n  Download,\n  X,\n  CloudUpload,\n} from \"lucide-react\";\n\nconst API_BASE =  `${process.env.NEXT_PUBLIC_MAIN}`;\n\nconst tryParseResponse = async (res: Response) => {\n  try { return { parsed: await res.clone().json(), raw: null }; }\n  catch {\n    try {\n      const txt = await res.clone().text();\n      return { parsed: JSON.parse(txt), raw: txt };\n    } catch { return { parsed: null, raw: null }; }\n  }\n};\n\nexport default function InvoicesTable({\n  clientId,\n  invoicesProp,\n  onInvoiceCreated,\n}: {\n  clientId?: string | number | null;\n  invoicesProp?: any[] | null;\n  onInvoiceCreated?: (invOrNull: any) => void;\n}) {\n  const [invoices, setInvoices] = useState<any[]>(invoicesProp ?? []);\n  const [loading, setLoading] = useState<boolean>(Boolean(!invoicesProp));\n  const [error, setError] = useState<string | null>(null);\n  const [rawResponse, setRawResponse] = useState<string | null>(null);\n\n  const [search, setSearch] = useState(\"\");\n  const [activeInvoice, setActiveInvoice] = useState<any | null>(null);\n  const [showViewModal, setShowViewModal] = useState(false);\n\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [creating, setCreating] = useState(false);\n  const [createForm, setCreateForm] = useState<any>({\n    invoiceNumber: \"\",\n    invoiceDate: \"\",\n    currency: \"USD\",\n    projectId: \"\",\n    clientId: clientId ? String(clientId) : (invoicesProp && invoicesProp[0]?.client?.clientId ? String(invoicesProp[0].client.clientId) : \"\"),\n    amount: 0,\n    taxPercent: 10,\n    discountValue: 0,\n    discountIsPercent: true,\n    notes: \"\",\n  });\n\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [editForm, setEditForm] = useState<any>(null);\n\n  // Receipt create modal (existing)\n  const [showReceiptModal, setShowReceiptModal] = useState(false);\n  const [savingReceipt, setSavingReceipt] = useState(false);\n  const [receiptForm, setReceiptForm] = useState<any>({\n    invoiceNumber: \"\",\n    issueDate: \"\",\n    currency: \"USD\",\n    sellerCompanyName: \"\",\n    sellerCompanyAddress: \"\",\n    sellerCompanyCode: \"\",\n    sellerCompanyTaxNumber: \"\",\n    sellerCompanyEmail: \"\",\n    sellerCompanyPhoneNumber: \"\",\n    sellerCompanyBankName: \"\",\n    sellerCompanyBankAccountNumber: \"\",\n    buyerCompanyName: \"\",\n    buyerCompanyAddress: \"\",\n    buyerCompanyCode: \"\",\n    buyerCompanyTaxNumber: \"\",\n    buyerCleintName: \"\",\n    buyerCompanyEmail: \"\",\n    buyerCompanyPhoneNumber: \"\",\n    buyerCompanyBankName: \"\",\n    buyerCompanyBankAccountNumber: \"\",\n    productName: \"\",\n    tax: 0,\n    priceWithOutTax: 0,\n    quantity: 1,\n    description: \"\",\n  });\n\n  // NEW receipts modal state\n  const [showReceiptsModal, setShowReceiptsModal] = useState(false);\n  const [receiptsLoading, setReceiptsLoading] = useState(false);\n  const [receiptsError, setReceiptsError] = useState<string | null>(null);\n  const [receiptsList, setReceiptsList] = useState<any[]>([]);\n  const [selectedInvoiceForReceipts, setSelectedInvoiceForReceipts] = useState<any | null>(null);\n\n  // Per-receipt action menu state (new)\n  const [receiptMenuOpenFor, setReceiptMenuOpenFor] = useState<any | null>(null);\n  const [receiptMenuPos, setReceiptMenuPos] = useState<{ left: number; top: number } | null>(null);\n  const receiptMenuRef = useRef<HTMLDivElement | null>(null);\n\n  const [projectsList, setProjectsList] = useState<any[]>([]);\n  const [projectsLoading, setProjectsLoading] = useState(false);\n  const [clientsList, setClientsList] = useState<any[]>([]);\n  const [clientsLoading, setClientsLoading] = useState(false);\n\n  // hidden input refs\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n\n  // OLD upload flow kept for compatibility but we will use modal flow\n  const [fileToUpload, setFileToUpload] = useState<File | null>(null);\n  const uploadTargetRef = useRef<any | null>(null);\n  const [uploading, setUploading] = useState(false);\n\n  // NEW: Upload modal UI state (matches screenshot)\n  const [showUploadModal, setShowUploadModal] = useState(false);\n  const [uploadSelectedFile, setUploadSelectedFile] = useState<File | null>(null);\n  const [uploadError, setUploadError] = useState<string | null>(null);\n\n  const [menuOpenFor, setMenuOpenFor] = useState<any | null>(null);\n  const [menuPos, setMenuPos] = useState<{ left: number; top: number } | null>(null);\n  const menuRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    setCreateForm((p: any) => ({ ...p, clientId: clientId ? String(clientId) : p.clientId ?? \"\" }));\n  }, [clientId, invoicesProp]);\n\n  const getAuthHeaders = (extra: Record<string, string> = {}) => {\n    const token = typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") || \"\" : \"\";\n    return token ? { Authorization: `Bearer ${token}`, ...extra } : extra;\n  };\n\n  const invoicePaths = (inv: any) => {\n    const paths: string[] = [];\n    if (!inv) return paths;\n    if (inv.invoiceNumber) paths.push(`${API_BASE}/api/invoices/${encodeURIComponent(String(inv.invoiceNumber))}`);\n    if (inv.id !== undefined && inv.id !== null) paths.push(`${API_BASE}/api/invoices/${encodeURIComponent(String(inv.id))}`);\n    return paths;\n  };\n\n  const isPaidInvoice = (inv: any) => {\n    if (!inv) return false;\n    const s = String(inv?.status ?? \"\").toLowerCase();\n    if (s.includes(\"paid\")) return true;\n    if (typeof inv.unpaidAmount === \"number\" && inv.unpaidAmount === 0) return true;\n    if (typeof inv.total === \"number\" && typeof inv.paidAmount === \"number\" && inv.total <= (inv.paidAmount ?? 0)) return true;\n    return false;\n  };\n  const isUnpaidInvoice = (inv: any) => {\n    if (!inv) return false;\n    const s = String(inv?.status ?? \"\").toLowerCase();\n    if (s.includes(\"unpaid\") || s.includes(\"partial\") || s.includes(\"partially\")) return true;\n    if (typeof inv.unpaidAmount === \"number\" && inv.unpaidAmount > 0) return true;\n    return false;\n  };\n  const isCreditInvoice = (inv: any) => {\n    if (!inv) return false;\n    const s = String(inv?.status ?? \"\").toLowerCase();\n    if (s.includes(\"credit\") || s.includes(\"creditnote\") || s.includes(\"credit-note\")) return true;\n    if (inv.isCreditNote) return true;\n    if (Array.isArray(inv.creditNotes) && inv.creditNotes.length > 0) return true;\n    return false;\n  };\n\n  // fetch invoices\n  const fetchInvoices = async (explicitClientId?: string | number | null) => {\n    setLoading(true);\n    setError(null);\n    setRawResponse(null);\n    try {\n      const cid = explicitClientId ?? clientId ?? null;\n      if (!cid) {\n        setInvoices([]);\n        setError(\"No client specified (pass invoicesProp or clientId)\");\n        setLoading(false);\n        return;\n      }\n      const candidates = [\n        `${API_BASE}/api/invoices/client/${encodeURIComponent(String(cid))}`,\n        `/api/invoices/client/${encodeURIComponent(String(cid))}`,\n        `${API_BASE}/api/finance/invoices?clientId=${encodeURIComponent(String(cid))}`,\n        `/api/finance/invoices?clientId=${encodeURIComponent(String(cid))}`,\n      ];\n      let lastErr: any = null;\n      for (const url of candidates) {\n        try {\n          const res = await fetch(url, { headers: getAuthHeaders(), cache: \"no-store\" });\n          if (res.status === 401 || res.status === 403) {\n            const t = await res.text().catch(() => \"\");\n            setError(`Auth error ${res.status}. Check access token.`);\n            setInvoices([]);\n            setRawResponse(t || null);\n            setLoading(false);\n            return;\n          }\n          if (!res.ok) {\n            lastErr = { url, status: res.status, text: await res.text().catch(() => \"\") };\n            continue;\n          }\n          const parsed = await tryParseResponse(res);\n          if (Array.isArray(parsed.parsed)) { setInvoices(parsed.parsed); setLoading(false); return; }\n          if (typeof parsed.raw === \"string\") {\n            try {\n              const maybe = JSON.parse(parsed.raw);\n              if (Array.isArray(maybe)) { setInvoices(maybe); setLoading(false); return; }\n            } catch {}\n          }\n          if (parsed.parsed && typeof parsed.parsed === \"object\") {\n            const obj = parsed.parsed as any;\n            if (Array.isArray(obj.invoices)) { setInvoices(obj.invoices); setLoading(false); return; }\n            if (Array.isArray(obj.items)) { setInvoices(obj.items); setLoading(false); return; }\n          }\n          setRawResponse(parsed.raw ?? null);\n          //console.log(\"guuuuuuuu\",rawResponse)\n          setInvoices([]);\n          setError(\"Server returned unexpected payload. See rawResponse for details.\");\n          setLoading(false);\n          return;\n        } catch (err) { lastErr = err; continue; }\n      }\n      setInvoices([]);\n      setError(`All fetch attempts failed. Last error: ${JSON.stringify(lastErr)}`);\n    } catch (err: any) {\n      setInvoices([]);\n      setError(err?.message ?? \"Failed to fetch invoices\");\n    } finally { setLoading(false); }\n  };\n\n  useEffect(() => {\n    if (invoicesProp && Array.isArray(invoicesProp)) { setInvoices(invoicesProp); setLoading(false); setError(null); return; }\n    if (clientId) { fetchInvoices(clientId); return; }\n    setInvoices([]); setLoading(false); setError(\"No client specified (pass invoicesProp or clientId)\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [clientId, invoicesProp]);\n\n  // dropdown lists\n  const fetchProjectsList = async () => {\n    setProjectsLoading(true);\n    try {\n      const res = await fetch(`${API_BASE}/projects/AllProject`, { headers: getAuthHeaders() });\n      if (!res.ok) { setProjectsList([]); setProjectsLoading(false); return; }\n      const txt = await res.text();\n      let parsed: any = null;\n      try { parsed = JSON.parse(txt); } catch { parsed = null; }\n      if (Array.isArray(parsed)) setProjectsList(parsed);\n      else {\n        try {\n          const maybe = JSON.parse(String(parsed ?? txt));\n          if (Array.isArray(maybe)) setProjectsList(maybe);\n          else setProjectsList([]);\n        } catch {\n          setProjectsList([]);\n        }\n      }\n    } catch (err) {\n      console.error(\"fetchProjectsList\", err);\n      setProjectsList([]);\n    } finally { setProjectsLoading(false); }\n  };\n\n  const fetchClientsList = async () => {\n    setClientsLoading(true);\n    try {\n      const res = await fetch(`${API_BASE}/clients`, { headers: getAuthHeaders() });\n      if (!res.ok) { setClientsList([]); setClientsLoading(false); return; }\n      const txt = await res.text();\n      let parsed: any = null;\n      try { parsed = JSON.parse(txt); } catch { parsed = null; }\n      if (Array.isArray(parsed)) setClientsList(parsed);\n      else {\n        try {\n          const maybe = JSON.parse(String(parsed ?? txt));\n          if (Array.isArray(maybe)) setClientsList(maybe);\n          else setClientsList([]);\n        } catch {\n          setClientsList([]);\n        }\n      }\n    } catch (err) {\n      console.error(\"fetchClientsList\", err);\n      setClientsList([]);\n    } finally { setClientsLoading(false); }\n  };\n\n  useEffect(() => {\n    fetchProjectsList();\n    fetchClientsList();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // menu close handlers\n  useEffect(() => {\n    const onDoc = (e: MouseEvent) => {\n      const el = e.target as HTMLElement | null;\n      if (!el) return;\n      if (menuRef.current && menuRef.current.contains(el)) return;\n      if (receiptMenuRef.current && receiptMenuRef.current.contains(el)) return;\n      if (el.closest(\".invoice-action-button\")) return;\n      if (el.closest(\".receipt-action-button\")) return;\n      setMenuOpenFor(null); setMenuPos(null);\n      setReceiptMenuOpenFor(null); setReceiptMenuPos(null);\n    };\n    const onScrollOrResize = () => { setMenuOpenFor(null); setMenuPos(null); setReceiptMenuOpenFor(null); setReceiptMenuPos(null); };\n    document.addEventListener(\"click\", onDoc);\n    window.addEventListener(\"scroll\", onScrollOrResize, true);\n    window.addEventListener(\"resize\", onScrollOrResize);\n    return () => {\n      document.removeEventListener(\"click\", onDoc);\n      window.removeEventListener(\"scroll\", onScrollOrResize, true);\n      window.removeEventListener(\"resize\", onScrollOrResize);\n    };\n  }, []);\n\n  const openMenuFor = (inv: any, buttonEl: HTMLElement | null) => {\n    if (!buttonEl) return;\n    const rect = buttonEl.getBoundingClientRect();\n    const menuWidth = 260;\n    const margin = 8;\n    let left = rect.right - menuWidth;\n    if (left < margin) left = rect.left;\n    const top = rect.bottom + window.scrollY + 6;\n    const maxLeft = window.scrollX + window.innerWidth - menuWidth - margin;\n    if (left + window.scrollX > maxLeft) left = Math.max(window.scrollX + margin, maxLeft);\n    setMenuPos({ left: Math.max(left, window.scrollX + margin), top });\n    setMenuOpenFor(inv);\n  };\n\n  // open receipt menu (new)\n  const openReceiptMenuFor = (r: any, buttonEl: HTMLElement | null) => {\n    if (!buttonEl) return;\n    const rect = buttonEl.getBoundingClientRect();\n    const menuWidth = 220;\n    const margin = 8;\n    let left = rect.right - menuWidth;\n    if (left < margin) left = rect.left;\n    const top = rect.bottom + window.scrollY + 6;\n    const maxLeft = window.scrollX + window.innerWidth - menuWidth - margin;\n    if (left + window.scrollX > maxLeft) left = Math.max(window.scrollX + margin, maxLeft);\n    setReceiptMenuPos({ left: Math.max(left, window.scrollX + margin), top });\n    setReceiptMenuOpenFor(r);\n  };\n\n  // -----------------------\n  // UPLOAD MODAL FLOW (NEW)\n  // -----------------------\n\n  // when user clicks \"Upload File\" in menu, we open upload modal instead of immediate file dialog\n  const openUploadModalFor = (inv: any) => {\n    uploadTargetRef.current = inv;\n    setUploadSelectedFile(null);\n    setUploadError(null);\n    setShowUploadModal(true);\n    setMenuOpenFor(null);\n    setMenuPos(null);\n  };\n\n  // handle file choose via hidden input\n  const onChooseFileClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  const onFileInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const f = e.target.files?.[0] ?? null;\n    if (f) {\n      setUploadSelectedFile(f);\n      setUploadError(null);\n    }\n    // reset input value so same file can be picked again\n    e.currentTarget.value = \"\";\n  };\n\n  // drag/drop handlers for the big drop area\n  const onDrop = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const f = e.dataTransfer.files?.[0] ?? null;\n    if (f) {\n      setUploadSelectedFile(f);\n      setUploadError(null);\n    }\n  };\n  const onDragOver = (e: React.DragEvent<HTMLDivElement>) => { e.preventDefault(); };\n\n  // IMPORTANT: uses explicit API path per your note: POST {Gateway}/api/invoices/{invoiceNumber}/files\n  const handleUploadSave = async () => {\n    if (!uploadSelectedFile) { setUploadError(\"Please choose a file first\"); return; }\n    const inv = uploadTargetRef.current;\n    if (!inv) { setUploadError(\"Upload target not set\"); return; }\n\n    setUploading(true);\n    setUploadError(null);\n    try {\n      // prefer invoiceNumber path as specified by your API\n      const invoiceNumber = inv.invoiceNumber ?? inv.id ?? null;\n      if (!invoiceNumber) throw new Error(\"Invoice number not available for upload\");\n      const uploadUrl = `${API_BASE}/api/invoices/${encodeURIComponent(String(invoiceNumber))}/files`;\n\n      const fd = new FormData();\n      fd.append(\"file\", uploadSelectedFile);\n      const res = await fetch(uploadUrl, { method: \"POST\", headers: getAuthHeaders(), body: fd });\n      if (!res.ok) {\n        const t = await res.text().catch(() => \"\");\n        throw new Error(`Upload failed ${res.status} ${t}`);\n      }\n\n      // parse response: your console shows plain URL string in body\n      const resText = await res.text().catch(() => \"\");\n      // if it's a JSON, try to parse; else treat as returned URL\n      let returnedUrl: string | null = null;\n      try {\n        const maybe = JSON.parse(resText);\n        if (typeof maybe === \"string\") returnedUrl = maybe;\n        else if (maybe && typeof maybe.url === \"string\") returnedUrl = maybe.url;\n      } catch {\n        if (typeof resText === \"string\" && resText.trim().length > 0) returnedUrl = resText.trim();\n      }\n\n      // refresh parent/state similarly\n      if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(null as any);\n      else await fetchInvoices(clientId);\n\n      // If receipts modal open for same invoice, reload receipts for that invoice\n      if (showReceiptsModal && selectedInvoiceForReceipts) {\n        const sameInvoice = (a: any, b: any) => {\n          if (!a || !b) return false;\n          const ai = a.id ?? a.invoiceId ?? a.invoiceNumber ?? null;\n          const bi = b.id ?? b.invoiceId ?? b.invoiceNumber ?? null;\n          return ai != null && bi != null && String(ai) === String(bi);\n        };\n        if (sameInvoice(selectedInvoiceForReceipts, inv)) {\n          await viewReceipts(selectedInvoiceForReceipts);\n        }\n      }\n\n      // Optionally, if you want to immediately add returned URL to local invoice object for UI (non-breaking):\n      // if (returnedUrl) {\n      //   setInvoices((prev) => prev.map((iv) => {\n      //     const idA = iv.id ?? iv.invoiceNumber ?? null;\n      //     const idB = inv.id ?? inv.invoiceNumber ?? null;\n      //     if (idA != null && idB != null && String(idA) === String(idB)) {\n      //       const files = Array.isArray(iv.files) ? [...iv.files] : [];\n      //       files.unshift({ url: returnedUrl, name: uploadSelectedFile.name });\n      //       return { ...iv, files };\n      //     }\n      //     return iv;\n      //   }));\n      // }\n\n      if (returnedUrl) {\n  setInvoices((prev) => prev.map((iv) => {\n    const idA = iv.id ?? iv.invoiceNumber ?? null;\n    const idB = inv.id ?? inv.invoiceNumber ?? null;\n    if (idA != null && idB != null && String(idA) === String(idB)) {\n      const files = Array.isArray(iv.files) ? [...iv.files] : [];\n      files.unshift({ url: returnedUrl, name: uploadSelectedFile.name });\n\n      const fileUrls = Array.isArray(iv.fileUrls) ? [...iv.fileUrls] : [];\n      // push string URL (avoid duplicates)\n      if (!fileUrls.includes(returnedUrl)) fileUrls.unshift(returnedUrl);\n\n      return { ...iv, files, fileUrls };\n    }\n    return iv;\n  }));\n}\n\n\n      alert(\"Upload successful\");\n      setShowUploadModal(false);\n      uploadTargetRef.current = null;\n      setUploadSelectedFile(null);\n    } catch (err: any) {\n      setUploadError(err?.message ?? \"Upload failed\");\n      alert(err?.message ?? \"Upload failed\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  // keep legacy effect in case other code sets fileToUpload (not used now, but safe)\n  useEffect(() => {\n    if (!fileToUpload) return;\n    (async () => {\n      const inv = uploadTargetRef.current;\n      if (!inv) { alert(\"Upload target not set\"); setFileToUpload(null); return; }\n      setUploading(true);\n      try {\n        const p = invoicePaths(inv)[0];\n        if (!p) throw new Error(\"Cannot determine invoice resource for upload\");\n        const fd = new FormData();\n        fd.append(\"file\", fileToUpload);\n        const res = await fetch(`${p}/files`, { method: \"POST\", headers: getAuthHeaders(), body: fd });\n        if (!res.ok) { const t = await res.text().catch(() => \"\"); throw new Error(`Upload failed ${res.status} ${t}`); }\n        if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(null as any);\n        else await fetchInvoices(clientId);\n        alert(\"Upload successful\");\n      } catch (err: any) { alert(err?.message ?? \"Upload failed\"); }\n      finally { setFileToUpload(null); setUploading(false); uploadTargetRef.current = null; setMenuOpenFor(null); setMenuPos(null); }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fileToUpload]);\n\n  const fetchInvoiceDetails = async (inv: any) => {\n    if (!inv) return inv;\n    for (const p of invoicePaths(inv)) {\n      try {\n        const res = await fetch(p, { headers: getAuthHeaders(), cache: \"no-store\" });\n        if (!res.ok) continue;\n        const parsed = await tryParseResponse(res);\n        return parsed.parsed ?? parsed.raw ?? inv;\n      } catch {}\n    }\n    return inv;\n  };\n\n  const openViewFromMenu = async (inv: any) => {\n    const full = await fetchInvoiceDetails(inv);\n    setActiveInvoice(full);\n    setShowViewModal(true);\n    setMenuOpenFor(null);\n    setMenuPos(null);\n  };\n\n  // create invoice (existing)\n  const handleCreate = async () => {\n    setCreating(true);\n    try {\n      const payload = {\n        invoiceNumber: createForm.invoiceNumber || undefined,\n        invoiceDate: createForm.invoiceDate || undefined,\n        currency: createForm.currency,\n        projectId: createForm.projectId || undefined,\n        clientId: createForm.clientId || String(clientId ?? createForm.clientId ?? \"\"),\n        amount: Number(createForm.amount || 0),\n        tax: Number(createForm.taxPercent || 0),\n        discount: Number(createForm.discountValue || 0),\n        discountIsPercent: Boolean(createForm.discountIsPercent),\n        notes: createForm.notes || undefined,\n      };\n      const res = await fetch(`${API_BASE}/api/invoices`, {\n        method: \"POST\",\n        headers: getAuthHeaders({ \"Content-Type\": \"application/json\" }),\n        body: JSON.stringify(payload),\n      });\n      if (!res.ok) {\n        const t = await res.text().catch(() => \"\");\n        throw new Error(`Create failed: ${res.status} ${t}`);\n      }\n      const parsed = await tryParseResponse(res);\n      const created = parsed.parsed ?? null;\n      if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(created);\n      else await fetchInvoices(clientId);\n      setShowCreateModal(false);\n      setCreateForm((prev: any) => ({ ...prev, invoiceNumber: \"\", invoiceDate: \"\", projectId: \"\", amount: 0, taxPercent: 10, discountValue: 0, discountIsPercent: true, notes: \"\" }));\n      if (created?.id || created?.invoiceNumber) {\n        const full = await fetchInvoiceDetails(created);\n        setActiveInvoice(full);\n        setShowViewModal(true);\n      }\n    } catch (err: any) {\n      alert(err?.message ?? \"Create failed\");\n    } finally {\n      setCreating(false);\n      setMenuOpenFor(null);\n      setMenuPos(null);\n    }\n  };\n\n  // remaining handlers unchanged (edit, payments, credit etc.)\n  const openEditModal = async (inv: any) => {\n    const full = await fetchInvoiceDetails(inv);\n    setEditForm({\n      id: full.id ?? full.invoiceNumber ?? null,\n      invoiceNumber: full.invoiceNumber ?? \"\",\n      invoiceDate: full.invoiceDate ?? \"\",\n      currency: full.currency ?? \"USD\",\n      projectId: full.project?.projectId ?? full.projectId ?? \"\",\n      amount: full.amount ?? full.total ?? 0,\n      tax: full.tax ?? 0,\n      discount: full.discount ?? 0,\n      notes: full.notes ?? \"\",\n    });\n    setShowEditModal(true);\n    setMenuOpenFor(null);\n    setMenuPos(null);\n  };\n\n  const handleEditSave = async () => {\n    if (!editForm) return;\n    setEditing(true);\n    try {\n      const paths: string[] = [];\n      if (editForm.id) paths.push(`${API_BASE}/api/invoices/${encodeURIComponent(String(editForm.id))}`);\n      if (editForm.invoiceNumber) paths.push(`${API_BASE}/api/invoices/${encodeURIComponent(String(editForm.invoiceNumber))}`);\n      let success = false;\n      for (const p of paths) {\n        try {\n          const res = await fetch(p, {\n            method: \"PUT\",\n            headers: getAuthHeaders({ \"Content-Type\": \"application/json\" }),\n            body: JSON.stringify({\n              invoiceNumber: editForm.invoiceNumber,\n              invoiceDate: editForm.invoiceDate,\n              currency: editForm.currency,\n              projectId: editForm.projectId,\n              amount: Number(editForm.amount || 0),\n              tax: Number(editForm.tax || 0),\n              discount: Number(editForm.discount || 0),\n              notes: editForm.notes || undefined,\n            }),\n          });\n          if (!res.ok) continue;\n          success = true;\n          break;\n        } catch {}\n      }\n      if (!success) throw new Error(\"Edit/save failed (no supported endpoint)\");\n      if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(null as any);\n      else await fetchInvoices(clientId);\n      setShowEditModal(false);\n    } catch (err: any) { alert(err?.message ?? \"Save failed\"); }\n    finally { setEditing(false); setMenuOpenFor(null); setMenuPos(null); }\n  };\n\n  const openCreditModal = (inv: any) => {\n    setActiveInvoice(inv);\n    setMenuOpenFor(null);\n    setMenuPos(null);\n    const amt = prompt(\"Credit amount:\");\n    if (!amt) return;\n    const amount = Number(amt);\n    if (isNaN(amount) || amount <= 0) return alert(\"Invalid amount\");\n    (async () => {\n      try {\n        const p = invoicePaths(inv)[0];\n        if (p) {\n          const res = await fetch(`${p}/credit-note`, {\n            method: \"POST\",\n            headers: getAuthHeaders({ \"Content-Type\": \"application/json\" }),\n            body: JSON.stringify({ amount }),\n          });\n          if (!res.ok) throw new Error(\"Credit creation failed\");\n        }\n        if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(null as any);\n        else await fetchInvoices(clientId);\n        alert(\"Credit created\");\n      } catch (err: any) { alert(err?.message ?? \"Credit failed\"); }\n    })();\n  };\n\n  const handleMarkPaid = async (inv: any) => {\n    if (!inv) return;\n    if (!confirm(\"Mark this invoice as paid?\")) return;\n    let success = false;\n    for (const p of invoicePaths(inv)) {\n      try {\n        const res = await fetch(`${p}/mark-paid`, { method: \"POST\", headers: getAuthHeaders() });\n        if (res.ok) { success = true; break; }\n      } catch {}\n    }\n    if (!success) return alert(\"Mark paid failed (endpoint not supported?)\");\n    if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(null as any);\n    else await fetchInvoices(clientId);\n    setMenuOpenFor(null);\n    setMenuPos(null);\n  };\n\n  const handleDelete = async (inv: any) => {\n    if (!inv) return;\n    if (!confirm(\"Delete this invoice?\")) return;\n    let success = false;\n    for (const p of invoicePaths(inv)) {\n      try {\n        const res = await fetch(p, { method: \"DELETE\", headers: getAuthHeaders() });\n        if (res.ok) { success = true; break; }\n      } catch {}\n    }\n    if (!success) return alert(\"Delete failed (endpoint missing?)\");\n    if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(null as any);\n    else await fetchInvoices(clientId);\n    setMenuOpenFor(null);\n    setMenuPos(null);\n  };\n\n  const handleDuplicate = (inv: any) => {\n    setCreateForm({\n      invoiceNumber: \"\",\n      invoiceDate: inv?.invoiceDate ?? \"\",\n      currency: inv?.currency ?? \"USD\",\n      projectId: inv?.project?.projectId ?? \"\",\n      clientId: inv?.client?.clientId ?? (clientId ? String(clientId) : \"\"),\n      amount: inv?.amount ?? inv?.total ?? 0,\n      taxPercent: inv?.tax ?? 0,\n      discountValue: inv?.discount ?? 0,\n      discountIsPercent: true,\n      notes: inv?.notes ?? \"\",\n    });\n    setShowCreateModal(true);\n    setMenuOpenFor(null);\n    setMenuPos(null);\n  };\n\n  const openAddPayment = (inv: any) => {\n    const amt = prompt(\"Payment amount:\");\n    if (!amt) return;\n    const amount = Number(amt);\n    if (isNaN(amount) || amount <= 0) return alert(\"Invalid amount\");\n    (async () => {\n      try {\n        const p = invoicePaths(inv)[0];\n        if (!p) throw new Error(\"Cannot determine invoice endpoint for payment\");\n        const res = await fetch(`${p}/payments`, {\n          method: \"POST\",\n          headers: getAuthHeaders({ \"Content-Type\": \"application/json\" }),\n          body: JSON.stringify({ amount, note: \"Manual payment added via UI\" }),\n        });\n        if (!res.ok) {\n          const res2 = await fetch(`${API_BASE}/api/payments`, {\n            method: \"POST\",\n            headers: getAuthHeaders({ \"Content-Type\": \"application/json\" }),\n            body: JSON.stringify({ invoiceId: inv.id ?? null, invoiceNumber: inv.invoiceNumber ?? null, amount }),\n          });\n          if (!res2.ok) throw new Error(\"Payment creation failed\");\n        }\n        if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(null as any);\n        else await fetchInvoices(clientId);\n        alert(\"Payment added\");\n      } catch (err: any) { alert(err?.message ?? \"Add payment failed\"); }\n      finally { setMenuOpenFor(null); setMenuPos(null); }\n    })();\n  };\n\n  const openViewPayments = async (inv: any) => {\n    try {\n      const p = invoicePaths(inv)[0];\n      if (!p) throw new Error(\"Cannot determine invoice endpoint for payments\");\n      const res = await fetch(`${p}/payments`, { headers: getAuthHeaders() });\n      if (!res.ok) { alert(\"Payments not available\"); return; }\n      const parsed = await tryParseResponse(res);\n      const payments = parsed.parsed ?? [];\n      alert(\"Payments:\\n\" + JSON.stringify(payments, null, 2));\n    } catch (err: any) { alert(err?.message ?? \"View payments failed\"); }\n    finally { setMenuOpenFor(null); setMenuPos(null); }\n  };\n\n  const sendPaymentReminder = async (inv: any) => {\n    if (!inv) return;\n    if (!confirm(\"Send payment reminder?\")) return;\n    try {\n      const p = invoicePaths(inv)[0];\n      if (!p) throw new Error(\"Cannot determine invoice endpoint for reminder\");\n      const res = await fetch(`${p}/reminder`, { method: \"POST\", headers: getAuthHeaders() });\n      if (!res.ok) throw new Error(\"Reminder send failed\");\n      alert(\"Reminder sent\");\n    } catch (err: any) { alert(err?.message ?? \"Send reminder failed\"); }\n    finally { setMenuOpenFor(null); setMenuPos(null); }\n  };\n\n  const addReceipt = (inv: any) => {\n    uploadTargetRef.current = inv;\n    // map invoice -> receipt form defaults where possible\n    setReceiptForm((p: any) => ({\n      ...p,\n      invoiceNumber: inv?.invoiceNumber ?? p.invoiceNumber,\n      issueDate: p.issueDate,\n      currency: inv?.currency ?? p.currency,\n      sellerCompanyName: p.sellerCompanyName,\n      sellerCompanyAddress: p.sellerCompanyAddress,\n      productName: inv?.project?.projectName ?? p.productName,\n      priceWithOutTax: inv?.amount ?? inv?.total ?? p.priceWithOutTax,\n      tax: inv?.tax ?? p.tax,\n      quantity: p.quantity,\n      description: inv?.notes ?? p.description,\n      buyerCleintName: inv?.client?.name ?? p.buyerCleintName,\n      buyerCompanyEmail: inv?.client?.email ?? p.buyerCompanyEmail,\n      buyerCompanyPhoneNumber: inv?.client?.mobile ?? p.buyerCompanyPhoneNumber,\n    }));\n    setShowReceiptModal(true);\n    setMenuOpenFor(null);\n    setMenuPos(null);\n  };\n\n  const viewReceipts = async (inv: any) => {\n    setReceiptsError(null); setReceiptsList([]); setReceiptsLoading(true);\n    try {\n      const id = inv?.id ?? inv?.invoiceId ?? inv?.invoiceNumber ?? null;\n      if (!id) throw new Error(\"Invoice id not available\");\n      const url = `${API_BASE}/api/invoice/receipt/${inv.invoiceNumber}`;\n      const res = await fetch(url, { headers: getAuthHeaders() });\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\");\n        throw new Error(`Receipts fetch failed ${res.status} ${txt}`);\n      }\n      const parsed = await tryParseResponse(res);\n      let arr: any[] = [];\n      if (Array.isArray(parsed.parsed)) arr = parsed.parsed;\n      else if (Array.isArray(parsed.parsed?.data)) arr = parsed.parsed.data;\n      else if (Array.isArray(parsed.raw)) arr = parsed.raw;\n      else if (typeof parsed.raw === \"string\") {\n        try { const maybe = JSON.parse(parsed.raw); if (Array.isArray(maybe)) arr = maybe; } catch {}\n      }\n      setReceiptsList(arr);\n      setSelectedInvoiceForReceipts(inv);\n      setShowReceiptsModal(true);\n    } catch (err: any) {\n      setReceiptsError(err?.message ?? \"Failed to fetch receipts\");\n      alert(err?.message ?? \"Failed to fetch receipts\");\n    } finally { setReceiptsLoading(false); setMenuOpenFor(null); setMenuPos(null); }\n  };\n\n  const viewCredits = async (inv: any) => {\n    try {\n      const p = invoicePaths(inv)[0];\n      if (!p) throw new Error(\"Cannot determine invoice endpoint for credits\");\n      const res = await fetch(`${p}/credit-notes`, { headers: getAuthHeaders() });\n      if (!res.ok) { alert(\"Credits not available\"); return; }\n      const parsed = await tryParseResponse(res);\n      const credits = parsed.parsed ?? [];\n      alert(\"Credit notes:\\n\" + JSON.stringify(credits, null, 2));\n    } catch (err: any) { alert(err?.message ?? \"View credits failed\"); }\n    finally { setMenuOpenFor(null); setMenuPos(null); }\n  };\n\n  const creditDuplicate = (inv: any) => {\n    const amt = prompt(\"Credit amount for duplicate:\", String(inv.unpaidAmount ?? inv.total ?? 0));\n    if (!amt) return;\n    const amount = Number(amt);\n    if (isNaN(amount) || amount <= 0) return alert(\"Invalid amount\");\n    (async () => {\n      try {\n        const p = invoicePaths(inv)[0];\n        if (!p) throw new Error(\"Cannot determine credit endpoint\");\n        const res = await fetch(`${p}/credit-note`, {\n          method: \"POST\",\n          headers: getAuthHeaders({ \"Content-Type\": \"application/json\" }),\n          body: JSON.stringify({ amount }),\n        });\n        if (!res.ok) throw new Error(\"Credit duplicate failed\");\n        if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(null as any);\n        else await fetchInvoices(clientId);\n        alert(\"Credit created\");\n      } catch (err: any) { alert(err?.message ?? \"Credit failed\"); }\n      finally { setMenuOpenFor(null); setMenuPos(null); }\n    })();\n  };\n\n  const filtered = useMemo(() => {\n    const s = search.trim().toLowerCase();\n    if (!s) return invoices;\n    return invoices.filter((inv) => {\n      if (!inv) return false;\n      return (\n        (String(inv.invoiceNumber ?? \"\").toLowerCase().includes(s)) ||\n        (String(inv.project?.projectName ?? inv.project?.projectCode ?? \"\").toLowerCase().includes(s)) ||\n        (String(inv.client?.name ?? \"\").toLowerCase().includes(s))\n      );\n    });\n  }, [invoices, search]);\n\n  const renderMenuFor = (inv: any) => {\n    if (isCreditInvoice(inv)) {\n      return (\n        <>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openViewFromMenu(inv)}><Eye className=\"inline mr-2 -mt-1\" /> View</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openAddPayment(inv)}><PlusCircle className=\"inline mr-2 -mt-1\" /> Add Payment</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openViewPayments(inv)}><CircleDollarSign className=\"inline mr-2 -mt-1\" /> View Payment(s)</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => creditDuplicate(inv)}><Copy className=\"inline mr-2 -mt-1\" /> Credit Duplicate</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100 text-red-600\" onClick={() => handleDelete(inv)}><Trash className=\"inline mr-2 -mt-1\" /> Delete</button></li>\n        </>\n      );\n    }\n    if (isPaidInvoice(inv)) {\n      return (\n        <>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openViewFromMenu(inv)}><Eye className=\"inline mr-2 -mt-1\" /> View</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => addReceipt(inv)}><PlusCircle className=\"inline mr-2 -mt-1\" /> Add Receipt</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => viewReceipts(inv)}><FileText className=\"inline mr-2 -mt-1\" /> View Receipt(s)</button></li>\n          {/* CHANGED: opens modal UI instead of clicking hidden input directly */}\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openUploadModalFor(inv)}><Upload className=\"inline mr-2 -mt-1\" /> Upload File</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openViewPayments(inv)}><CircleDollarSign className=\"inline mr-2 -mt-1\" /> View Payment(s)</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openCreditModal(inv)}><FileText className=\"inline mr-2 -mt-1\" /> Add Credit</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => viewCredits(inv)}><FileText className=\"inline mr-2 -mt-1\" /> View Credit(s)</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100 text-red-600\" onClick={() => handleDelete(inv)}><Trash className=\"inline mr-2 -mt-1\" /> Delete</button></li>\n        </>\n      );\n    }\n    if (isUnpaidInvoice(inv)) {\n      return (\n        <>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openViewFromMenu(inv)}><Eye className=\"inline mr-2 -mt-1\" /> View</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openEditModal(inv)}><Edit2 className=\"inline mr-2 -mt-1\" /> Edit</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => handleMarkPaid(inv)}><CheckCircle className=\"inline mr-2 -mt-1\" /> Mark as Paid</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openAddPayment(inv)}><PlusCircle className=\"inline mr-2 -mt-1\" /> Add Payment</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => sendPaymentReminder(inv)}><Bell className=\"inline mr-2 -mt-1\" /> Payment Reminder</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openCreditModal(inv)}><FileText className=\"inline mr-2 -mt-1\" /> Credit</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => handleDuplicate(inv)}><Copy className=\"inline mr-2 -mt-1\" /> Duplicate</button></li>\n          <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100 text-red-600\" onClick={() => handleDelete(inv)}><Trash className=\"inline mr-2 -mt-1\" /> Delete</button></li>\n        </>\n      );\n    }\n    return (\n      <>\n        <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openViewFromMenu(inv)}><Eye className=\"inline mr-2 -mt-1\" /> View</button></li>\n        <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => openEditModal(inv)}><Edit2 className=\"inline mr-2 -mt-1\" /> Edit</button></li>\n        <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => handleDuplicate(inv)}><Copy className=\"inline mr-2 -mt-1\" /> Duplicate</button></li>\n        <li><button className=\"w-full text-left px-3 py-2 hover:bg-gray-100 text-red-600\" onClick={() => handleDelete(inv)}><Trash className=\"inline mr-2 -mt-1\" /> Delete</button></li>\n      </>\n    );\n  };\n\n  const subtotal = Number(createForm.amount || 0);\n  const discountAmount = createForm.discountIsPercent ? subtotal * (Number(createForm.discountValue || 0) / 100) : Number(createForm.discountValue || 0);\n  const taxAmount = (subtotal - discountAmount) * (Number(createForm.taxPercent || 0) / 100);\n  const total = Math.max(0, subtotal - discountAmount + taxAmount);\n\n  // const firstFileUrl = (inv: any) => {\n  //   if (!inv) return null;\n  //   if (inv.files && Array.isArray(inv.files) && inv.files.length > 0) return inv.files[0].url ?? inv.files[0].fileUrl ?? inv.files[0].path ?? null;\n  //   if (inv.attachments && Array.isArray(inv.attachments) && inv.attachments.length > 0) return inv.attachments[0].url ?? null;\n  //   if (Array.isArray(inv.filesList) && inv.filesList.length > 0) return inv.filesList[0].url ?? null;\n  //   return null;\n  // };\n\n const firstFileUrl = (inv: any) => {\n  if (!inv) return null;\n\n  const extractUrl = (f: any) => {\n    if (!f) return null;\n    if (typeof f === \"string\") return f;\n    return f.url ?? f.fileUrl ?? f.path ?? f.downloadUrl ?? null;\n  };\n\n  // NEW: take the *latest* (last) item in each array\n\n  if (Array.isArray(inv.fileUrls) && inv.fileUrls.length > 0) {\n    const latest = inv.fileUrls[inv.fileUrls.length - 1];\n    return extractUrl(latest);\n  }\n\n  if (Array.isArray(inv.files) && inv.files.length > 0) {\n    const latest = inv.files[inv.files.length - 1];\n    return extractUrl(latest);\n  }\n\n  if (Array.isArray(inv.attachments) && inv.attachments.length > 0) {\n    const latest = inv.attachments[inv.attachments.length - 1];\n    return extractUrl(latest);\n  }\n\n  if (Array.isArray(inv.filesList) && inv.filesList.length > 0) {\n    const latest = inv.filesList[inv.filesList.length - 1];\n    return extractUrl(latest);\n  }\n\n  return extractUrl(inv.fileUrl ?? inv.downloadUrl ?? null);\n};\n\n\n\n  // handle saving receipt (unchanged logic)\n  const handleSaveReceipt = async () => {\n    setSavingReceipt(true);\n    try {\n      const body = {\n        invoiceId: receiptForm.invoiceNumber || (uploadTargetRef.current?.invoiceNumber ?? undefined),\n        issueDate: receiptForm.issueDate || undefined,\n        currency: receiptForm.currency || undefined,\n        sellerCompanyName: receiptForm.sellerCompanyName,\n        sellerCompanyAddress: receiptForm.sellerCompanyAddress,\n        sellerCompanyCode: receiptForm.sellerCompanyCode,\n        sellerCompanyTaxNumber: receiptForm.sellerCompanyTaxNumber,\n        sellerCompanyEmail: receiptForm.sellerCompanyEmail,\n        sellerCompanyPhoneNumber: receiptForm.sellerCompanyPhoneNumber,\n        sellerCompanyBankName: receiptForm.sellerCompanyBankName,\n        sellerCompanyBankAccountNumber: receiptForm.sellerCompanyBankAccountNumber,\n        buyerCompanyName: receiptForm.buyerCompanyName,\n        buyerCompanyAddress: receiptForm.buyerCompanyAddress,\n        buyerCompanyCode: receiptForm.buyerCompanyCode,\n        buyerCompanyTaxNumber: receiptForm.buyerCompanyTaxNumber,\n        buyerCleintName: receiptForm.buyerCleintName,\n        buyerCompanyEmail: receiptForm.buyerCompanyEmail,\n        buyerCompanyPhoneNumber: receiptForm.buyerCompanyPhoneNumber,\n        buyerCompanyBankName: receiptForm.buyerCompanyBankName,\n        buyerCompanyBankAccountNumber: receiptForm.buyerCompanyBankAccountNumber,\n        productName: receiptForm.productName,\n        tax: Number(receiptForm.tax || 0),\n        priceWithOutTax: Number(receiptForm.priceWithOutTax || 0),\n        quantity: Number(receiptForm.quantity || 1),\n        description: receiptForm.description,\n      };\n\n      const res = await fetch(`${API_BASE}/api/invoice`, {\n        method: \"POST\",\n        headers: getAuthHeaders({ \"Content-Type\": \"application/json\" }),\n        body: JSON.stringify(body),\n      });\n\n      if (!res.ok) {\n        const t = await res.text().catch(() => \"\");\n        throw new Error(`Save failed: ${res.status} ${t}`);\n      }\n\n      const parsed = await tryParseResponse(res);\n      let created: any = parsed.parsed ?? null;\n      if (!created && typeof parsed.raw === \"string\") {\n        try { created = JSON.parse(parsed.raw); } catch { created = null; }\n      }\n\n      if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(null as any);\n      else await fetchInvoices(clientId);\n\n      const targetInv = uploadTargetRef.current;\n      const sameInvoice = (invA: any, invB: any) => {\n        if (!invA || !invB) return false;\n        const aId = invA.id ?? invA.invoiceId ?? invA.invoiceNumber ?? null;\n        const bId = invB.id ?? invB.invoiceId ?? invB.invoiceNumber ?? null;\n        return aId != null && bId != null && String(aId) === String(bId);\n      };\n\n      if (created) {\n        if (showReceiptsModal && selectedInvoiceForReceipts && sameInvoice(selectedInvoiceForReceipts, uploadTargetRef.current ?? created)) {\n          setReceiptsList((prev) => [created, ...prev]);\n        } else if (targetInv) {\n          setSelectedInvoiceForReceipts(targetInv);\n          setReceiptsList((prev) => [created, ...prev]);\n          setShowReceiptsModal(true);\n        }\n      }\n\n      setShowReceiptModal(false);\n      alert(\"Receipt created\");\n    } catch (err: any) {\n      alert(err?.message ?? \"Save receipt failed\");\n    } finally {\n      uploadTargetRef.current = null;\n      setSavingReceipt(false);\n      setMenuOpenFor(null);\n      setMenuPos(null);\n    }\n  };\n\n  // delete receipt (unchanged)\n  const handleDeleteReceipt = async (r: any) => {\n    if (!r) return;\n    if (!confirm(\"Delete this receipt?\")) return;\n    try {\n      const id = r.id ?? r.invoiceId ?? null;\n      if (!id) throw new Error(\"Receipt id not available for delete\");\n      const url = `${API_BASE}/api/invoice/${encodeURIComponent(String(id))}`;\n      const res = await fetch(url, { method: \"DELETE\", headers: getAuthHeaders() });\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\");\n        throw new Error(`Delete failed ${res.status} ${txt}`);\n      }\n      setReceiptsList((prev) => prev.filter((x) => {\n        const a = x.id ?? x.invoiceId ?? x.invoiceNumber ?? null;\n        return String(a) !== String(id);\n      }));\n      setReceiptMenuOpenFor(null);\n      setReceiptMenuPos(null);\n      alert(\"Receipt deleted\");\n    } catch (err: any) {\n      alert(err?.message ?? \"Delete failed\");\n    }\n  };\n\n  const receiptDownloadUrl = (r: any) => r._downloadUrl ?? r.downloadUrl ?? r.fileUrl ?? null;\n\n  return (\n    <Card>\n      <CardHeader className=\"flex items-center justify-between\">\n        <CardTitle>Client Invoices</CardTitle>\n        <div className=\"flex items-center gap-2\">\n          <Button\n            onClick={() => {\n              setShowCreateModal(true);\n              setCreateForm((p: any) => ({ ...p, clientId: String(clientId ?? p.clientId ?? \"\") }));\n            }}\n            className=\"flex items-center\"\n          >\n            <Plus className=\"mr-2 h-4 w-4\" /> Create Invoice\n          </Button>\n          <Button\n            variant=\"ghost\"\n            onClick={async () => {\n              if (invoicesProp && typeof onInvoiceCreated === \"function\") onInvoiceCreated(null);\n              else await fetchInvoices(clientId);\n              if (showReceiptsModal && selectedInvoiceForReceipts) {\n                await viewReceipts(selectedInvoiceForReceipts);\n              }\n            }}\n          >\n            Refresh\n          </Button>\n        </div>\n      </CardHeader>\n\n      <CardContent>\n        <div className=\"mb-4 flex items-center justify-between\">\n          <div>\n            <input placeholder=\"Search invoice number / project / client\" className=\"w-64 px-3 py-2 border rounded\" value={search} onChange={(e) => setSearch(e.target.value)} />\n          </div>\n          <div className=\"text-sm text-gray-500\">{loading ? \"Loading...\" : `${invoices.length} invoices`}</div>\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"bg-blue-50 text-left text-xs\">\n                <th className=\"px-4 py-3\">Invoice #</th>\n                <th className=\"px-4 py-3\">Date</th>\n                <th className=\"px-4 py-3\">Project</th>\n                <th className=\"px-4 py-3\">Currency</th>\n                <th className=\"px-4 py-3\">Total</th>\n                <th className=\"px-4 py-3\">Unpaid</th>\n                <th className=\"px-4 py-3\">Status</th>\n                <th className=\"px-4 py-3\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {loading ? (\n                <tr><td colSpan={8} className=\"text-center py-8\">Loading invoices...</td></tr>\n              ) : error ? (\n                <tr><td colSpan={8} className=\"text-center py-8 text-red-600\">{error}{rawResponse && <div className=\"mt-2 text-xs text-gray-600\"><pre className=\"whitespace-pre-wrap\">{rawResponse}</pre></div>}</td></tr>\n              ) : filtered.length === 0 ? (\n                <tr><td colSpan={8} className=\"text-center py-8\">No invoices found</td></tr>\n              ) : (\n                filtered.map((inv) => {\n                  const key = inv.id ?? inv.invoiceNumber ?? Math.random();\n                  return (\n                    <tr key={key} className=\"border-t hover:bg-gray-50\">\n                      <td className=\"px-4 py-3\">{inv.invoiceNumber ?? \"â€”\"}</td>\n                      <td className=\"px-4 py-3\">{inv.invoiceDate ? new Date(inv.invoiceDate).toLocaleDateString() : \"â€”\"}</td>\n                      <td className=\"px-4 py-3\">{inv.project?.projectName ?? inv.project?.projectCode ?? \"â€”\"}</td>\n                      <td className=\"px-4 py-3\">{inv.currency ?? \"â€”\"}</td>\n                      <td className=\"px-4 py-3\">{typeof inv.total === \"number\" ? inv.total.toLocaleString(undefined, { minimumFractionDigits: 2 }) : inv.total ? String(inv.total) : \"â€”\"}</td>\n                      <td className=\"px-4 py-3\">{typeof inv.unpaidAmount === \"number\" ? inv.unpaidAmount.toLocaleString(undefined, { minimumFractionDigits: 2 }) : inv.unpaidAmount ? String(inv.unpaidAmount) : \"â€”\"}</td>\n                      <td className=\"px-4 py-3\"><Badge variant=\"secondary\">{inv.status ?? \"â€”\"}</Badge></td>\n                      <td className=\"px-4 py-3\">\n                        <div className=\"flex items-center gap-2 relative\">\n                          <button\n                            className=\"invoice-action-button inline-flex items-center px-2 py-1 border rounded\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              const btn = e.currentTarget as HTMLElement;\n                              if (menuOpenFor && (menuOpenFor.id ?? menuOpenFor.invoiceNumber) === (inv.id ?? inv.invoiceNumber)) {\n                                setMenuOpenFor(null); setMenuPos(null);\n                              } else { openMenuFor(inv, btn); }\n                            }}\n                            title=\"Actions\"\n                            aria-expanded={menuOpenFor && (menuOpenFor.id ?? menuOpenFor.invoiceNumber) === (inv.id ?? inv.invoiceNumber)}\n                          >\n                            <MoreHorizontal className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })\n              )}\n            </tbody>\n          </table>\n        </div>\n      </CardContent>\n\n      {/* Floating action menu */}\n      {menuOpenFor && menuPos && (\n        <div ref={menuRef} style={{ position: \"fixed\", left: `${menuPos.left}px`, top: `${menuPos.top}px`, width: 260, zIndex: 10050, boxShadow: \"0 8px 24px rgba(0,0,0,0.12)\" }} className=\"bg-white border rounded overflow-hidden\" onClick={(e) => e.stopPropagation()}>\n          <ul>{renderMenuFor(menuOpenFor)}</ul>\n        </div>\n      )}\n\n      {/* hidden file input used by modal choose */}\n      <input ref={fileInputRef} type=\"file\" style={{ display: \"none\" }} onChange={onFileInputChange} />\n\n      {/* VIEW modal */}\n      {showViewModal && activeInvoice && (\n        <div className=\"fixed inset-0 z-50 flex items-start justify-center overflow-auto p-6\">\n          <div className=\"absolute inset-0 bg-black/40\" onClick={() => { setShowViewModal(false); setActiveInvoice(null); }} />\n          <div className=\"relative z-10 w-full max-w-4xl bg-white rounded shadow-lg overflow-auto\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h3 className=\"text-lg font-semibold\">Invoice Details</h3>\n              <div className=\"flex items-center gap-2\">\n                <Button variant=\"ghost\" onClick={() => { setShowViewModal(false); setActiveInvoice(null); }}><X className=\"h-4 w-4\" /></Button>\n              </div>\n            </div>\n            <div className=\"p-6 space-y-6\">\n              {/* client, project, invoice details and files (same as before) */}\n              <div className=\"border rounded-lg p-4\">\n                <div className=\"text-sm font-semibold mb-2\">Client Details</div>\n                <div className=\"grid grid-cols-2 gap-3 text-sm text-gray-700\">\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-28 text-gray-500\">Name</div>\n                    <div className=\"font-medium\">{activeInvoice.client?.name ?? \"â€”\"}</div>\n                  </div>\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-28 text-gray-500\">Email</div>\n                    <div className=\"font-medium\">{activeInvoice.client?.email ?? activeInvoice.client?.contactEmail ?? \"â€”\"}</div>\n                  </div>\n\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-28 text-gray-500\">Company Name</div>\n                    <div className=\"font-medium\">{activeInvoice.client?.company?.companyName ?? activeInvoice.client?.companyName ?? \"â€”\"}</div>\n                  </div>\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-28 text-gray-500\">Mobile</div>\n                    <div className=\"font-medium\">{activeInvoice.client?.mobile ?? activeInvoice.client?.phone ?? \"â€”\"}</div>\n                  </div>\n\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-28 text-gray-500\">Address</div>\n                    <div className=\"font-medium\">{activeInvoice.client?.address ?? activeInvoice.client?.street ?? \"â€”\"}</div>\n                  </div>\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-28 text-gray-500\">Country</div>\n                    <div className=\"font-medium\">{activeInvoice.client?.country ?? \"â€”\"}</div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"border rounded-lg p-4\">\n                <div className=\"text-sm font-semibold mb-2\">Project Details</div>\n                <div className=\"grid grid-cols-2 gap-3 text-sm text-gray-700\">\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-32 text-gray-500\">Project Name</div>\n                    <div className=\"font-medium\">{activeInvoice.project?.projectName ?? activeInvoice.project?.name ?? \"â€”\"}</div>\n                  </div>\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-32 text-gray-500\">Project Code</div>\n                    <div className=\"font-medium\">{activeInvoice.project?.projectCode ?? activeInvoice.project?.code ?? \"â€”\"}</div>\n                  </div>\n\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-32 text-gray-500\">Start Date</div>\n                    <div className=\"font-medium\">{activeInvoice.project?.startDate ? new Date(activeInvoice.project.startDate).toLocaleDateString() : (activeInvoice.startDate ? new Date(activeInvoice.startDate).toLocaleDateString() : \"â€”\")}</div>\n                  </div>\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-32 text-gray-500\">End Date</div>\n                    <div className=\"font-medium\">{activeInvoice.project?.endDate ? new Date(activeInvoice.project.endDate).toLocaleDateString() : (activeInvoice.endDate ? new Date(activeInvoice.endDate).toLocaleDateString() : \"â€”\")}</div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"border rounded-lg p-4\">\n                <div className=\"text-sm font-semibold mb-3\">Invoice Details</div>\n                <div className=\"grid grid-cols-2 gap-4 text-sm text-gray-700\">\n                  <div>\n                    <div className=\"flex justify-between mb-2\">\n                      <div className=\"text-gray-500\">Invoice No.</div>\n                      <div className=\"font-medium\">{activeInvoice.invoiceNumber ?? activeInvoice.id ?? \"â€”\"}</div>\n                    </div>\n\n                    <div className=\"flex justify-between mb-2\">\n                      <div className=\"text-gray-500\">Invoice Date</div>\n                      <div className=\"font-medium\">{activeInvoice.invoiceDate ? new Date(activeInvoice.invoiceDate).toLocaleDateString() : \"â€”\"}</div>\n                    </div>\n\n                    <div className=\"flex justify-between mb-2\">\n                      <div className=\"text-gray-500\">Currency</div>\n                      <div className=\"font-medium\">{activeInvoice.currency ?? \"â€”\"}</div>\n                    </div>\n\n                    <div className=\"flex justify-between mb-2\">\n                      <div className=\"text-gray-500\">Amount</div>\n                      <div className=\"font-medium\">{typeof activeInvoice.amount === \"number\" ? (activeInvoice.currency ? `${activeInvoice.currency} ` : \"\") + Number(activeInvoice.amount).toLocaleString() : (activeInvoice.total ?? \"â€”\")}</div>\n                    </div>\n\n                    <div className=\"flex justify-between mb-2\">\n                      <div className=\"text-gray-500\">Tax</div>\n                      <div className=\"font-medium\">{activeInvoice.tax ?? activeInvoice.taxPercent ? `${activeInvoice.tax ?? activeInvoice.taxPercent}%` : \"â€”\"}</div>\n                    </div>\n\n                    <div className=\"flex justify-between mb-2\">\n                      <div className=\"text-gray-500\">Subtotal</div>\n                      <div className=\"font-medium\">{typeof activeInvoice.subtotal === \"number\" ? activeInvoice.subtotal : (activeInvoice.amount ? Number(activeInvoice.amount).toLocaleString() : \"â€”\")}</div>\n                    </div>\n\n                    <div className=\"flex justify-between mb-2\">\n                      <div className=\"text-gray-500\">Discount</div>\n                      <div className=\"font-medium\">{activeInvoice.discount ?? \"0.00\"}</div>\n                    </div>\n\n                    <div className=\"flex justify-between mb-2\">\n                      <div className=\"text-gray-500\">Total Amount</div>\n                      <div className=\"font-medium\">{typeof activeInvoice.total === \"number\" ? activeInvoice.total : (activeInvoice.amount ? Number(activeInvoice.amount).toLocaleString() : \"â€”\")}</div>\n                    </div>\n\n                    <div className=\"flex items-center gap-2 mt-2\">\n                      <div className=\"text-gray-500\">Status</div>\n                      <div>{activeInvoice.status ? <Badge>{activeInvoice.status}</Badge> : \"â€”\"}</div>\n                    </div>\n                  </div>\n\n                  <div>\n                    <div className=\"text-sm text-gray-500 mb-2\">Files</div>\n                    <div className=\"w-full h-40 bg-gray-50 rounded overflow-hidden border relative flex items-center justify-center\">\n                      {firstFileUrl(activeInvoice) ? (\n                        <>\n                          <img src={firstFileUrl(activeInvoice) as string} alt=\"file\" className=\"object-cover w-full h-full\" />\n                          <a\n                            href={firstFileUrl(activeInvoice) as string}\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                            className=\"absolute top-2 right-2 bg-white rounded p-1 shadow\"\n                            title=\"Download\"\n                          >\n                            <Download className=\"h-4 w-4\" />\n                          </a>\n                        </>\n                      ) : (\n                        <div className=\"text-xs text-gray-400\">No files attached</div>\n                      )}\n                    </div>\n{(\n  (activeInvoice.files && activeInvoice.files.length > 0) ||\n  (activeInvoice.attachments && activeInvoice.attachments.length > 0) ||\n  (activeInvoice.filesList && activeInvoice.filesList.length > 0) ||\n  (activeInvoice.fileUrls && activeInvoice.fileUrls.length > 0)\n) && (\n  <div className=\"mt-3 space-y-2 text-sm\">\n  {(() => {\n    const arr: { url: string | null; name?: string }[] = [];\n\n    const pushFrom = (f: any) => {\n      if (!f) return;\n\n      if (typeof f === \"string\") {\n        arr.push({\n          url: f,\n          name: f.split(\"/\").pop(),\n        });\n        return;\n      }\n\n      const url = f.url ?? f.fileUrl ?? f.path ?? f.downloadUrl ?? null;\n      const name =\n        f.name ??\n        f.filename ??\n        f.fileName ??\n        (typeof url === \"string\" ? url.split(\"/\").pop() : undefined);\n\n      arr.push({ url, name });\n    };\n\n    (activeInvoice.files ?? []).forEach(pushFrom);\n    (activeInvoice.attachments ?? []).forEach(pushFrom);\n    (activeInvoice.filesList ?? []).forEach(pushFrom);\n    (activeInvoice.fileUrls ?? []).forEach(pushFrom);\n\n    // ðŸ”¥ Sort newest first (last pushed = newest = first displayed)\n    const latestFirst = arr.reverse();\n\n    return latestFirst.map((f, idx) => {\n      if (!f.url) return null;\n      return (\n        <div key={idx} className=\"flex items-center justify-between gap-2\">\n          <div className=\"text-gray-700 truncate\">\n            {f.name ?? `File ${idx + 1}`}\n          </div>\n          <a\n            href={f.url}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            className=\"inline-flex items-center px-2 py-1 border rounded text-xs\"\n          >\n            <Download className=\"h-3 w-3 mr-1\" /> Download\n          </a>\n        </div>\n      );\n    });\n  })()}\n</div>\n\n)}\n\n                  </div>\n                </div>\n\n                <div className=\"mt-4\">\n                  <div className=\"text-sm text-gray-500\">Notes</div>\n                  <div className=\"mt-2 text-sm text-gray-800\">{activeInvoice.notes ?? \"No notes\"}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Receipts modal (NEW) - unchanged UI/logic */}\n      {showReceiptsModal && selectedInvoiceForReceipts && (\n        <div className=\"fixed inset-0 z-50 flex items-start justify-center overflow-auto p-6\">\n          <div className=\"absolute inset-0 bg-black/40\" onClick={() => { setShowReceiptsModal(false); setSelectedInvoiceForReceipts(null); setReceiptsList([]); }} />\n          <div className=\"relative z-10 w-full max-w-4xl bg-white rounded shadow-lg overflow-auto\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h3 className=\"text-lg font-semibold\">Receipts</h3>\n              <div className=\"flex items-center gap-3\">\n                <Button onClick={() => addReceipt(selectedInvoiceForReceipts)}><Plus className=\"mr-2 h-4 w-4\" /> Add a Receipt</Button>\n                <Button variant=\"ghost\" onClick={() => { setShowReceiptsModal(false); setSelectedInvoiceForReceipts(null); setReceiptsList([]); }}><X className=\"h-4 w-4\" /></Button>\n              </div>\n            </div>\n\n            <div className=\"p-6\">\n              {receiptsLoading ? (\n                <div className=\"text-center py-8\">Loading receipts...</div>\n              ) : receiptsError ? (\n                <div className=\"text-red-600\">{receiptsError}</div>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full text-sm\">\n                    <thead>\n                      <tr className=\"bg-blue-50 text-left text-xs\">\n                        <th className=\"px-4 py-3\">Invoice No.</th>\n                        <th className=\"px-4 py-3\">Project</th>\n                        <th className=\"px-4 py-3\">Client</th>\n                        <th className=\"px-4 py-3\">Amount</th>\n                        <th className=\"px-4 py-3\">Issue Date</th>\n                        <th className=\"px-4 py-3\">Action</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {receiptsList.length === 0 ? (\n                        <tr><td colSpan={6} className=\"text-center py-8\">No receipts found</td></tr>\n                      ) : receiptsList.map((r: any, idx: number) => {\n                        const key = r.id ?? r.invoiceId ?? idx;\n                        const issue = r.issueDate ?? r.createdAt ?? \"â€”\";\n                        const amount = (r.totalAmount ?? r.totalExcluidingTax ?? r.subtotal ?? r.priceWithOutTax ?? 0);\n                        return (\n                          <tr key={key} className=\"border-t hover:bg-gray-50\">\n                            <td className=\"px-4 py-3\">{r.invoiceId ?? \"â€”\"}</td>\n                            <td className=\"px-4 py-3\">{r.productName ?? r.projectName ?? \"â€”\"}</td>\n                            <td className=\"px-4 py-3\">{r.buyerCleintName ?? r.buyerCompanyName ?? \"â€”\"}</td>\n                            <td className=\"px-4 py-3\">{typeof amount === \"number\" ? (r.currency ? `${r.currency} ` : \"\") + Number(amount).toLocaleString(undefined, { minimumFractionDigits: 2 }) : amount}</td>\n                            <td className=\"px-4 py-3\">{issue ? new Date(issue).toLocaleDateString() : \"â€”\"}</td>\n                            <td className=\"px-4 py-3\">\n                              <div className=\"flex items-center justify-end gap-2 relative\">\n                                { receiptDownloadUrl(r) && (\n                                  <a href={receiptDownloadUrl(r)} target=\"_blank\" rel=\"noreferrer\" className=\"inline-flex items-center px-2 py-1 border rounded\" title=\"Download\">\n                                    <Download className=\"h-4 w-4\" />\n                                  </a>\n                                )}\n                                <button\n                                  className=\"receipt-action-button inline-flex items-center px-2 py-1 border rounded\"\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    const btn = e.currentTarget as HTMLElement;\n                                    if (receiptMenuOpenFor && (receiptMenuOpenFor.id ?? receiptMenuOpenFor.invoiceId) === (r.id ?? r.invoiceId)) {\n                                      setReceiptMenuOpenFor(null); setReceiptMenuPos(null);\n                                    } else openReceiptMenuFor(r, btn);\n                                  }}\n                                  title=\"Actions\"\n                                  aria-expanded={receiptMenuOpenFor && (receiptMenuOpenFor.id ?? receiptMenuOpenFor.invoiceId) === (r.id ?? r.invoiceId)}\n                                >\n                                  <MoreHorizontal className=\"h-4 w-4\" />\n                                </button>\n                              </div>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n\n                  {receiptMenuOpenFor && receiptMenuPos && (\n                    <div ref={receiptMenuRef} style={{ position: \"fixed\", left: `${receiptMenuPos.left}px`, top: `${receiptMenuPos.top}px`, width: 220, zIndex: 11000, boxShadow: \"0 8px 24px rgba(0,0,0,0.12)\" }} className=\"bg-white border rounded overflow-hidden\" onClick={(e) => e.stopPropagation()}>\n                      <ul>\n                        <li>\n                          <button className=\"w-full text-left px-3 py-2 hover:bg-gray-100\" onClick={() => { alert(JSON.stringify(receiptMenuOpenFor, null, 2)); setReceiptMenuOpenFor(null); setReceiptMenuPos(null); }}>\n                            <Eye className=\"inline mr-2 -mt-1\" /> View\n                          </button>\n                        </li>\n                        <li>\n                          <button\n                            className=\"w-full text-left px-3 py-2 hover:bg-gray-100\"\n                            onClick={() => {\n                              const url = receiptDownloadUrl(receiptMenuOpenFor);\n                              if (url) window.open(url, \"_blank\");\n                              else alert(\"No download URL available\");\n                              setReceiptMenuOpenFor(null);\n                              setReceiptMenuPos(null);\n                            }}\n                          >\n                            <Download className=\"inline mr-2 -mt-1\" /> Download as PDF\n                          </button>\n                        </li>\n                        <li>\n                          <button className=\"w-full text-left px-3 py-2 hover:bg-gray-100 text-red-600\" onClick={() => handleDeleteReceipt(receiptMenuOpenFor)}>\n                            <Trash className=\"inline mr-2 -mt-1\" /> Delete\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* CREATE modal (unchanged) */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 z-50 flex items-start justify-center overflow-auto p-6\">\n          <div className=\"absolute inset-0 bg-black/40\" onClick={() => setShowCreateModal(false)} />\n          <div className=\"relative z-10 w-full max-w-3xl bg-white rounded shadow-lg overflow-auto\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h3 className=\"text-lg font-semibold\">Create Invoice</h3>\n              <Button variant=\"ghost\" onClick={() => setShowCreateModal(false)}>Close</Button>\n            </div>\n\n            <div className=\"p-6 space-y-6\">\n              {/* Invoice Details */}\n              <div className=\"border rounded-lg p-4\">\n                <h4 className=\"font-medium mb-3\">Invoice Details</h4>\n                <div className=\"grid grid-cols-3 gap-3\">\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Invoice Number</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={createForm.invoiceNumber} onChange={(e) => setCreateForm((p: any) => ({ ...p, invoiceNumber: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Invoice Date</label>\n                    <input type=\"date\" className=\"w-full border rounded px-3 py-2\" value={createForm.invoiceDate} onChange={(e) => setCreateForm((p: any) => ({ ...p, invoiceDate: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Currency</label>\n                    <select className=\"w-full border rounded px-3 py-2\" value={createForm.currency} onChange={(e) => setCreateForm((p: any) => ({ ...p, currency: e.target.value }))}>\n                      <option value=\"USD\">USD $</option>\n                      <option value=\"USD\">USD â‚¹</option>\n                      <option value=\"EUR\">EUR â‚¬</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n\n              {/* Project Details (dropdowns) */}\n              <div className=\"border rounded-lg p-4\">\n                <h4 className=\"font-medium mb-3\">Project Details</h4>\n\n                <div className=\"grid grid-cols-3 gap-3 mb-3\">\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Project</label>\n                    <select className=\"w-full border rounded px-3 py-2\" value={createForm.projectId} onChange={(e) => setCreateForm((p: any) => ({ ...p, projectId: e.target.value }))}>\n                      <option value=\"\">Select Project</option>\n                      {projectsLoading ? <option>Loading...</option> : projectsList.map((p: any) => {\n                        const id = p.id ?? p.projectId ?? p._id ?? p.id;\n                        const name = p.projectName ?? p.name ?? p.title ?? p.shortCode ?? String(id);\n                        return <option key={String(id)} value={String(id)}>{name}</option>;\n                      })}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Client</label>\n                    <select className=\"w-full border rounded px-3 py-2\" value={createForm.clientId} onChange={(e) => setCreateForm((p: any) => ({ ...p, clientId: e.target.value }))}>\n                      <option value=\"\">Select Client</option>\n                      {clientsLoading ? <option>Loading...</option> : clientsList.map((c: any) => {\n                        const id = c.clientId ?? c.id ?? c.client_id ?? c.clientId;\n                        const name = c.name ?? c.company?.companyName ?? String(id);\n                        return <option key={String(id)} value={String(id)}>{name}</option>;\n                      })}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Project Budget</label>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"px-2 py-2 bg-gray-100 rounded\"> $ </span>\n                      <input className=\"w-full border rounded px-3 py-2\" value={\"\"} disabled placeholder=\"$ 30,000\" />\n                    </div>\n                  </div>\n                </div>\n\n                {/* amount row */}\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"flex-1\">\n                    <label className=\"text-sm text-gray-600 block mb-1\">Amount</label>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"px-2 py-2 bg-gray-100 rounded\">{createForm.currency === \"USD\" ? \"â‚¹\" : \"$\"}</span>\n                      <input type=\"number\" className=\"w-full border rounded px-3 py-2\" value={createForm.amount} onChange={(e) => setCreateForm((p: any) => ({ ...p, amount: Number(e.target.value) }))} />\n                    </div>\n                  </div>\n\n                  <div className=\"w-36\">\n                    <label className=\"text-sm text-gray-600 block mb-1\">Tax %</label>\n                    <input type=\"number\" className=\"w-full border rounded px-3 py-2\" value={createForm.taxPercent} onChange={(e) => setCreateForm((p: any) => ({ ...p, taxPercent: Number(e.target.value) }))} />\n                  </div>\n\n                  <div className=\"w-36\">\n                    <label className=\"text-sm text-gray-600 block mb-1 text-right\">Amount</label>\n                    <div className=\"bg-gray-100 rounded px-3 py-2 text-right font-medium\">{total.toFixed(2)}</div>\n                  </div>\n                </div>\n\n                {/* totals box */}\n                <div className=\"mt-4 border-t pt-3\">\n                  <div className=\"grid grid-cols-3 gap-3 text-sm\">\n                    <div />\n                    <div className=\"text-right text-xs text-gray-500\">Sub Total</div>\n                    <div className=\"text-right font-medium\">{subtotal.toFixed(2)}</div>\n\n                    <div />\n                    <div className=\"text-right text-xs text-gray-500\">Discount</div>\n                    <div className=\"flex items-center justify-end gap-2\">\n                      <input type=\"number\" className=\"w-20 border rounded px-2 py-1\" value={createForm.discountValue} onChange={(e) => setCreateForm((p: any) => ({ ...p, discountValue: Number(e.target.value) }))} />\n                      <select className=\"border rounded px-2 py-1\" value={createForm.discountIsPercent ? \"percent\" : \"fixed\"} onChange={(e) => setCreateForm((p: any) => ({ ...p, discountIsPercent: e.target.value === \"percent\" }))}>\n                        <option value=\"percent\">%</option>\n                        <option value=\"fixed\">â‚¹ / $</option>\n                      </select>\n                      <div className=\"w-20 text-right\">{discountAmount.toFixed(2)}</div>\n                    </div>\n\n                    <div />\n                    <div className=\"text-right text-xs text-gray-500\">Tax</div>\n                    <div className=\"text-right font-medium\">{taxAmount.toFixed(2)}</div>\n\n                    <div />\n                    <div className=\"text-right text-xs text-gray-500 font-medium\">Total</div>\n                    <div className=\"text-right font-semibold\">{total.toFixed(2)}</div>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"text-sm text-gray-600 block mb-1\">Amount in words</label>\n                <input className=\"w-full border rounded px-3 py-2\" placeholder=\"Amount in words\" />\n              </div>\n\n              <div>\n                <label className=\"text-sm text-gray-600 block mb-1\">Note / Description for the recipient</label>\n                <textarea className=\"w-full border rounded px-3 py-2\" rows={3} value={createForm.notes} onChange={(e) => setCreateForm((p: any) => ({ ...p, notes: e.target.value }))} />\n              </div>\n\n              <div className=\"flex justify-end gap-2\">\n                <Button variant=\"ghost\" onClick={() => setShowCreateModal(false)}>Cancel</Button>\n                <Button onClick={handleCreate} disabled={creating}>{creating ? \"Creating...\" : \"Save\"}</Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Create Receipt modal (unchanged UI & logic) */}\n      {showReceiptModal && (\n        <div className=\"fixed inset-0 z-50 flex items-start justify-center overflow-auto p-6\">\n          <div className=\"absolute inset-0 bg-black/40\" onClick={() => { setShowReceiptModal(false); uploadTargetRef.current = null; }} />\n          <div className=\"relative z-10 w-full max-w-4xl bg-white rounded shadow-lg overflow-auto\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h3 className=\"text-lg font-semibold\">Create Receipt</h3>\n              <Button variant=\"ghost\" onClick={() => { setShowReceiptModal(false); uploadTargetRef.current = null; }}><X className=\"h-4 w-4\" /></Button>\n            </div>\n\n            <div className=\"p-6 space-y-6\">\n              {/* Invoice Details */}\n              <div className=\"border rounded-lg p-4\">\n                <h4 className=\"font-medium mb-3\">Invoice Details</h4>\n                <div className=\"grid grid-cols-3 gap-3\">\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Invoice Number *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.invoiceNumber} onChange={(e) => setReceiptForm((p: any) => ({ ...p, invoiceNumber: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Issue Date *</label>\n                    <input type=\"date\" className=\"w-full border rounded px-3 py-2\" value={receiptForm.issueDate} onChange={(e) => setReceiptForm((p: any) => ({ ...p, issueDate: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Currency *</label>\n                    <select className=\"w-full border rounded px-3 py-2\" value={receiptForm.currency} onChange={(e) => setReceiptForm((p: any) => ({ ...p, currency: e.target.value }))}>\n                      <option value=\"USD\">USD $</option>\n                      <option value=\"USD\">USD â‚¹</option>\n                      <option value=\"EUR\">EUR â‚¬</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n\n              {/* seller, buyer, project details etc. (same as before) */}\n              <div className=\"border rounded-lg p-4\">\n                <h4 className=\"font-medium mb-3\">Seller Details</h4>\n                <div className=\"grid grid-cols-3 gap-3\">\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Company Name *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.sellerCompanyName} onChange={(e) => setReceiptForm((p: any) => ({ ...p, sellerCompanyName: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Email Id *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.sellerCompanyEmail} onChange={(e) => setReceiptForm((p: any) => ({ ...p, sellerCompanyEmail: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Contact No. *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.sellerCompanyPhoneNumber} onChange={(e) => setReceiptForm((p: any) => ({ ...p, sellerCompanyPhoneNumber: e.target.value }))} />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Company Code *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.sellerCompanyCode} onChange={(e) => setReceiptForm((p: any) => ({ ...p, sellerCompanyCode: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Tax No. *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.sellerCompanyTaxNumber} onChange={(e) => setReceiptForm((p: any) => ({ ...p, sellerCompanyTaxNumber: e.target.value }))} />\n                  </div>\n                  <div />\n                </div>\n\n                <div className=\"mt-3\">\n                  <label className=\"text-sm text-gray-600 block mb-1\">Company Address *</label>\n                  <textarea className=\"w-full border rounded px-3 py-2\" rows={3} value={receiptForm.sellerCompanyAddress} onChange={(e) => setReceiptForm((p: any) => ({ ...p, sellerCompanyAddress: e.target.value }))} />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-3 mt-3\">\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Bank Account No. *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.sellerCompanyBankAccountNumber} onChange={(e) => setReceiptForm((p: any) => ({ ...p, sellerCompanyBankAccountNumber: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Name of the Bank *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.sellerCompanyBankName} onChange={(e) => setReceiptForm((p: any) => ({ ...p, sellerCompanyBankName: e.target.value }))} />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"border rounded-lg p-4\">\n                <h4 className=\"font-medium mb-3\">Buyer Details</h4>\n                <div className=\"grid grid-cols-3 gap-3\">\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Client Name *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.buyerCleintName} onChange={(e) => setReceiptForm((p: any) => ({ ...p, buyerCleintName: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Company Name *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.buyerCompanyName} onChange={(e) => setReceiptForm((p: any) => ({ ...p, buyerCompanyName: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Email Id *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.buyerCompanyEmail} onChange={(e) => setReceiptForm((p: any) => ({ ...p, buyerCompanyEmail: e.target.value }))} />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Contact No. *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.buyerCompanyPhoneNumber} onChange={(e) => setReceiptForm((p: any) => ({ ...p, buyerCompanyPhoneNumber: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Company Code *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.buyerCompanyCode} onChange={(e) => setReceiptForm((p: any) => ({ ...p, buyerCompanyCode: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Tax No. *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.buyerCompanyTaxNumber} onChange={(e) => setReceiptForm((p: any) => ({ ...p, buyerCompanyTaxNumber: e.target.value }))} />\n                  </div>\n                </div>\n\n                <div className=\"mt-3\">\n                  <label className=\"text-sm text-gray-600 block mb-1\">Company Address *</label>\n                  <textarea className=\"w-full border rounded px-3 py-2\" rows={3} value={receiptForm.buyerCompanyAddress} onChange={(e) => setReceiptForm((p: any) => ({ ...p, buyerCompanyAddress: e.target.value }))} />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-3 mt-3\">\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Bank Account No. *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.buyerCompanyBankAccountNumber} onChange={(e) => setReceiptForm((p: any) => ({ ...p, buyerCompanyBankAccountNumber: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Name of the Bank *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.buyerCompanyBankName} onChange={(e) => setReceiptForm((p: any) => ({ ...p, buyerCompanyBankName: e.target.value }))} />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"border rounded-lg p-4\">\n                <h4 className=\"font-medium mb-3\">Project Details</h4>\n                <div className=\"grid grid-cols-4 gap-3\">\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Product / Project *</label>\n                    <input className=\"w-full border rounded px-3 py-2\" value={receiptForm.productName} onChange={(e) => setReceiptForm((p: any) => ({ ...p, productName: e.target.value }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Quantity *</label>\n                    <input type=\"number\" className=\"w-full border rounded px-3 py-2\" value={receiptForm.quantity} onChange={(e) => setReceiptForm((p: any) => ({ ...p, quantity: Number(e.target.value) }))} />\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Price Without Tax *</label>\n                    <div className=\"flex items-center\">\n                      <span className=\"px-2 py-2 bg-gray-100 rounded-l border\"> {receiptForm.currency === \"USD\" ? \"â‚¹\" : \"$\"} </span>\n                      <input type=\"number\" className=\"w-full border rounded-r px-3 py-2\" value={receiptForm.priceWithOutTax} onChange={(e) => setReceiptForm((p: any) => ({ ...p, priceWithOutTax: Number(e.target.value) }))} />\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"text-sm text-gray-600 block mb-1\">Tax *</label>\n                    <div className=\"flex items-center\">\n                      <span className=\"px-2 py-2 bg-gray-100 rounded-l border\"> % </span>\n                      <input type=\"number\" className=\"w-full border rounded-r px-3 py-2\" value={receiptForm.tax} onChange={(e) => setReceiptForm((p: any) => ({ ...p, tax: Number(e.target.value) }))} />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"mt-3\">\n                  <label className=\"text-sm text-gray-600 block mb-1\">Note/ Description for the recipient *</label>\n                  <textarea className=\"w-full border rounded px-3 py-2\" rows={3} value={receiptForm.description} onChange={(e) => setReceiptForm((p: any) => ({ ...p, description: e.target.value }))} />\n                </div>\n              </div>\n\n              <div className=\"flex justify-end gap-3\">\n                <Button variant=\"ghost\" onClick={() => { setShowReceiptModal(false); uploadTargetRef.current = null; }}>Cancel</Button>\n                <Button onClick={handleSaveReceipt} disabled={savingReceipt}>{savingReceipt ? \"Saving...\" : \"Save\"}</Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* EDIT modal (unchanged) */}\n      {showEditModal && editForm && (\n        <div className=\"fixed inset-0 z-50 flex items-start justify-center overflow-auto p-6\">\n          <div className=\"absolute inset-0 bg-black/40\" onClick={() => setShowEditModal(false)} />\n          <div className=\"relative z-10 w-full max-w-2xl bg-white rounded shadow-lg overflow-auto\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h3 className=\"text-lg font-semibold\">Edit Invoice</h3>\n              <Button variant=\"ghost\" onClick={() => setShowEditModal(false)}>Close</Button>\n            </div>\n            <div className=\"p-4 space-y-4\">\n              <div>\n                <label className=\"text-sm text-gray-600 block mb-1\">Invoice Number</label>\n                <input className=\"w-full border rounded px-3 py-2\" value={editForm.invoiceNumber} onChange={(e) => setEditForm((p: any) => ({ ...p, invoiceNumber: e.target.value }))} />\n              </div>\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <label className=\"text-sm text-gray-600 block mb-1\">Invoice Date</label>\n                  <input type=\"date\" className=\"w-full border rounded px-3 py-2\" value={editForm.invoiceDate} onChange={(e) => setEditForm((p: any) => ({ ...p, invoiceDate: e.target.value }))} />\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-600 block mb-1\">Currency</label>\n                  <select className=\"w-full border rounded px-3 py-2\" value={editForm.currency} onChange={(e) => setEditForm((p: any) => ({ ...p, currency: e.target.value }))}>\n                    <option value=\"USD\">USD</option>\n                    <option value=\"USD\">USD</option>\n                    <option value=\"EUR\">EUR</option>\n                  </select>\n                </div>\n              </div>\n              <div>\n                <label className=\"text-sm text-gray-600 block mb-1\">Amount</label>\n                <input type=\"number\" className=\"w-full border rounded px-3 py-2\" value={editForm.amount} onChange={(e) => setEditForm((p: any) => ({ ...p, amount: Number(e.target.value) }))} />\n              </div>\n              <div className=\"flex justify-end gap-2\">\n                <Button variant=\"ghost\" onClick={() => setShowEditModal(false)}>Cancel</Button>\n                <Button onClick={handleEditSave} disabled={editing}>{editing ? \"Saving...\" : \"Save\"}</Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* UPLOAD modal (NEW) - matches screenshot style */}\n      {showUploadModal && (\n        <div className=\"fixed inset-0 z-60 flex items-start justify-center overflow-auto p-6\">\n          <div className=\"absolute inset-0 bg-black/40\" onClick={() => { setShowUploadModal(false); uploadTargetRef.current = null; setUploadSelectedFile(null); setUploadError(null); }} />\n          <div className=\"relative z-10 w-full max-w-2xl bg-white rounded shadow-lg overflow-hidden\">\n            <div className=\"flex items-center justify-between p-3 border-b\">\n              <h3 className=\"text-base font-semibold ml-3\">Upload File</h3>\n              <Button variant=\"ghost\" onClick={() => { setShowUploadModal(false); uploadTargetRef.current = null; setUploadSelectedFile(null); setUploadError(null); }}><X className=\"h-4 w-4\" /></Button>\n            </div>\n\n            <div className=\"p-6\">\n              <div\n                onDrop={onDrop}\n                onDragOver={onDragOver}\n                className=\"w-full h-36 border-2 border-dashed rounded-md flex flex-col items-center justify-center gap-2 cursor-pointer\"\n                onClick={onChooseFileClick}\n              >\n                <CloudUpload className=\"h-6 w-6 text-gray-400\" />\n                <div className=\"text-sm text-gray-600\">Choose a file</div>\n                <div className=\"text-xs text-gray-400\">or drag & drop here</div>\n                {uploadSelectedFile && (\n                  <div className=\"mt-2 text-sm text-gray-700\">{uploadSelectedFile.name}</div>\n                )}\n              </div>\n\n              {uploadError && <div className=\"mt-3 text-sm text-red-600\">{uploadError}</div>}\n\n              <div className=\"mt-6 flex justify-end gap-3\">\n                <Button variant=\"ghost\" onClick={() => { setShowUploadModal(false); uploadTargetRef.current = null; setUploadSelectedFile(null); setUploadError(null); }}>Cancel</Button>\n                <Button onClick={handleUploadSave} disabled={uploading}>{uploading ? \"Uploading...\" : \"Save\"}</Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </Card>\n  );\n}\n","// src/components/ClientCreditNotesTable.tsx\n\"use client\";\n\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport Image from \"next/image\";\nimport { useRouter } from \"next/navigation\";\nimport { Eye, Loader } from \"lucide-react\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\"; // adjust import if different\n\ntype ApiClient = {\n  clientId?: string;\n  name?: string | null;\n  profilePictureUrl?: string | null;\n  email?: string | null;\n  mobile?: string | null;\n  companyName?: string | null;\n};\n\ntype ApiProject = {\n  projectName?: string | null;\n  projectCode?: string | null;\n};\n\ntype CreditNote = {\n  id: number;\n  creditNoteNumber?: string | null;\n  invoiceNumber?: string | null;\n  creditNoteDate?: string | null;\n  currency?: string | null;\n  adjustment?: number | null;\n  adjustmentPositive?: boolean | null;\n  tax?: number | null;\n  amount?: number | null;\n  notes?: string | null;\n  fileUrl?: string | null;\n  client?: ApiClient | null;\n  project?: ApiProject | null;\n  totalAmount?: number | null;\n  createdAt?: string | null;\n};\n\nconst BASE_URL = process.env.NEXT_PUBLIC_MAIN ; // provided base url\n\nexport default function ClientCreditNotesTable({ clientId }: { clientId?: string | number | null }) {\n  const router = useRouter();\n  const [loading, setLoading] = useState<boolean>(false);\n  const [creditNotes, setCreditNotes] = useState<CreditNote[]>([]);\n  const [error, setError] = useState<string | null>(null);\n\n  // modal state for details view\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [active, setActive] = useState<CreditNote | null>(null);\n\n  useEffect(() => {\n    // If no clientId provided, clear and exit\n    if (!clientId && clientId !== 0) {\n      setCreditNotes([]);\n      setError(\"No client selected.\");\n      setLoading(false);\n      return;\n    }\n\n    // Build URL using the clientId value directly (it may be string or number)\n    const controller = new AbortController();\n    const idStr = String(clientId);\n    const url = `${BASE_URL}/api/credit-notes/client/${encodeURIComponent(idStr)}`;\n\n    setLoading(true);\n    setError(null);\n    const token = localStorage.getItem(\"accessToken\");\n    fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": `Bearer ${token}`,\n        \"Accept\": \"application/json\"\n      }\n    })\n      .then(async (res) => {\n        if (!res.ok) {\n          const text = await res.text().catch(() => \"\");\n          throw new Error(`HTTP ${res.status} ${text}`);\n        }\n        return res.json();\n      })\n      .then((data) => {\n        if (Array.isArray(data)) {\n          setCreditNotes(data);\n        } else if (data && typeof data === \"object\") {\n          // handle { data: [...] } or similar shapes\n          if (Array.isArray((data as any).data)) {\n            setCreditNotes((data as any).data);\n          } else if (Array.isArray((data as any).creditNotes)) {\n            setCreditNotes((data as any).creditNotes);\n          } else {\n            setCreditNotes([]);\n          }\n        } else {\n          setCreditNotes([]);\n        }\n      })\n      .catch((err) => {\n        if ((err as any).name === \"AbortError\") return;\n        console.error(\"Error fetching credit notes:\", err);\n        setError(\"Failed to load credit notes.\");\n        setCreditNotes([]);\n      })\n      .finally(() => setLoading(false));\n\n    return () => controller.abort();\n  }, [clientId]);\n\n  // Formatting helpers\n  const formatDate = (d?: string | null) => {\n    if (!d) return \"-\";\n    try {\n      const dt = new Date(d);\n      const dd = String(dt.getDate()).padStart(2, \"0\");\n      const mm = String(dt.getMonth() + 1).padStart(2, \"0\");\n      const yyyy = dt.getFullYear();\n      return `${dd}/${mm}/${yyyy}`;\n    } catch {\n      return d;\n    }\n  };\n\n  const formatCurrency = (amount?: number | null, currency?: string | null) => {\n    if (amount == null || Number.isNaN(Number(amount))) return \"$ 0.00\";\n    const curr = currency || \"USD\";\n    try {\n      return new Intl.NumberFormat(undefined, {\n        style: \"currency\",\n        currency: curr,\n        maximumFractionDigits: 2,\n      }).format(Number(amount));\n    } catch {\n      return `${curr} ${Number(amount).toFixed(2)}`;\n    }\n  };\n\n  // open modal with selected credit note\n  const openDetails = useCallback((cn: CreditNote) => {\n    setActive(cn);\n    setIsModalOpen(true);\n  }, []);\n\n  const closeDetails = useCallback(() => {\n    setIsModalOpen(false);\n    setActive(null);\n  }, []);\n\n  // render file thumbnail (small) â€” click download opens file url\n  const FileThumb: React.FC<{ url?: string | null; alt?: string }> = ({ url, alt }) => {\n    if (!url) return <div className=\"text-sm text-gray-500\">No file attached</div>;\n    return (\n      <div className=\"relative inline-block\">\n        <a href={url} target=\"_blank\" rel=\"noreferrer\">\n          <img\n            src={url}\n            alt={alt ?? \"file\"}\n            style={{ width: 140, height: 90, objectFit: \"cover\", borderRadius: 4 }}\n            className=\"border\"\n          />\n        </a>\n        <a\n          href={url}\n          download\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className=\"absolute top-1 right-1 bg-white rounded-full p-1 shadow\"\n          title=\"Download\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* small download icon using inline SVG to avoid extra imports */}\n          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M12 3v12\" stroke=\"#333\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            <path d=\"M8 11l4 4 4-4\" stroke=\"#333\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            <path d=\"M21 21H3\" stroke=\"#333\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n        </a>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"w-full\">\n      {/* Outer card with rounded border and subtle background */}\n      <div className=\"bg-white rounded-lg border p-4\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold\">Credit Notes</h3>\n          <div className=\"text-sm text-muted-foreground\">\n            {creditNotes.length} record{creditNotes.length !== 1 ? \"s\" : \"\"}\n          </div>\n        </div>\n\n        {loading ? (\n          <div className=\"py-12 flex justify-center\">\n            <Loader className=\"animate-spin\" />\n          </div>\n        ) : error ? (\n          <div className=\"py-6 text-center text-red-600\">{error}</div>\n        ) : creditNotes.length === 0 ? (\n          <div className=\"py-8 text-center text-gray-600\">No credit notes found for this client.</div>\n        ) : (\n          /* Table-like layout matching screenshot */\n          <div className=\"rounded-lg border overflow-hidden\">\n            {/* pale-blue header with rounded top corners */}\n            <div className=\"bg-[#e8f3ff] px-6 py-3 flex text-sm text-gray-700 font-medium\">\n              <div className=\"w-1/6\">Credit Note</div>\n              <div className=\"w-1/6\">Invoice</div>\n              <div className=\"w-2/6\">Client</div>\n              <div className=\"w-1/6\">Total</div>\n              <div className=\"w-1/6\">Credit Note Date</div>\n              <div className=\"w-12 text-center\">Action</div>\n            </div>\n\n            {/* rows */}\n            <div className=\"px-6 py-4\">\n              <div className=\"space-y-3\">\n                {creditNotes.map((cn) => (\n                  <div\n                    key={cn.id}\n                    className=\"flex items-center rounded-md border px-4 py-4 bg-white\"\n                    style={{ boxShadow: \"0 0 0 1px rgba(0,0,0,0.02) inset\" }}\n                  >\n                    {/* Credit Note */}\n                    <div className=\"w-1/6 text-sm\">\n                      <div className=\"font-medium\">{cn.creditNoteNumber ?? `CN#${cn.id}`}</div>\n                    </div>\n\n                    {/* Invoice */}\n                    <div className=\"w-1/6 text-sm\">{cn.invoiceNumber ?? \"-\"}</div>\n\n                    {/* Client */}\n                    <div className=\"w-2/6 flex items-center gap-3 text-sm\">\n                      <div className=\"h-8 w-8 rounded-full overflow-hidden bg-gray-100 relative flex-shrink-0\">\n                        {cn.client?.profilePictureUrl ? (\n                          <Image\n                            src={cn.client.profilePictureUrl}\n                            alt={cn.client?.name ?? \"client\"}\n                            fill\n                            sizes=\"32px\"\n                            style={{ objectFit: \"cover\" }}\n                            unoptimized\n                          />\n                        ) : (\n                          <div className=\"flex items-center justify-center h-full text-xs text-gray-500\">\n                            {cn.client?.name ? cn.client.name.charAt(0) : \"U\"}\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"flex flex-col\">\n                        <span className=\"font-medium text-sm\">{cn.client?.name ?? \"-\"}</span>\n                        <span className=\"text-xs text-gray-500\">{cn.project?.projectName ?? \"\"}</span>\n                      </div>\n                    </div>\n\n                    {/* Total + Adjustment */}\n                    <div className=\"w-1/6 text-sm\">\n                      <div className=\"text-sm font-semibold\">{formatCurrency(cn.totalAmount ?? cn.amount, cn.currency)}</div>\n                      <div className=\"text-xs text-amber-600\">Adjustment : {cn.adjustment != null ? Number(cn.adjustment).toFixed(2) : \"0.00\"}</div>\n                    </div>\n\n                    {/* Date */}\n                    <div className=\"w-1/6 text-sm\">{formatDate(cn.creditNoteDate ?? cn.createdAt)}</div>\n\n                    {/* Only view icon */}\n                    <div className=\"w-12 text-center\">\n                      <button\n                        type=\"button\"\n                        onClick={() => openDetails(cn)}\n                        className=\"inline-flex items-center justify-center h-8 w-8 rounded-full hover:bg-gray-100\"\n                        title=\"View details\"\n                      >\n                        <Eye size={16} />\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* DETAILS MODAL: matches screenshot layout (labels left, values right) */}\n      {isModalOpen && active && (\n        <div className=\"fixed inset-0 z-50 flex items-start justify-center pt-20 px-4\">\n          {/* backdrop */}\n          <div className=\"absolute inset-0 bg-black/40\" onClick={closeDetails} />\n\n          <div className=\"relative z-10 w-[820px] max-w-full\">\n            <div className=\"bg-white rounded-lg border shadow\">\n              {/* modal header */}\n              <div className=\"flex items-center justify-between px-6 py-3 border-b\">\n                <h3 className=\"text-lg font-semibold\">Credit Note Details</h3>\n                <button onClick={closeDetails} className=\"text-gray-600 hover:text-gray-800\" aria-label=\"Close\">âœ•</button>\n              </div>\n\n              {/* modal content */}\n              <div className=\"p-6\">\n                <div className=\"rounded-md border p-5\">\n                  <div className=\"grid grid-cols-2 gap-6\">\n                    {/* left column with labels */}\n                    <div className=\"space-y-4\">\n                      <div className=\"text-sm text-gray-600\">Credit Note #</div>\n                      <div className=\"text-sm text-gray-600\">Credit Note Date</div>\n                      <div className=\"text-sm text-gray-600\">Client</div>\n                      <div className=\"text-sm text-gray-600\">Project</div>\n                      <div className=\"text-sm text-gray-600\">Invoice Amount</div>\n                      <div className=\"text-sm text-gray-600\">Adjustment</div>\n                      <div className=\"text-sm text-gray-600\">Tax</div>\n                      <div className=\"text-sm text-gray-600\">Note</div>\n                      <div className=\"text-sm text-gray-600\">File</div>\n                    </div>\n\n                    {/* right column with values */}\n                    <div className=\"space-y-4\">\n                      <div className=\"text-sm font-medium\">{active.creditNoteNumber ?? `CN#${active.id}`}</div>\n\n                      <div className=\"text-sm\">{formatDate(active.creditNoteDate ?? active.createdAt)}</div>\n\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"h-8 w-8 rounded-full overflow-hidden bg-gray-100 relative\">\n                          {active.client?.profilePictureUrl ? (\n                            <Image src={active.client.profilePictureUrl} alt={active.client?.name ?? \"client\"} fill sizes=\"32px\" style={{ objectFit: \"cover\" }} unoptimized />\n                          ) : (\n                            <div className=\"flex items-center justify-center h-full text-xs text-gray-500\">\n                              {active.client?.name ? active.client.name.charAt(0) : \"U\"}\n                            </div>\n                          )}\n                        </div>\n                        <div>\n                          <div className=\"text-sm font-medium\">{active.client?.name ?? \"-\"}</div>\n                          <div className=\"text-xs text-gray-500\">{active.client?.companyName ?? \"\"}</div>\n                        </div>\n                      </div>\n\n                      <div className=\"text-sm\">{active.project?.projectName ?? \"-\"}</div>\n\n                      <div className=\"text-sm\">{formatCurrency(active.totalAmount ?? active.amount, active.currency)}</div>\n\n                      <div className=\"text-sm\">{active.adjustment != null ? formatCurrency(active.adjustment, active.currency) : formatCurrency(0, active.currency)} {active.adjustmentPositive ? \"(Add)\" : \"\"}</div>\n\n                      <div className=\"text-sm\">{active.tax != null ? `${active.tax} %` : \"-\"}</div>\n\n                      <div className=\"text-sm text-gray-700\">{active.notes ?? \"-\"}</div>\n\n                      <div className=\"text-sm\">\n                        <FileThumb url={active.fileUrl} alt={active.creditNoteNumber ?? `CN#${active.id}`} />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* footer: only Close to match screenshot (non-destructive) */}\n              <div className=\"flex items-center justify-end px-6 py-3 border-t\">\n                <button onClick={closeDetails} className=\"px-4 py-2 rounded border bg-white hover:bg-gray-50\">Close</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\"\nimport React from \"react\"\n\n\nexport const Row: React.FC<{ label: string; value?: React.ReactNode }> = ({ label, value }) => (\n<div className=\"flex items-start gap-6 py-2 border-b border-transparent last:border-b-0\">\n<div className=\"w-40 text-sm text-slate-600\">{label}</div>\n<div className=\"text-sm text-slate-800\">{value ?? \"â€”\"}</div>\n</div>\n)\n\n\nexport default Row","\"use client\";\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Image from \"next/image\";\nimport { MoreHorizontal } from \"lucide-react\";\n\nexport type DocumentItem = {\n  id: string | number;\n  name?: string | null;\n  fileUrl?: string | null;\n  mimeType?: string | null;\n  createdAt?: string | null;\n  size?: number | null;\n  uploadedBy?: string | null;\n};\n\nconst BASE_URL =  `${process.env.NEXT_PUBLIC_MAIN}`;\n\nexport default function ClientDocuments({\n  clientId,\n  documents,\n  onUpload,\n  onDelete,\n  onAction,\n  authToken,           // pass token if needed\n  extraHeaders,\n  includeCredentials = false,\n  fileFieldName = \"file\",\n  onUnauthorized,\n}: {\n  clientId: string | number;\n  documents?: DocumentItem[] | null;\n  onUpload?: (file: File) => void;\n  onDelete?: (id: string | number) => void;\n  onAction?: (doc: DocumentItem, action: \"download\" | \"rename\" | \"more\" | \"view\") => void;\n  authToken?: string | null;\n  extraHeaders?: Record<string, string> | null;\n  includeCredentials?: boolean;\n  fileFieldName?: string;\n  onUnauthorized?: () => void;\n}) {\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const [localFiles, setLocalFiles] = useState<DocumentItem[]>(documents || []);\n  const [menuOpenFor, setMenuOpenFor] = useState<string | number | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [uploadingIds, setUploadingIds] = useState<Record<string, boolean>>({});\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (documents !== undefined && documents !== null) setLocalFiles(documents);\n  }, [documents]);\n\n  const buildFetchOptions = (opts: { method?: string; headers?: HeadersInit; body?: BodyInit | null }) => {\n    const h: Record<string, string> = {\n      Accept: \"application/json\",\n      ...(extraHeaders || {}),\n      ...(opts.headers || {}),\n    };\n    if (authToken) h[\"Authorization\"] = `Bearer ${authToken}`;\n    const base: RequestInit = {\n      method: opts.method ?? \"GET\",\n      headers: h,\n      body: opts.body ?? undefined,\n      credentials: includeCredentials ? \"include\" : \"same-origin\",\n    };\n    return base;\n  };\n\n  useEffect(() => {\n    if (documents !== undefined && documents !== null) return;\n    if (!clientId) return;\n\n    let mounted = true;\n    async function fetchDocs() {\n      setLoading(true);\n      setError(null);\n      try {\n        //console.log(\"devesh\", clientId.id)\n        const client = clientId.id;\n        const res = await fetch(`${BASE_URL}/clients/${client}/documents`, buildFetchOptions({ method: \"GET\" }));\n\n        if (res.status === 401) {\n          setError(\"Unauthorized: provide a valid token or enable credentials.\");\n          if (onUnauthorized) onUnauthorized();\n          return;\n        }\n        if (!res.ok) {\n          const txt = await res.text();\n          throw new Error(`Failed to fetch documents: ${res.status} ${txt}`);\n        }\n        const data = await res.json();\n        const mapped: DocumentItem[] = (Array.isArray(data) ? data : []).map((d: any) => ({\n          id: d.id,\n          name: d.filename ?? d.name ?? null,\n          fileUrl: d.url ?? d.fileUrl ?? null,\n          mimeType: d.mimeType ?? d.type ?? null,\n          createdAt: d.uploadedAt ?? d.createdAt ?? null,\n          size: d.size ?? null,\n          uploadedBy: d.uploadedBy ?? null,\n        }));\n        if (mounted) setLocalFiles(mapped);\n      } catch (err: any) {\n        console.error(err);\n        if (mounted) setError(err?.message ?? \"Unable to load documents\");\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    }\n    fetchDocs();\n    return () => {\n      mounted = false;\n    };\n  }, [clientId, documents, authToken, includeCredentials, JSON.stringify(extraHeaders)]);\n\n  const handleChooseFile = () => fileInputRef.current?.click();\n\n  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const f = e.target.files?.[0];\n    if (!f) return;\n    if (onUpload) onUpload(f);\n\n    const previewUrl = f.type.startsWith(\"image/\") ? URL.createObjectURL(f) : undefined;\n    const localId = `local-${Date.now()}`;\n    const previewItem: DocumentItem = { id: localId, name: f.name, fileUrl: previewUrl ?? null, mimeType: f.type, createdAt: new Date().toISOString() };\n    setLocalFiles((s) => [previewItem, ...s]);\n\n    try {\n      setUploadingIds((s) => ({ ...s, [localId]: true }));\n      const form = new FormData();\n      form.append(fileFieldName, f);\n      const client = clientId.id;\n      const res = await fetch(`${BASE_URL}/clients/${client}/documents`, buildFetchOptions({ method: \"POST\", body: form }));\n\n      if (res.status === 401) {\n        setLocalFiles((s) => s.filter((x) => x.id !== localId));\n        setError(\"Unauthorized (401). Provide valid auth.\");\n        if (onUnauthorized) onUnauthorized();\n        return;\n      }\n      if (!res.ok) {\n        setLocalFiles((s) => s.filter((x) => x.id !== localId));\n        const txt = await res.text();\n        throw new Error(`Upload failed: ${res.status} ${txt}`);\n      }\n\n      const data = await res.json();\n      const uploaded: DocumentItem = {\n        id: data.id,\n        name: data.filename ?? f.name,\n        fileUrl: data.url ?? data.fileUrl ?? previewUrl ?? null,\n        mimeType: data.mimeType ?? f.type,\n        createdAt: data.uploadedAt ?? new Date().toISOString(),\n        size: data.size ?? null,\n        uploadedBy: data.uploadedBy ?? null,\n      };\n\n      setLocalFiles((s) => [uploaded, ...s.filter((x) => x.id !== localId)]);\n    } catch (err: any) {\n      console.error(\"Upload error:\", err);\n      setError(err?.message ?? \"Upload failed\");\n    } finally {\n      setUploadingIds((s) => {\n        const copy = { ...s };\n        delete copy[localId];\n        return copy;\n      });\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\n    }\n  };\n\n  const humanName = (n?: string | null) => (n ? n : \"Untitled\");\n\n  const handleDelete = async (id: string | number) => {\n    setLocalFiles((s) => s.filter((x) => x.id !== id));\n    if (onDelete) onDelete(id);\n\n    try {\n      const client = clientId.id;\n      const res = await fetch(`${BASE_URL}/clients/${client}/documents/${id}`, buildFetchOptions({ method: \"DELETE\" }));\n      if (res.status === 401) {\n        setError(\"Unauthorized (401). Provide valid auth.\");\n        if (onUnauthorized) onUnauthorized();\n        return;\n      }\n      if (!res.ok) {\n        const txt = await res.text();\n        throw new Error(`Delete failed: ${res.status} ${txt}`);\n      }\n    } catch (err: any) {\n      console.error(err);\n      setError(err?.message ?? \"Failed to delete document\");\n    }\n  };\n\n  const handleView = (doc: DocumentItem) => {\n    if (onAction) onAction(doc, \"view\");\n    if (doc.fileUrl) {\n      const a = document.createElement(\"a\");\n      a.href = doc.fileUrl;\n      a.target = \"_blank\";\n      // don't set download attribute for view\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n    }\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"bg-white rounded-lg border p-5\">\n        <h3 className=\"text-lg font-semibold mb-4\">Upload file</h3>\n\n       <div \n  onClick={handleChooseFile} \n  role=\"button\" \n  className=\"border-2 border-dashed rounded-lg h-28 flex items-center justify-center cursor-pointer text-gray-500\"\n>\n  <div className=\"text-center\">\n\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"40\"\n      height=\"40\"\n      fill=\"#bdbdbd\"\n      viewBox=\"0 0 24 24\"\n      className=\"mx-auto mb-2\"\n    >\n      <path d=\"M12 16a1 1 0 0 1-1-1v-4.586l-1.293 1.293a1 1 0 1 1-1.414-1.414l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.414L13 10.414V15a1 1 0 0 1-1 1Zm7-1a5 5 0 0 0-4.546-4.978A7 7 0 0 0 5.062 9.2 5 5 0 0 0 6 19h13a4 4 0 0 0 0-8Z\"/>\n    </svg>\n\n    <div className=\"text-sm font-medium\">Choose a file</div>\n  </div>\n\n  <input ref={fileInputRef} type=\"file\" className=\"hidden\" onChange={handleFileChange} />\n</div>\n\n\n        {loading && <div className=\"mt-3 text-sm text-gray-500\">Loading documentsâ€¦</div>}\n        {error && <div className=\"mt-3 text-sm text-red-600\">Error: {error}</div>}\n\n        <div className=\"mt-6 space-y-4\">\n          {localFiles.length === 0 ? <div className=\"text-sm text-gray-500\">No documents uploaded yet.</div> : (\n            <div className=\"grid grid-cols-6 gap-4\">\n              {localFiles.map((doc) => (\n                <div key={String(doc.id)} className=\"col-span-1\">\n                  <div className=\"relative\">\n                    <div className=\"bg-gray-50 w-full h-20 rounded overflow-hidden flex items-center justify-center border\">\n                      {doc.fileUrl ? doc.mimeType?.startsWith?.(\"image/\") ? (\n                        <Image src={doc.fileUrl!} alt={doc.name ?? \"document\"} fill sizes=\"160px\" style={{ objectFit: \"cover\" }} unoptimized />\n                      ) : <div className=\"text-gray-400 text-xs\">File</div> : <div className=\"text-gray-400 text-xs\">No Preview</div>}\n                    </div>\n\n                    <div className=\"absolute top-1 right-1\">\n                      <button onClick={() => setMenuOpenFor(menuOpenFor === doc.id ? null : doc.id)} className=\"p-1 rounded hover:bg-white/60\" aria-label=\"Open actions\">\n                        <MoreHorizontal size={16} />\n                      </button>\n\n                      {menuOpenFor === doc.id && (\n                        <div className=\"absolute right-0 mt-8 w-36 bg-white border rounded shadow-lg z-30\">\n                          <button\n                            className=\"w-full text-left px-3 py-2 hover:bg-gray-50 text-sm\"\n                            onClick={() => {\n                              setMenuOpenFor(null);\n                              if (onAction) onAction(doc, \"download\");\n                              if (doc.fileUrl) {\n                                const a = document.createElement(\"a\");\n                                a.href = doc.fileUrl;\n                                a.download = doc.name ?? \"file\";\n                                a.target = \"_blank\";\n                                document.body.appendChild(a);\n                                a.click();\n                                a.remove();\n                              }\n                            }}\n                          >\n                            Download\n                          </button>\n\n                          <button\n                            className=\"w-full text-left px-3 py-2 hover:bg-gray-50 text-sm\"\n                            onClick={() => {\n                              setMenuOpenFor(null);\n                              handleView(doc);\n                            }}\n                          >\n                            View\n                          </button>\n\n                          <button\n                            className=\"w-full text-left px-3 py-2 hover:bg-gray-50 text-sm text-red-600\"\n                            onClick={() => {\n                              setMenuOpenFor(null);\n                              handleDelete(doc.id);\n                            }}\n                          >\n                            Delete\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"mt-2 text-sm\">\n                    <div className=\"text-sm font-medium flex items-center gap-2\">{humanName(doc.name)}{uploadingIds[String(doc.id)] && <span className=\"text-xs text-gray-400\"> Â· uploadingâ€¦</span>}</div>\n                    <div className=\"text-xs text-gray-400\">{doc.createdAt ? new Date(doc.createdAt).toLocaleDateString() : \"\"}</div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { MoreVertical, Globe, Lock, Eye, Edit, Trash2, Plus, X } from \"lucide-react\";\n\nexport type NoteItem = {\n  id: number;\n  clientId?: number;\n  title: string;\n  content?: string | null;\n  type: string; // PUBLIC / PRIVATE\n  createdBy?: string | null;\n  createdAt?: string | null;\n};\n\n// primary fallback base (kept for backward compatibility)\nconst FALLBACK_BASE =  `${process.env.NEXT_PUBLIC_MAIN}`;\n// POST should use Gateway (if provided)\nconst POST_BASE =  `${process.env.NEXT_PUBLIC_MAIN}`;\n// DELETE should use main (if provided)\nconst DELETE_BASE =  `${process.env.NEXT_PUBLIC_MAIN}`;\n\n// helper: try convert various clientId shapes -> numeric\nfunction resolveClientIdToNumber(clientId: any): number | null {\n  if (typeof clientId === \"number\") return clientId;\n\n  const raw = String(clientId ?? \"\").trim();\n\n  // If it's already numeric string â†’ use it\n  if (/^\\d+$/.test(raw)) return parseInt(raw, 10);\n\n  // Extract digits from string like \"CLI010\"\n  const digits = raw.replace(/\\D+/g, \"\");\n  if (digits.length > 0) return parseInt(digits, 10);\n\n  return null;\n}\n\nexport default function ClientNotesTable({\n  clientId,\n  authToken,\n  extraHeaders,\n  includeCredentials = false,\n  onView,\n  onEdit,\n  onDelete,\n}: {\n  clientId: any;\n  authToken?: string | null;\n  extraHeaders?: Record<string, string> | null;\n  includeCredentials?: boolean;\n  onView?: (note: NoteItem) => void;\n  onEdit?: (note: NoteItem) => void;\n  onDelete?: (note: NoteItem) => void;\n}) {\n  const [notes, setNotes] = useState<NoteItem[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [menuOpenFor, setMenuOpenFor] = useState<number | null>(null);\n\n  // Add modal state & form\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [formTitle, setFormTitle] = useState(\"\");\n  const [formDetail, setFormDetail] = useState(\"\");\n  const [formType, setFormType] = useState<\"PUBLIC\" | \"PRIVATE\">(\"PUBLIC\");\n  const [saving, setSaving] = useState(false);\n\n  // View modal state\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [viewNote, setViewNote] = useState<NoteItem | null>(null);\n\n  // Edit modal state\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editNoteId, setEditNoteId] = useState<number | null>(null);\n  const [editTitle, setEditTitle] = useState(\"\");\n  const [editDetail, setEditDetail] = useState(\"\");\n  const [editType, setEditType] = useState<\"PUBLIC\" | \"PRIVATE\">(\"PUBLIC\");\n  const [updating, setUpdating] = useState(false);\n\n  const buildFetchOptions = (opts: { method?: string; headers?: HeadersInit; body?: BodyInit | null }) => {\n    const headers: Record<string, string> = {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      ...(extraHeaders || {}),\n      ...(opts.headers || {}),\n    };\n\n    if (authToken) headers[\"Authorization\"] = `Bearer ${authToken}`;\n\n    return {\n      method: opts.method ?? \"GET\",\n      headers,\n      body: opts.body ?? undefined,\n      credentials: includeCredentials ? \"include\" : \"same-origin\",\n    } as RequestInit;\n  };\n\n  // Load notes\n  useEffect(() => {\n    let mounted = true;\n\n    async function loadNotes() {\n      setLoading(true);\n      setError(null);\n\n      const numericId = resolveClientIdToNumber(clientId);\n      if (numericId === null) {\n        setLoading(false);\n        setError(`Invalid clientId: \"${String(clientId)}\". Cannot convert to numeric ID.`);\n        return;\n      }\n\n      try {\n        const res = await fetch(`${FALLBACK_BASE}/clients/${numericId}/notes`, buildFetchOptions({ method: \"GET\" }));\n\n        if (!res.ok) {\n          const txt = await res.text();\n          throw new Error(`Failed to load notes: ${res.status} ${txt}`);\n        }\n\n        const data = await res.json();\n\n        const mapped: NoteItem[] = Array.isArray(data)\n          ? data.map((n: any) => ({\n              id: n.id,\n              clientId: n.clientId,\n              title: n.title ?? \"Untitled\",\n              content: n.detail ?? null,\n              type: n.type ?? \"PRIVATE\",\n              createdBy: n.createdBy,\n              createdAt: n.createdAt,\n            }))\n          : [];\n\n        if (mounted) setNotes(mapped);\n      } catch (err: any) {\n        console.error(err);\n        if (mounted) setError(err?.message ?? \"Unable to load notes\");\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    }\n\n    loadNotes();\n    return () => {\n      mounted = false;\n    };\n  }, [clientId]);\n\n  // Delete note (uses DELETE_BASE)\n  const handleDelete = async (note: NoteItem) => {\n    // optimistic UI remove\n    setNotes((prev) => prev.filter((x) => x.id !== note.id));\n    if (onDelete) onDelete(note);\n\n    const numericId = resolveClientIdToNumber(clientId);\n    if (numericId === null) {\n      setError(\"Invalid clientId while deleting note.\");\n      return;\n    }\n\n    try {\n      // DELETE endpoint per your spec: {{main}}/clients/{{clientId}}/notes/{{notesId}}\n      const res = await fetch(`${DELETE_BASE}/clients/${numericId}/notes/${note.id}`, buildFetchOptions({ method: \"DELETE\" }));\n\n      if (!res.ok) {\n        const txt = await res.text();\n        throw new Error(`Delete failed: ${res.status} ${txt}`);\n      }\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to delete note\");\n      // optional: refetch or revert UI â€” keeping simple as requested\n    }\n  };\n\n  // Add note helpers (POST uses POST_BASE)\n  const openAddModal = () => {\n    setFormTitle(\"\");\n    setFormDetail(\"\");\n    setFormType(\"PUBLIC\");\n    setShowAddModal(true);\n    onEdit?.({ id: 0, title: \"\", type: \"PRIVATE\", content: \"\" } as NoteItem);\n  };\n\n  const closeAddModal = () => {\n    setShowAddModal(false);\n    setSaving(false);\n  };\n\n  const handleSaveNote = async () => {\n    if (!formTitle.trim()) {\n      setError(\"Please enter a note title.\");\n      return;\n    }\n    setError(null);\n    setSaving(true);\n\n    const numericId = resolveClientIdToNumber(clientId);\n    if (numericId === null) {\n      setError(\"Invalid clientId while saving note.\");\n      setSaving(false);\n      return;\n    }\n\n    try {\n      const payload = {\n        title: formTitle,\n        detail: formDetail,\n        type: formType,\n      };\n\n      // POST per your spec: {{Gateway}}/clients/{{clientId}}/notes\n      const res = await fetch(`${POST_BASE}/clients/${numericId}/notes`, buildFetchOptions({ method: \"POST\", body: JSON.stringify(payload) }));\n\n      if (!res.ok) {\n        const txt = await res.text();\n        throw new Error(`Failed to save note: ${res.status} ${txt}`);\n      }\n\n      const saved = await res.json();\n\n      const newNote: NoteItem = {\n        id: saved?.id ?? Date.now(),\n        clientId: saved?.clientId ?? numericId,\n        title: saved?.title ?? payload.title,\n        content: saved?.detail ?? payload.detail,\n        type: saved?.type ?? payload.type,\n        createdBy: saved?.createdBy ?? undefined,\n        createdAt: saved?.createdAt ?? new Date().toISOString(),\n      };\n\n      setNotes((prev) => [newNote, ...prev]);\n      closeAddModal();\n    } catch (err: any) {\n      console.error(err);\n      setError(err?.message ?? \"Failed to save note\");\n      setSaving(false);\n    }\n  };\n\n  // View modal helpers\n  const openViewModal = (note: NoteItem) => {\n    setViewNote(note);\n    setShowViewModal(true);\n    onView?.(note);\n  };\n\n  const closeViewModal = () => {\n    setShowViewModal(false);\n    setViewNote(null);\n  };\n\n  // Edit modal helpers\n  const openEditModal = (note: NoteItem) => {\n    setEditNoteId(note.id);\n    setEditTitle(note.title ?? \"\");\n    setEditDetail(note.content ?? \"\");\n    setEditType(note.type === \"PUBLIC\" ? \"PUBLIC\" : \"PRIVATE\");\n    setShowEditModal(true);\n    onEdit?.(note);\n  };\n\n  const closeEditModal = () => {\n    setShowEditModal(false);\n    setUpdating(false);\n    setEditNoteId(null);\n  };\n\n  const handleUpdateNote = async () => {\n    if (!editTitle.trim()) {\n      setError(\"Please enter a note title.\");\n      return;\n    }\n    setError(null);\n    setUpdating(true);\n\n    const numericId = resolveClientIdToNumber(clientId);\n    if (numericId === null || editNoteId === null) {\n      setError(\"Invalid clientId or note id while updating.\");\n      setUpdating(false);\n      return;\n    }\n\n    try {\n      const payload = {\n        title: editTitle,\n        detail: editDetail,\n        type: editType,\n      };\n\n      // << CHANGED >> use PUT because backend expects PUT for update\n      const res = await fetch(`${POST_BASE}/clients/${numericId}/notes/${editNoteId}`, buildFetchOptions({ method: \"PUT\", body: JSON.stringify(payload) }));\n\n      if (!res.ok) {\n        const txt = await res.text();\n        throw new Error(`Failed to update note: ${res.status} ${txt}`);\n      }\n\n      const updated = await res.json();\n\n      const updatedNote: NoteItem = {\n        id: updated?.id ?? editNoteId,\n        clientId: updated?.clientId ?? numericId,\n        title: updated?.title ?? payload.title,\n        content: updated?.detail ?? payload.detail,\n        type: updated?.type ?? payload.type,\n        createdBy: updated?.createdBy ?? undefined,\n        createdAt: updated?.createdAt ?? undefined,\n      };\n\n      setNotes((prev) => prev.map((n) => (n.id === updatedNote.id ? updatedNote : n)));\n      closeEditModal();\n    } catch (err: any) {\n      console.error(err);\n      setError(err?.message ?? \"Failed to update note\");\n      setUpdating(false);\n    }\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"bg-white rounded shadow-sm border\">\n        {/* Header */}\n        <div className=\"p-4 flex items-center justify-between border-b\">\n          {/* <h3 className=\"text-lg font-semibold\">Notes</h3> */}\n\n          <button\n            type=\"button\"\n            className=\"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2 rounded\"\n            onClick={openAddModal}\n          >\n            <Plus size={16} /> Add Note\n          </button>\n        </div>\n\n        <div className=\"p-4\">\n          {loading && <div className=\"text-sm text-gray-600\">Loading notesâ€¦</div>}\n          {error && <div className=\"text-sm text-red-600 mb-2\">Error: {error}</div>}\n\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full text-sm\">\n              <thead>\n                <tr className=\"bg-blue-50 text-left rounded-t-md\">\n                  <th className=\"px-4 py-3 w-1/2 rounded-tl-md\">Note Title</th>\n                  <th className=\"px-4 py-3 w-1/4\">Note Type</th>\n                  <th className=\"px-4 py-3 w-1/6 text-right rounded-tr-md\">Action</th>\n                </tr>\n              </thead>\n\n              <tbody>\n                {notes.length === 0 && !loading ? (\n                  <tr>\n                    <td colSpan={3} className=\"px-4 py-6 text-center text-gray-500\">No notes found.</td>\n                  </tr>\n                ) : (\n                  notes.map((note) => (\n                    <tr key={note.id} className=\"border-t\">\n                      <td className=\"px-4 py-4\">{note.title}</td>\n\n                      <td className=\"px-4 py-4\">\n                        <div className=\"flex items-center gap-2 text-gray-600\">\n                          {note.type === \"PUBLIC\" ? (\n                            <>\n                              <Globe size={14} /> <span className=\"text-xs\">Public</span>\n                            </>\n                          ) : (\n                            <>\n                              <Lock size={14} /> <span className=\"text-xs\">Private</span>\n                            </>\n                          )}\n                        </div>\n                      </td>\n\n                      <td className=\"px-4 py-4 text-right relative\">\n                        <button\n                          onClick={() => setMenuOpenFor(menuOpenFor === note.id ? null : note.id)}\n                          className=\"p-1 rounded hover:bg-gray-100\"\n                        >\n                          <MoreVertical size={18} />\n                        </button>\n\n                        {menuOpenFor === note.id && (\n                          <div className=\"absolute right-2 mt-2 w-44 bg-white border rounded shadow-lg z-30\">\n                            <button\n                              className=\"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-50\"\n                              onClick={() => {\n                                setMenuOpenFor(null);\n                                openViewModal(note);\n                              }}\n                            >\n                              <Eye size={14} /> View\n                            </button>\n\n                            <button\n                              className=\"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-50\"\n                              onClick={() => {\n                                setMenuOpenFor(null);\n                                openEditModal(note);\n                              }}\n                            >\n                              <Edit size={14} /> Edit\n                            </button>\n\n                            <button\n                              className=\"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-gray-50\"\n                              onClick={() => {\n                                setMenuOpenFor(null);\n                                handleDelete(note);\n                              }}\n                            >\n                              <Trash2 size={14} /> Delete\n                            </button>\n                          </div>\n                        )}\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      {/* Add Note Modal */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 z-50 flex items-start justify-center pt-12\">\n          <div className=\"absolute inset-0 bg-black/30\" onClick={() => !saving && closeAddModal()} />\n          <div className=\"relative z-10 w-[900px] max-w-[95%] bg-white rounded-lg shadow-xl border\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h4 className=\"text-lg font-medium\">Add Project Note</h4>\n              <button className=\"p-2 rounded hover:bg-gray-100\" onClick={() => !saving && closeAddModal()}>\n                <X size={18} />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              <div className=\"rounded-lg border p-6\">\n                <h5 className=\"text-sm font-medium mb-4\">Client Note Details</h5>\n\n                <div className=\"grid grid-cols-12 gap-4\">\n                  <div className=\"col-span-12 md:col-span-6\">\n                    <label className=\"block text-xs text-gray-600 mb-2\">Note Title <span className=\"text-red-500\">*</span></label>\n                    <input\n                      value={formTitle}\n                      onChange={(e) => setFormTitle(e.target.value)}\n                      className=\"w-full border rounded px-3 py-2 text-sm\"\n                      placeholder=\"--\"\n                    />\n                  </div>\n\n                  <div className=\"col-span-12 md:col-span-6 flex items-center gap-6\">\n                    <div className=\"flex items-center gap-2\">\n                      <input id=\"note-public\" type=\"radio\" name=\"noteType\" checked={formType === \"PUBLIC\"} onChange={() => setFormType(\"PUBLIC\")} />\n                      <label htmlFor=\"note-public\" className=\"text-sm text-gray-700\">Public</label>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <input id=\"note-private\" type=\"radio\" name=\"noteType\" checked={formType === \"PRIVATE\"} onChange={() => setFormType(\"PRIVATE\")} />\n                      <label htmlFor=\"note-private\" className=\"text-sm text-gray-700\">Private</label>\n                    </div>\n                  </div>\n\n                  <div className=\"col-span-12\">\n                    <label className=\"block text-xs text-gray-600 mb-2\">Note Detail</label>\n                    <textarea\n                      value={formDetail}\n                      onChange={(e) => setFormDetail(e.target.value)}\n                      className=\"w-full border rounded px-3 py-3 text-sm min-h-[120px]\"\n                      placeholder=\"--\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-center gap-4 p-6 border-t\">\n              <button\n                className=\"px-6 py-2 text-sm border rounded hover:bg-gray-50\"\n                onClick={() => !saving && closeAddModal()}\n              >\n                Cancel\n              </button>\n\n              <button\n                className=\"px-6 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed\"\n                onClick={handleSaveNote}\n                disabled={saving}\n              >\n                {saving ? \"Savingâ€¦\" : \"Save\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* View Note Modal */}\n      {showViewModal && viewNote && (\n        <div className=\"fixed inset-0 z-50 flex items-start justify-center pt-12\">\n          <div className=\"absolute inset-0 bg-black/30\" onClick={() => closeViewModal()} />\n          <div className=\"relative z-10 w-[900px] max-w-[95%] bg-white rounded-lg shadow-xl border\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h4 className=\"text-lg font-medium\">{viewNote.title ?? \"My Note\"}</h4>\n              <button className=\"p-2 rounded hover:bg-gray-100\" onClick={() => closeViewModal()}>\n                <X size={18} />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              <div className=\"rounded-lg border p-6\">\n                <h5 className=\"text-sm font-medium mb-4\">Project Note Details</h5>\n\n                <div className=\"grid grid-cols-12 gap-6 text-sm text-gray-700\">\n                  <div className=\"col-span-12 md:col-span-4\">\n                    <div className=\"text-xs text-gray-500\">Note Title</div>\n                    <div className=\"mt-2\">{viewNote.title ?? \"---\"}</div>\n                  </div>\n\n                  <div className=\"col-span-12 md:col-span-4\">\n                    <div className=\"text-xs text-gray-500\">Note Type</div>\n                    <div className=\"mt-2\">{viewNote.type === \"PUBLIC\" ? \"Public\" : \"Private\"}</div>\n                  </div>\n\n                  <div className=\"col-span-12 md:col-span-4\">\n                    <div className=\"text-xs text-gray-500\">Note Detail</div>\n                    <div className=\"mt-2 whitespace-pre-wrap\">{viewNote.content ?? \"---\"}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-center gap-4 p-6 border-t\">\n              <button\n                className=\"px-6 py-2 text-sm border rounded hover:bg-gray-50\"\n                onClick={() => closeViewModal()}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Note Modal */}\n      {showEditModal && editNoteId !== null && (\n        <div className=\"fixed inset-0 z-50 flex items-start justify-center pt-12\">\n          <div className=\"absolute inset-0 bg-black/30\" onClick={() => !updating && closeEditModal()} />\n          <div className=\"relative z-10 w-[900px] max-w-[95%] bg-white rounded-lg shadow-xl border\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h4 className=\"text-lg font-medium\">Update Project Note</h4>\n              <button className=\"p-2 rounded hover:bg-gray-100\" onClick={() => !updating && closeEditModal()}>\n                <X size={18} />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              <div className=\"rounded-lg border p-6\">\n                <h5 className=\"text-sm font-medium mb-4\">Project Note Details</h5>\n\n                <div className=\"grid grid-row-12 gap-4\">\n                  <div className=\"col-span-12 md:row-span-6\">\n                    <label className=\"block text-xs text-gray-600 mb-2\">Note Title <span className=\"text-red-500\">*</span></label>\n                    <input\n                      value={editTitle}\n                      onChange={(e) => setEditTitle(e.target.value)}\n                      className=\"w-full border rounded px-3 py-2 text-sm\"\n                      placeholder=\"--\"\n                    />\n                  </div>\n\n                  <div className=\"col-span-12 md:col-span-6 flex items-center gap-6\">\n                    <div className=\"flex items-center gap-2\">\n                      <input id=\"edit-note-public\" type=\"radio\" name=\"editNoteType\" checked={editType === \"PUBLIC\"} onChange={() => setEditType(\"PUBLIC\")} />\n                      <label htmlFor=\"edit-note-public\" className=\"text-sm text-gray-700\">Public</label>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <input id=\"edit-note-private\" type=\"radio\" name=\"editNoteType\" checked={editType === \"PRIVATE\"} onChange={() => setEditType(\"PRIVATE\")} />\n                      <label htmlFor=\"edit-note-private\" className=\"text-sm text-gray-700\">Private</label>\n                    </div>\n                  </div>\n\n                  <div className=\"col-span-12\">\n                    <label className=\"block text-xs text-gray-600 mb-2\">Note Detail</label>\n                    <textarea\n                      value={editDetail}\n                      onChange={(e) => setEditDetail(e.target.value)}\n                      className=\"w-full border rounded px-3 py-3 text-sm min-h-[120px]\"\n                      placeholder=\"--\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-center gap-4 p-6 border-t\">\n              <button\n                className=\"px-6 py-2 text-sm border rounded hover:bg-gray-50\"\n                onClick={() => !updating && closeEditModal()}\n              >\n                Cancel\n              </button>\n\n              <button\n                className=\"px-6 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed\"\n                onClick={handleUpdateNote}\n                disabled={updating}\n              >\n                {updating ? \"Updatingâ€¦\" : \"Update\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","\n\n\n\n\n\n// src/components/ClientPaymentsTable.tsx\n\"use client\";\n\nimport React, { useEffect, useState, useMemo, useRef, use } from \"react\";\nimport Image from \"next/image\";\nimport { MoreHorizontal, X, Trash2 } from \"lucide-react\";\n\ntype PaymentClient = {\n  clientId?: string;\n  name?: string | null;\n  companyName?: string | null;\n  profilePictureUrl?: string | null;\n};\n\ntype RawPaymentApi = {\n  id: number;\n  project?: { projectName?: string; projectCode?: string } | null;\n  client?: {\n    clientId?: string;\n    name?: string | null;\n    companyName?: string | null;\n    profilePictureUrl?: string | null;\n  } | null;\n  currency?: string | null;\n  amount?: number | null;\n  paymentDate?: string | null;\n  receiptFileUrl?: string | null;\n  paymentGateway?: { id?: number; name?: string } | null;\n  status?: string | null;\n  invoice?: { invoiceNumber?: string } | null;\n  orderNumber?: string | null;\n};\n\ntype Payment = {\n  id: number | string;\n  code?: string | null;\n  project?: string | null;\n  invoice?: string | null;\n  client?: PaymentClient | null;\n  orderNumber?: string | null;\n  amount?: number | null;\n  currency?: string | null;\n  paidOn?: string | null;\n  paymentGateway?: string | null;\n  status?: \"Complete\" | \"Pending\" | \"Failed\" | string;\n  receiptFileUrl?: string | null;\n};\n\nconst BASE_URL = `${process.env.NEXT_PUBLIC_MAIN}`;\n\nexport default function ClientPaymentsTable({\n  clientId,\n  onAdd,\n  onSearch,\n  onAction,\n}: {\n  clientId?: string | number | null;\n  onAdd?: () => void;\n  onSearch?: (q: string) => void;\n  onAction?: (p: Payment) => void;\n}) {\n  const [payments, setPayments] = useState<Payment[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [query, setQuery] = useState(\"\");\n\n\n\n  // Action dropdown + View/Edit modal state\n  const [openActionId, setOpenActionId] = useState<number | string | null>(null);\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\n  const [nan,setNan] =useState(false);\n  const [activePayment, setActivePayment] = useState<Payment | null>(null);\n  const [detailsMode, setDetailsMode] = useState<\"view\" | \"edit\">(\"view\");\n\n\n\n  // Add Payment modal state + form fields\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [projectField, setProjectField] = useState<string>(\"pre filled\");\n  const [clientField, setClientField] = useState<string>(() =>\n    clientId ? String(clientId) : \"pre filled\"\n  );\n  const [invoiceField, setInvoiceField] = useState<string>(\"pre filled\");\n  const [amountField, setAmountField] = useState<string>(\"\");\n  const [currencyField, setCurrencyField] = useState<string>(\"USD\");\n  const [transactionIdField, setTransactionIdField] = useState<string>(\"\");\n  const [paymentGatewayField, setPaymentGatewayField] = useState<string>(\n    \"Net Banking\"\n  );\n  const [remarkField, setRemarkField] = useState<string>(\"\");\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const [receiptFile, setReceiptFile] = useState<File | null>(null);\n\n  // Payment Gateway modal / list state (now wired to API)\n  const [showGatewayModal, setShowGatewayModal] = useState(false);\n  const [gateways, setGateways] = useState<{ id: number; name: string }[]>([]);\n  const [gatewayInput, setGatewayInput] = useState<string>(\"\");\n\n  // fetch payments for client (unchanged)\n  useEffect(() => {\n    if (!clientId && clientId !== 0) {\n      setPayments([]);\n      setError(\"No client selected.\");\n      setLoading(false);\n      return;\n    }\n\n    const controller = new AbortController();\n    const idStr = String(clientId);\n    const url = `${BASE_URL}/api/payments/client/${encodeURIComponent(idStr)}`;\n\n    setLoading(true);\n    setError(null);\n\n    const token =\n      typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") : null;\n\n    fetch(url, {\n      method: \"GET\",\n      signal: controller.signal,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n      },\n    })\n      .then(async (res) => {\n        if (!res.ok) {\n          const text = await res.text().catch(() => \"\");\n          throw new Error(`HTTP ${res.status} ${text}`);\n        }\n        return res.json();\n      })\n      .then((data: RawPaymentApi[]) => {\n        if (!Array.isArray(data)) {\n          setPayments([]);\n          return;\n        }\n\n        const mapped: Payment[] = data.map((p) => ({\n          id: p.id,\n          code: p.project?.projectCode ?? undefined,\n          project: p.project?.projectName ?? undefined,\n          invoice: p.invoice?.invoiceNumber ?? undefined,\n          client: {\n            clientId: p.client?.clientId,\n            name: p.client?.name ?? undefined,\n            companyName: p.client?.companyName ?? undefined,\n            profilePictureUrl: p.client?.profilePictureUrl ?? undefined,\n          },\n          orderNumber: (p as any).orderNumber ?? undefined,\n          amount:\n            typeof p.amount === \"number\"\n              ? p.amount\n              : p.amount\n                ? Number(p.amount)\n                : undefined,\n          currency: p.currency ?? undefined,\n          paidOn: p.paymentDate ?? undefined,\n          paymentGateway: p.paymentGateway?.name ?? undefined,\n          status: p.status\n            ? String(p.status).toLowerCase() === \"completed\"\n              ? \"Complete\"\n              : p.status\n            : undefined,\n          receiptFileUrl: p.receiptFileUrl ?? undefined,\n        }));\n\n        setPayments(mapped);\n      })\n      .catch((err) => {\n        if ((err as any).name === \"AbortError\") return;\n        console.error(\"Error fetching payments:\", err);\n        setError(\"Failed to load payments.\");\n        setPayments([]);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n\n    return () => controller.abort();\n  }, [clientId]);\n\n  // local search filtering (UI-level). still calls onSearch if provided\n  const visible = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    if (!q) return payments;\n    return payments.filter((p) => {\n      return (\n        String(p.code ?? \"\").toLowerCase().includes(q) ||\n        String(p.project ?? \"\").toLowerCase().includes(q) ||\n        String(p.invoice ?? \"\").toLowerCase().includes(q) ||\n        String(p.client?.name ?? \"\").toLowerCase().includes(q) ||\n        String(p.client?.companyName ?? \"\").toLowerCase().includes(q) ||\n        String(p.orderNumber ?? \"\").toLowerCase().includes(q)\n      );\n    });\n  }, [payments, query]);\n\n  const formatDate = (d?: string | null) => {\n    if (!d) return \"--\";\n    try {\n      const dt = new Date(d);\n      const dd = String(dt.getDate()).padStart(2, \"0\");\n      const mm = String(dt.getMonth() + 1).padStart(2, \"0\");\n      const yyyy = dt.getFullYear();\n      return `${dd}/${mm}/${yyyy}`;\n    } catch {\n      return d;\n    }\n  };\n\n  const formatAmount = (v?: number | null, currency?: string | null) => {\n    if (v == null) return \"--\";\n    try {\n      return new Intl.NumberFormat(undefined, {\n        style: \"currency\",\n        currency: currency || \"USD\",\n        maximumFractionDigits: 2,\n      }).format(Number(v));\n    } catch {\n      return `${currency ?? \"$\"} ${Number(v).toFixed(2)}`;\n    }\n  };\n\n  // open modal when Add clicked, but still call optional onAdd\n  const handleOpenAdd = () => {\n    if (onAdd) {\n      try {\n        onAdd();\n      } catch { }\n    }\n    // prefill client if we have clientId\n    setClientField(clientId ? String(clientId) : clientField);\n    setShowAddModal(true);\n  };\n\n  const handleFileClick = () => fileInputRef.current?.click();\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) =>\n    setReceiptFile(e.target.files?.[0] ?? null);\n\n  // Save button: keep simple (logs & close). If you want an API POST, tell me.\n  const handleSavePayment = () => {\n    const payload = {\n      project: projectField,\n      client: clientField,\n      invoice: invoiceField,\n      amount: amountField,\n      currency: currencyField,\n      transactionId: transactionIdField,\n      paymentGateway: paymentGatewayField,\n      remark: remarkField,\n      receiptFileName: receiptFile?.name ?? null,\n    };\n\n    //console.log(\"Save payment (client-side):\", payload);\n    // close modal\n    setShowAddModal(false);\n  };\n\n  // ---------- Payment Gateway API integration ----------\n  const fetchGateways = async () => {\n    try {\n      const res = await fetch(`${BASE_URL}/api/payment-gateways`, {\n        headers: {\n          Authorization: `Bearer ${typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") || \"\" : \"\"}`,\n          Accept: \"application/json\",\n        },\n      });\n      if (!res.ok) {\n        console.error(\"Failed to fetch gateways\", res.status);\n        setGateways([]);\n        return;\n      }\n      const data = await res.json();\n      if (Array.isArray(data)) {\n        setGateways(data.map((g: any) => ({ id: g.id, name: g.name })));\n      } else {\n        setGateways([]);\n      }\n    } catch (err) {\n      console.error(\"fetchGateways error\", err);\n      setGateways([]);\n    }\n  };\n\n  // Open gateway modal: load list from server\n  const handleOpenGatewayModal = () => {\n    setGatewayInput(\"\");\n    setShowGatewayModal(true);\n    fetchGateways();\n  };\n\n  // Save (create) gateway via POST and close modal (as requested)\n  const handleSaveGateway = async () => {\n    const name = gatewayInput.trim();\n    if (!name) {\n      alert(\"Enter gateway name\");\n      return;\n    }\n\n    try {\n      const token = typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") || \"\" : \"\";\n      const res = await fetch(`${BASE_URL}/api/payment-gateways`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n        },\n        body: JSON.stringify({ name }),\n      });\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\");\n        console.error(\"POST gateway failed\", res.status, txt);\n        alert(\"Failed to create gateway\");\n        return;\n      }\n      const created = await res.json();\n      // update local list (append)\n      setGateways((s) => [...s, { id: created.id, name: created.name }]);\n      // select created gateway in the payment form\n      setPaymentGatewayField(created.name);\n      // close modal (user requested modal to have Save only)\n      setShowGatewayModal(false);\n    } catch (err) {\n      console.error(\"handleSaveGateway error\", err);\n      alert(\"Failed to create gateway\");\n    }\n  };\n\n  // Delete gateway via API then remove from list\n  const handleDeleteGateway = async (id: number) => {\n    if (!confirm(\"Delete this gateway?\")) return;\n    try {\n      const token = typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") || \"\" : \"\";\n      const res = await fetch(`${BASE_URL}/api/payment-gateways/${encodeURIComponent(String(id))}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) {\n        console.error(\"Failed delete gateway\", res.status);\n        alert(\"Failed to delete gateway\");\n        return;\n      }\n      setGateways((s) => s.filter((g) => g.id !== id));\n      // if deleted gateway was selected in form, reset selection\n      if (gateways.find((g) => g.id === id && g.name === paymentGatewayField)) {\n        const remaining = gateways.filter((g) => g.id !== id);\n        setPaymentGatewayField(remaining[0]?.name ?? \"\");\n      }\n    } catch (err) {\n      console.error(\"handleDeleteGateway error\", err);\n      alert(\"Failed to delete gateway\");\n    }\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"bg-white rounded-lg border p-5\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold\">Payments</h3>\n\n          <div className=\"flex items-center gap-3\">\n            <div>\n              <button\n                onClick={handleOpenAdd}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n              >\n                + Add Payment\n              </button>\n            </div>\n\n            <div>\n              <input\n                type=\"search\"\n                placeholder=\"Search\"\n                value={query}\n                onChange={(e) => {\n                  setQuery(e.target.value);\n                  if (onSearch) onSearch(e.target.value);\n                }}\n                className=\"border rounded px-3 py-2 text-sm w-56\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* loading / error */}\n        {loading ? (\n          <div className=\"py-6 text-center text-gray-600\">Loading payments...</div>\n        ) : error ? (\n          <div className=\"py-6 text-center text-red-600\">{error}</div>\n        ) : (\n          <div className=\"rounded-lg border overflow-hidden\">\n            {/* header */}\n            <div className=\"bg-[#e8f3ff] px-4 py-3 flex text-sm text-gray-700 font-medium\">\n              <div className=\"w-1/12\">Code</div>\n              <div className=\"w-2/12\">Project</div>\n              <div className=\"w-1/12\">Invoice</div>\n              <div className=\"w-2/12\">Client</div>\n              <div className=\"w-1/12\">Order#</div>\n              <div className=\"w-1/12\">Amount</div>\n              <div className=\"w-1/12\">Paid On</div>\n              <div className=\"w-1/12\">Payment Gateway</div>\n              <div className=\"w-1/12\">Status</div>\n              <div className=\"w-10 text-center\">Action</div>\n            </div>\n\n            <div className=\"px-4 py-4\">\n              {visible.length === 0 ? (\n                <div className=\"text-sm text-gray-500\">No payments to display.</div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {visible.map((p) => (\n                    <div\n                      key={p.id}\n                      className=\"flex items-center rounded-md border px-4 py-3 bg-white\"\n                      style={{ boxShadow: \"0 0 0 1px rgba(0,0,0,0.02) inset\" }}\n                    >\n                      <div className=\"w-1/12 text-sm\">{p.code ?? \"--\"}</div>\n\n                      <div className=\"w-2/12 text-sm\">{p.project ?? \"--\"}</div>\n\n                      <div className=\"w-1/12 text-sm\">{p.invoice ?? \"--\"}</div>\n\n                      <div className=\"w-2/12 flex items-center gap-3 text-sm\">\n                        <div className=\"h-7 w-7 rounded-full overflow-hidden bg-gray-100 relative flex-shrink-0\">\n                          {p.client?.profilePictureUrl ? (\n                            <Image\n                              src={p.client.profilePictureUrl}\n                              alt={p.client?.name ?? \"client\"}\n                              fill\n                              sizes=\"28px\"\n                              style={{ objectFit: \"cover\" }}\n                              unoptimized\n                            />\n                          ) : (\n                            <div className=\"flex items-center justify-center h-full text-xs text-gray-500\">\n                              {p.client?.name?.charAt(0) ?? \"U\"}\n                            </div>\n                          )}\n                        </div>\n\n                        <div className=\"flex flex-col\">\n                          <span className=\"text-sm font-medium\">{p.client?.name ?? \"--\"}</span>\n                          <span className=\"text-xs text-gray-500\">{p.client?.companyName ?? \"\"}</span>\n                        </div>\n                      </div>\n\n                      <div className=\"w-1/12 text-sm\">{p.orderNumber ?? \"--\"}</div>\n\n                      <div className=\"w-1/12 text-sm\">{formatAmount(p.amount, p.currency)}</div>\n\n                      <div className=\"w-1/12 text-sm\">{formatDate(p.paidOn)}</div>\n\n                      <div className=\"w-1/12 text-sm\">{p.paymentGateway ?? \"--\"}</div>\n\n                      <div className=\"w-1/12 text-sm\">\n                        {p.status === \"Complete\" ? (\n                          <div className=\"inline-flex items-center gap-2\">\n                            <span className=\"h-2 w-2 rounded-full bg-emerald-600 block\" />\n                            <span>Complete</span>\n                          </div>\n                        ) : p.status === \"Pending\" ? (\n                          <div className=\"inline-flex items-center gap-2\">\n                            <span className=\"h-2 w-2 rounded-full bg-yellow-500 block\" />\n                            <span>Pending</span>\n                          </div>\n                        ) : (\n                          <div className=\"inline-flex items-center gap-2\">\n                            <span className=\"h-2 w-2 rounded-full bg-red-500 block\" />\n                            <span>{p.status ?? \"--\"}</span>\n                          </div>\n                        )}\n                      </div>\n\n                      <div className=\"w-10 text-center relative\">\n                        <button\n                          onClick={() =>\n                            setOpenActionId(openActionId === p.id ? null : p.id)\n                          }\n                          className=\"p-2 rounded hover:bg-gray-100 inline-flex items-center justify-center\"\n                          title=\"Actions\"\n                        >\n                          <MoreHorizontal size={16} />\n                        </button>\n\n                        {openActionId === p.id && (\n                          <div className=\"absolute right-0 top-9 bg-white border rounded-md shadow-lg w-32 z-20\">\n                            <button\n                              onClick={() => {\n                                setActivePayment(p);\n                                setDetailsMode(\"view\");\n                                setShowDetailsModal(true);\n                                setOpenActionId(null);\n                              }}\n                              className=\"w-full px-3 py-2 text-left text-sm hover:bg-gray-100\"\n                            >\n                              View\n                            </button>\n\n                            <button\n                              onClick={() => {\n                                setActivePayment(p);\n                                setDetailsMode(\"edit\"); // future use\n                                setNan(true);\n                                setOpenActionId(null);\n                              }}\n                              className=\"w-full px-3 py-2 text-left text-sm hover:bg-gray-100\"\n                            >\n                              Edit\n                            </button>\n                          </div>\n                        )}\n                      </div>\n\n\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Add Payment Modal (UI exact like screenshot) */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 z-[10000] flex items-start justify-center pt-8 px-4 overflow-y-auto\">\n          <div\n            className=\"fixed inset-0 bg-black/40\"\n            onClick={() => setShowAddModal(false)}\n          />\n          <div className=\"relative w-full max-w-4xl bg-white rounded-xl shadow-2xl overflow-y-auto z-10\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h3 className=\"text-lg font-semibold\">Add Payment Details</h3>\n              <button\n                onClick={() => setShowAddModal(false)}\n                className=\"p-2 rounded hover:bg-gray-100\"\n                aria-label=\"Close\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-6\">\n              <div className=\"rounded-lg border p-4\">\n                <h4 className=\"font-medium mb-3\">Payment Details</h4>\n\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Project *</label>\n                    <input\n                      className=\"w-full border rounded px-3 py-2\"\n                      value={projectField}\n                      onChange={(e) => setProjectField(e.target.value)}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Client *</label>\n                    <input\n                      className=\"w-full border rounded px-3 py-2\"\n                      value={clientField}\n                      onChange={(e) => setClientField(e.target.value)}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Invoice *</label>\n                    <input\n                      className=\"w-full border rounded px-3 py-2\"\n                      value={invoiceField}\n                      onChange={(e) => setInvoiceField(e.target.value)}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Amount *</label>\n                    <input\n                      className=\"w-full border rounded px-3 py-2\"\n                      value={amountField}\n                      onChange={(e) => setAmountField(e.target.value)}\n                      placeholder=\"---\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Currency *</label>\n                    <select\n                      value={currencyField}\n                      onChange={(e) => setCurrencyField(e.target.value)}\n                      className=\"w-full border rounded px-3 py-2\"\n                    >\n                      <option value=\"USD\">USD $</option>\n                      <option value=\"USD\">USD â‚¹</option>\n                      <option value=\"EUR\">EUR â‚¬</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Transaction Id</label>\n                    <input\n                      className=\"w-full border rounded px-3 py-2\"\n                      value={transactionIdField}\n                      onChange={(e) => setTransactionIdField(e.target.value)}\n                    />\n                  </div>\n\n                  <div className=\"col-span-2\">\n                    <label className=\"text-sm text-gray-600\">Payment Gateway</label>\n                    <div className=\"flex gap-2\">\n                      <select\n                        value={paymentGatewayField}\n                        onChange={(e) => setPaymentGatewayField(e.target.value)}\n                        className=\"w-full border rounded px-3 py-2\"\n                      >\n                        {gateways.length > 0 ? (\n                          gateways.map((g) => <option key={g.id} value={g.name}>{g.name}</option>)\n                        ) : (\n                          <>\n                            <option>Net Banking</option>\n                            <option>Credit Card</option>\n                            <option>PayPal</option>\n                          </>\n                        )}\n                      </select>\n                      <button\n                        className=\"px-3 py-2 bg-gray-100 rounded\"\n                        type=\"button\"\n                        onClick={handleOpenGatewayModal}\n                        title=\"Add payment gateway\"\n                      >\n                        Add\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"mt-4\">\n                  <label className=\"text-sm text-gray-600 block mb-2\">Receipt</label>\n                  <div\n                    onClick={handleFileClick}\n                    className=\"border-2 border-dashed rounded-lg h-28 flex items-center justify-center cursor-pointer text-gray-500\"\n                  >\n                    <div className=\"text-center\">\n                      <div className=\"mb-1\">Choose a file</div>\n                      <div className=\"text-xs text-gray-400\">\n                        {receiptFile ? receiptFile.name : \"Drag & drop or click\"}\n                      </div>\n                    </div>\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      className=\"hidden\"\n                      onChange={handleFileChange}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mt-4\">\n                  <label className=\"text-sm text-gray-600 block mb-2\">Remark</label>\n                  <textarea\n                    rows={4}\n                    value={remarkField}\n                    onChange={(e) => setRemarkField(e.target.value)}\n                    className=\"w-full p-3 border rounded\"\n                    placeholder=\"Enter a summary of payment\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex items-center justify-end gap-3\">\n                <button\n                  className=\"px-4 py-2 border rounded\"\n                  onClick={() => setShowAddModal(false)}\n                >\n                  Cancel\n                </button>\n                <button\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded\"\n                  onClick={handleSavePayment}\n                >\n                  Save\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n\n\n\n\n {nan && (\n        <div className=\"fixed inset-0 z-[10000] flex items-start justify-center pt-8 px-4 overflow-y-auto\">\n          <div\n            className=\"fixed inset-0 bg-black/40\"\n            onClick={() => setNan(false)}\n          />\n          <div className=\"relative w-full max-w-4xl bg-white rounded-xl shadow-2xl overflow-y-auto z-10\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h3 className=\"text-lg font-semibold\">Edit Payment Details</h3>\n              <button\n                onClick={() =>  setNan(false)}\n                className=\"p-2 rounded hover:bg-gray-100\"\n                aria-label=\"Close\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-6\">\n              <div className=\"rounded-lg border p-4\">\n                <h4 className=\"font-medium mb-3\">Payment Details</h4>\n\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Project *</label>\n                    <input\n                      className=\"w-full border rounded px-3 py-2\"\n                      value={projectField}\n                      onChange={(e) => setProjectField(e.target.value)}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Client *</label>\n                    <input\n                      className=\"w-full border rounded px-3 py-2\"\n                      value={clientField}\n                      onChange={(e) => setClientField(e.target.value)}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Invoice *</label>\n                    <input\n                      className=\"w-full border rounded px-3 py-2\"\n                      value={invoiceField}\n                      onChange={(e) => setInvoiceField(e.target.value)}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Amount *</label>\n                    <input\n                      className=\"w-full border rounded px-3 py-2\"\n                      value={amountField}\n                      onChange={(e) => setAmountField(e.target.value)}\n                      placeholder=\"---\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Currency *</label>\n                    <select\n                      value={currencyField}\n                      onChange={(e) => setCurrencyField(e.target.value)}\n                      className=\"w-full border rounded px-3 py-2\"\n                    >\n                      <option value=\"USD\">USD $</option>\n                      <option value=\"USD\">USD â‚¹</option>\n                      <option value=\"EUR\">EUR â‚¬</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm text-gray-600\">Transaction Id</label>\n                    <input\n                      className=\"w-full border rounded px-3 py-2\"\n                      value={transactionIdField}\n                      onChange={(e) => setTransactionIdField(e.target.value)}\n                    />\n                  </div>\n\n                  <div className=\"col-span-2\">\n                    <label className=\"text-sm text-gray-600\">Payment Gateway</label>\n                    <div className=\"flex gap-2\">\n                      <select\n                        value={paymentGatewayField}\n                        onChange={(e) => setPaymentGatewayField(e.target.value)}\n                        className=\"w-full border rounded px-3 py-2\"\n                      >\n                        {gateways.length > 0 ? (\n                          gateways.map((g) => <option key={g.id} value={g.name}>{g.name}</option>)\n                        ) : (\n                          <>\n                            <option>Net Banking</option>\n                            <option>Credit Card</option>\n                            <option>PayPal</option>\n                          </>\n                        )}\n                      </select>\n                      <button\n                        className=\"px-3 py-2 bg-gray-100 rounded\"\n                        type=\"button\"\n                        onClick={handleOpenGatewayModal}\n                        title=\"Add payment gateway\"\n                      >\n                        Add\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"mt-4\">\n                  <label className=\"text-sm text-gray-600 block mb-2\">Receipt</label>\n                  <div\n                    onClick={handleFileClick}\n                    className=\"border-2 border-dashed rounded-lg h-28 flex items-center justify-center cursor-pointer text-gray-500\"\n                  >\n                    <div className=\"text-center\">\n                      <div className=\"mb-1\">Choose a file</div>\n                      <div className=\"text-xs text-gray-400\">\n                        {receiptFile ? receiptFile.name : \"Drag & drop or click\"}\n                      </div>\n                    </div>\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      className=\"hidden\"\n                      onChange={handleFileChange}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mt-4\">\n                  <label className=\"text-sm text-gray-600 block mb-2\">Remark</label>\n                  <textarea\n                    rows={4}\n                    value={remarkField}\n                    onChange={(e) => setRemarkField(e.target.value)}\n                    className=\"w-full p-3 border rounded\"\n                    placeholder=\"Enter a summary of payment\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex items-center justify-end gap-3\">\n                <button\n                  className=\"px-4 py-2 border rounded\"\n                  onClick={() => setShowAddModal(false)}\n                >\n                  Cancel\n                </button>\n                <button\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded\"\n                  onClick={handleSavePayment}\n                >\n                  Save\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n\n\n\n\n      {/* Payment Gateway Modal (uses GET/POST/DELETE) */}\n      {showGatewayModal && (\n        <div className=\"fixed inset-0 z-[11000] flex items-start justify-center pt-12 px-4 overflow-y-auto\">\n          <div\n            className=\"fixed inset-0 bg-black/40\"\n            onClick={() => setShowGatewayModal(false)}\n          />\n          <div className=\"relative w-full max-w-3xl bg-white rounded-xl shadow-2xl overflow-y-auto z-20\">\n            <div className=\"flex items-center justify-between p-4 border-b\">\n              <h3 className=\"text-lg font-semibold\">Add Payment Gateway</h3>\n              <button\n                onClick={() => setShowGatewayModal(false)}\n                className=\"p-2 rounded hover:bg-gray-100\"\n                aria-label=\"Close\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              {/* Gateway list table (simple) */}\n              <div className=\"rounded border overflow-hidden\">\n                <div className=\"bg-[#e8f3ff] px-4 py-2 flex text-sm text-gray-700 font-medium\">\n                  <div className=\"w-1/12\">#</div>\n                  <div className=\"w-11/12\">Gateway</div>\n                  <div className=\"w-12 text-center\">Action</div>\n                </div>\n\n                <div className=\"px-4 py-2\">\n                  {gateways.length === 0 ? (\n                    <div className=\"text-sm text-gray-500 p-2\">No gateways</div>\n                  ) : (\n                    gateways.map((g, idx) => (\n                      <div key={g.id} className=\"flex items-center py-2 border-b last:border-b-0\">\n                        <div className=\"w-1/12 text-sm\">{idx + 1}</div>\n                        <div className=\"w-11/12 text-sm\">{g.name}</div>\n                        <div className=\"w-12 text-center\">\n                          <button\n                            onClick={() => handleDeleteGateway(g.id)}\n                            className=\"inline-flex items-center justify-center p-1 rounded hover:bg-red-50 text-red-600\"\n                            title=\"Delete gateway\"\n                          >\n                            <Trash2 size={16} />\n                          </button>\n                        </div>\n                      </div>\n                    ))\n                  )}\n                </div>\n              </div>\n\n              {/* Add field: single input. (No extra 'Add' button here â€” Save will POST) */}\n              <div>\n                <label className=\"text-sm text-gray-600\">Payment Gateway Name *</label>\n                <input\n                  value={gatewayInput}\n                  onChange={(e) => setGatewayInput(e.target.value)}\n                  placeholder=\"--\"\n                  className=\"w-full border rounded px-3 py-2 mt-2\"\n                />\n              </div>\n\n              <div className=\"flex items-center justify-end gap-3 pt-2\">\n                <button\n                  className=\"px-4 py-2 border rounded\"\n                  onClick={() => setShowGatewayModal(false)}\n                >\n                  Cancel\n                </button>\n\n                {/* Save -> POST -> close modal and select new gateway */}\n                <button\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded\"\n                  onClick={handleSaveGateway}\n                >\n                  Save\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n\n\n\n\n      {/* Payment Details Modal (View / Edit) */}\n      {showDetailsModal && activePayment && (\n        <div className=\"fixed inset-0 z-[12000] flex justify-center items-start pt-10\">\n          <div\n            className=\"fixed inset-0 bg-black/40\"\n            onClick={() => setShowDetailsModal(false)}\n          />\n\n          <div className=\"relative bg-white w-full max-w-3xl rounded-xl shadow-xl p-6 z-10\">\n            <div className=\"flex justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold\">Payment Details</h3>\n              <button onClick={() => setShowDetailsModal(false)}>\n                <X />\n              </button>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-y-4 text-sm\">\n              <div>Amount</div>\n              <div>{formatAmount(activePayment.amount, activePayment.currency)}</div>\n\n              <div>Payment On</div>\n              <div>{formatDate(activePayment.paidOn)}</div>\n\n              <div>Invoice</div>\n              <div>{activePayment.invoice ?? \"--\"}</div>\n\n              <div>Project</div>\n              <div>{activePayment.project ?? \"--\"}</div>\n\n              <div>Gateway</div>\n              <div>{activePayment.paymentGateway ?? \"--\"}</div>\n\n              <div>Status</div>\n              <div>{activePayment.status ?? \"--\"}</div>\n\n              <div>Receipt</div>\n              <div>{activePayment.receiptFileUrl ?? \"--\"}</div>\n\n              <div>Remark</div>\n              <div>--</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n\n    </div>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M8 12h8', key: '1wcyev' }],\n  ['path', { d: 'M12 8v8', key: 'napkw2' }],\n];\n\n/**\n * @component @name CirclePlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik0xMiA4djgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CirclePlus = createLucideIcon('circle-plus', __iconNode);\n\nexport default CirclePlus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 2v4', key: '3427ic' }],\n  ['path', { d: 'm16.2 7.8 2.9-2.9', key: 'r700ao' }],\n  ['path', { d: 'M18 12h4', key: 'wj9ykh' }],\n  ['path', { d: 'm16.2 16.2 2.9 2.9', key: '1bxg5t' }],\n  ['path', { d: 'M12 18v4', key: 'jadmvz' }],\n  ['path', { d: 'm4.9 19.1 2.9-2.9', key: 'bwix9q' }],\n  ['path', { d: 'M2 12h4', key: 'j09sii' }],\n  ['path', { d: 'm4.9 4.9 2.9 2.9', key: 'giyufr' }],\n];\n\n/**\n * @component @name Loader\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMnY0IiAvPgogIDxwYXRoIGQ9Im0xNi4yIDcuOCAyLjktMi45IiAvPgogIDxwYXRoIGQ9Ik0xOCAxMmg0IiAvPgogIDxwYXRoIGQ9Im0xNi4yIDE2LjIgMi45IDIuOSIgLz4KICA8cGF0aCBkPSJNMTIgMTh2NCIgLz4KICA8cGF0aCBkPSJtNC45IDE5LjEgMi45LTIuOSIgLz4KICA8cGF0aCBkPSJNMiAxMmg0IiAvPgogIDxwYXRoIGQ9Im00LjkgNC45IDIuOSAyLjkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Loader = createLucideIcon('loader', __iconNode);\n\nexport default Loader;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8', key: '1h4pet' }],\n  ['path', { d: 'M12 18V6', key: 'zqpxq5' }],\n];\n\n/**\n * @component @name CircleDollarSign\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTYgOGgtNmEyIDIgMCAxIDAgMCA0aDRhMiAyIDAgMSAxIDAgNEg4IiAvPgogIDxwYXRoIGQ9Ik0xMiAxOFY2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-dollar-sign\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleDollarSign = createLucideIcon('circle-dollar-sign', __iconNode);\n\nexport default CircleDollarSign;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z', key: 'qazsjp' }],\n  ['path', { d: 'M15 3v4a2 2 0 0 0 2 2h4', key: '40519r' }],\n];\n\n/**\n * @component @name StickyNote\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0yVjhaIiAvPgogIDxwYXRoIGQ9Ik0xNSAzdjRhMiAyIDAgMCAwIDIgMmg0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/sticky-note\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst StickyNote = createLucideIcon('sticky-note', __iconNode);\n\nexport default StickyNote;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 13v8', key: '1l5pq0' }],\n  ['path', { d: 'M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242', key: '1pljnt' }],\n  ['path', { d: 'm8 17 4-4 4 4', key: '1quai1' }],\n];\n\n/**\n * @component @name CloudUpload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTN2OCIgLz4KICA8cGF0aCBkPSJNNCAxNC44OTlBNyA3IDAgMSAxIDE1LjcxIDhoMS43OWE0LjUgNC41IDAgMCAxIDIuNSA4LjI0MiIgLz4KICA8cGF0aCBkPSJtOCAxNyA0LTQgNCA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/cloud-upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CloudUpload = createLucideIcon('cloud-upload', __iconNode);\n\nexport default CloudUpload;\n"],"names":[],"mappings":"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A,AEAA,AHAA,CDAA,AIAA,AHAA,ACAA,ACAA,CAAA,AFAA,ADAA,AEAA,AEAA,KHAU,EAAG,CEAA,ACAA,AJAA,ACAA,ACAA,CCAA,ACAA,AFAA,AFAA,ACAA,CAAA,ACAA,ACAA,ACAA,AJAA,CEAA,ACAA,ACAA,AJAA,ACAA,CDAA,AEAA,ACAA,ACAA,AHAA,CEAA,ADAA,AFAA,AIAA,AHAA,CAAA,ADAA,AIAA,AFAA,ACAA,CCAA,AFAA,ACAA,AHAA,ACAA,CDAA,AGAA,ADAA,AEAA,AHAA,CEAA,AHAA,AIAA,AFAA,ADAA,UAAqB,CGArB,AJAgB,AEAhB,ADAqB,AEArB,CFAqB,ACArB,AFAgB,AIAhB,ADAA,CDAA,AEAA,ADAA,AFAqB,CAAK,UAAU,CCApC,ACAgC,ACAhC,CFAA,AEAA,ADAgC,CCAhC,AFAA,MDCL,CGAA,AFAA,AFAA,ACAA,aAAiB,CGAZ,AHAY,ADAD,AEAC,CAAA,AFAD,ACAC,AGAZ,CAAA,AFAY,ADAA,ADAD,CAAA,WCCzB,CAAC,CEYH,AFZG,CEYH,AFZG,KAAQ,CAAE,AAAF,EAAK,CEYV,AFZU,CEYV,AFZU,mBAAsB,CEYF,AFZE,CAAA,AEYF,CFZE,AEYF,CAAA,AFZE,AAAK,CEYP,AFZO,CEYP,AFZO,CEYP,AFZO,CEYP,AFZO,CEYP,AFZO,CEYP,AFZO,CAAA,GAAU,CEYF,AFXjD,CEWiD,AFXhD,CEWgD,CAAA,CAAA,CAAA,CAAU,CAAA,CFXlD,CAAE,AAAF,EAAK,CDYV,AIAA,AHZU,CAAA,ADYV,AIAA,SHZsB,CCYH,AFAN,ACZS,AGYR,CFAK,AFAN,AIAC,AHZQ,CCYH,AFAN,AIAC,AHZQ,CGYR,AFAK,AFAN,ACZS,AAAK,CDYd,ACZc,AGYb,AFAK,WDXtB,OAAQ,CAAA,AAAE,EAAG,oBAAqB,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,GACjD,OAAQ,CAAA,AAAE,EAAG,CAAA,SAAW,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,EACvC,OAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,cAAoB,C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","ignoreList":[11,12,13,14,15]}