{"version":3,"sources":["turbopack:///[project]/src/app/(dashboard)/deals/get/page.tsx"],"sourcesContent":["\n\n\n\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport useSWR from \"swr\"\nimport Link from \"next/link\"\nimport { Input } from \"@/components/ui/input\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { LayoutGrid, TableIcon, MoreVertical, SlidersHorizontal, Search } from \"lucide-react\"\n\ntype Followup = {\n  id: number\n  nextDate?: string\n  startTime?: string\n  remarks?: string\n  sendReminder?: boolean\n  reminderSent?: boolean\n  createdAt?: string\n}\n\ntype PriorityObject = {\n  id: number\n  status: string\n  color?: string\n  dealId?: number | null\n  isGlobal?: boolean\n}\n\ntype Deal = {\n  id: number | string\n  title?: string\n  value?: number\n  dealStage?: string\n  dealCategory?: string\n  pipeline?: string\n  dealAgent?: string\n  dealAgentMeta?: {\n    employeeId?: string\n    name?: string\n    designation?: string | null\n    department?: string | null\n    profileUrl?: string | null\n  }\n  createdAt?: string\n  leadId?: number\n  leadName?: string\n  leadMobile?: string\n  leadEmail?: string\n  expectedCloseDate?: string\n  followups?: Followup[]\n  tags?: string[]\n  dealWatchers?: string[] // array of employee ids\n  dealWatchersMeta?: { employeeId?: string; name?: string; profileUrl?: string | null }[]\n  assignedEmployeesMeta?: { employeeId?: string; name?: string; profileUrl?: string | null }[]\n  priority?: string | number | PriorityObject | null\n}\n\ntype PriorityItem = {\n  id: number\n  status: string\n  color?: string\n  dealId?: number | null\n  isGlobal?: boolean\n}\n\nconst BASE_URL =  `${process.env.NEXT_PUBLIC_MAIN}`\n\n// Use uploaded images as fallback avatars (local paths provided earlier)\nconst sampleDesktopImage = \"/mnt/data/Screenshot 2025-11-21 122016.png\"\nconst sampleMobileImage = \"/mnt/data/Screenshot 2025-11-21 122307.png\"\n\nexport default function DealsPage() {\n  const [token, setToken] = useState<string | null>(null)\n  const [query, setQuery] = useState(\"\")\n  const [stageFilter, setStageFilter] = useState<string>(\"all\")\n\n  // UI-only state for the top nav (keeps functionality same; not used to filter results unless you wire it)\n  const [pipelineFilter, setPipelineFilter] = useState<string>(\"all\")\n  const [dateRange, setDateRange] = useState<string>(\"\") // placeholder string for \"Start Date to End Date\"\n\n  useEffect(() => {\n    const t = typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") : null\n    setToken(t)\n  }, [])\n\n  const authFetcher = async (url: string) => {\n    if (!token) throw new Error(\"No access token found. Please log in.\")\n    const res = await fetch(url, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n    if (!res.ok) {\n      const txt = await res.text().catch(() => \"\")\n      throw new Error(`Failed to fetch ${url}: ${res.status} ${txt}`)\n    }\n    return res.json()\n  }\n\n  // Fetch deals (kept same endpoint as you used)\n  const { data: deals = [], error: dealsError, isLoading: dealsLoading, mutate: mutateDeals } = useSWR(\n    token ? \"/api/deals/get\" : null,\n    authFetcher\n  )\n\n  // Fetch global priorities list\n  const { data: priorities = [] as PriorityItem[] } = useSWR(\n    token ? `${BASE_URL}/deals/admin/priorities` : null,\n    authFetcher\n  )\n\n  const priorityByStatus = useMemo(() => {\n    const m = new Map<string, PriorityItem>()\n    for (const p of priorities || []) {\n      if (p.status) m.set(String(p.status).toLowerCase(), p)\n    }\n    return m\n  }, [priorities])\n\n  const priorityById = useMemo(() => {\n    const m = new Map<number, PriorityItem>()\n    for (const p of priorities || []) {\n      m.set(p.id, p)\n    }\n    return m\n  }, [priorities])\n\n  const stages = useMemo(() => {\n    const s = new Set<string>()\n    for (const d of deals as Deal[]) {\n      if (d.dealStage) s.add(d.dealStage)\n    }\n    return Array.from(s.values()).sort()\n  }, [deals])\n\n  // derive pipeline values for the top nav dropdown (UI only)\n  const pipelines = useMemo(() => {\n    const s = new Set<string>()\n    for (const d of deals as Deal[]) {\n      if (d.pipeline) s.add(d.pipeline)\n    }\n    return Array.from(s.values()).sort()\n  }, [deals])\n\n  const getNextFollowupDate = (followups?: Followup[]) => {\n    if (!followups || followups.length === 0) return null\n    const valid = followups.filter((f) => f && f.nextDate).slice()\n    if (valid.length === 0) return null\n    valid.sort((a, b) => new Date(a.nextDate as string).getTime() - new Date(b.nextDate as string).getTime())\n    return valid[0].nextDate || null\n  }\n\n  const filteredDeals = useMemo(() => {\n    const q = query.trim().toLowerCase()\n    return (deals as Deal[]).filter((d) => {\n      const matchesStage =\n        stageFilter === \"all\" || (String(d.dealStage || \"\").toLowerCase() === stageFilter.toLowerCase())\n      const hay = [\n        d.title,\n        d.dealAgentMeta?.name,\n        d.dealAgent,\n        d.dealCategory,\n        d.pipeline,\n        String(d.id),\n        d.leadName,\n        d.leadEmail,\n        d.leadMobile,\n      ]\n        .filter(Boolean)\n        .join(\" \")\n        .toLowerCase()\n      const matchesQuery = q.length === 0 || hay.includes(q)\n      return matchesStage && matchesQuery\n    })\n  }, [deals, query, stageFilter])\n\n  if (dealsLoading) {\n    return <div className=\"flex min-h-[60vh] items-center justify-center text-lg font-semibold\">Loading deals...</div>\n  }\n\n  if (dealsError) {\n    return (\n      <div className=\"flex min-h-[60vh] items-center justify-center text-lg font-semibold text-destructive\">\n        {(dealsError as Error).message || \"Failed to load deals. Please try again later.\"}\n      </div>\n    )\n  }\n\n  // Normalize priority input to status string\n  const normalizePriorityString = (p?: unknown) => {\n    if (p === null || p === undefined) return \"low\"\n    if (typeof p === \"string\") return p.toLowerCase()\n    if (typeof p === \"number\") {\n      const byId = priorityById.get(p)\n      if (byId?.status) return String(byId.status).toLowerCase()\n      return \"low\"\n    }\n    try {\n      const o = p as PriorityObject\n      if (o && o.status) return String(o.status).toLowerCase()\n      return String(p).toLowerCase()\n    } catch {\n      return \"low\"\n    }\n  }\n\n  const getPriorityColor = (p?: unknown) => {\n    if (p && typeof p === \"object\" && \"color\" in (p as any) && (p as any).color) {\n      return (p as any).color as string\n    }\n    if (typeof p === \"number\") {\n      const item = priorityById.get(p)\n      if (item?.color) return item.color\n    }\n    const s = normalizePriorityString(p)\n    const item = priorityByStatus.get(s)\n    if (item?.color) return item.color\n    switch (s) {\n      case \"high\":\n        return \"#ef4444\"\n      case \"medium\":\n        return \"#f59e0b\"\n      default:\n        return \"#10b981\"\n    }\n  }\n\n  // POST assign priority: per your latest API: POST ${baseUrl}/deals/{{dealId}}/priority/assign with body { priorityId: <number> }\n  const handlePriorityAssign = async (dealId: number | string, newPriorityIdOrVal: string | number) => {\n    if (!token) return\n    try {\n      // prefer numeric id\n      const asNum = Number(newPriorityIdOrVal)\n      let priorityIdToSend: number | null = !Number.isNaN(asNum) ? asNum : null\n\n      if (priorityIdToSend === null) {\n        // resolve status -> id\n        const found = priorityByStatus.get(String(newPriorityIdOrVal).toLowerCase())\n        if (found) priorityIdToSend = found.id\n      }\n\n      if (priorityIdToSend === null) {\n        console.error(\"Could not resolve priorityId for:\", newPriorityIdOrVal)\n        return\n      }\n\n      const url = `${BASE_URL}/deals/${dealId}/priority/assign`\n      const res = await fetch(url, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ priorityId: priorityIdToSend }),\n      })\n\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\")\n        console.error(\"Failed to assign priority:\", res.status, txt)\n        return\n      }\n\n      await mutateDeals()\n    } catch (err) {\n      console.error(\"Error assigning priority:\", err)\n    }\n  }\n\n  // PUT stage: per your API: PUT ${baseUrl}/deals/:dealId/stage?stage=Win\n  const handleStageChange = async (dealId: number | string, newStage: string) => {\n    if (!token) return\n    try {\n      const url = `${BASE_URL}/deals/${dealId}/stage?stage=${encodeURIComponent(newStage)}`\n      const res = await fetch(url, {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\")\n        console.error(\"Failed to update stage:\", res.status, txt)\n        return\n      }\n      await mutateDeals()\n    } catch (err) {\n      console.error(\"Error updating stage:\", err)\n    }\n  }\n\n  return (\n     <main className=\"container mx-auto max-w-6xl px-4 py-8\">\n    <div className=\"p-0 \">\n      {/* Top mini nav (matches provided image) */}\n      <div className=\"mb-4 rounded-md border bg-white py-2 px-4 flex items-center justify-between gap-4\">\n        <div className=\"flex items-center gap-3 text-sm\">\n          <div className=\"text-xs text-muted-foreground\">Duration</div>\n          {/* simple text input representing start to end (UI only) */}\n          <Input\n            value={dateRange}\n            onChange={(e) => setDateRange(e.target.value)}\n            placeholder=\"Start Date to End Date\"\n            className=\"w-[300px] text-sm\"\n          />\n          <div className=\"text-xs text-muted-foreground\">Pipeline</div>\n          <Select value={pipelineFilter} onValueChange={setPipelineFilter}>\n            <SelectTrigger className=\"w-36 text-sm py-1\">\n              <SelectValue placeholder=\"All pipelines\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All</SelectItem>\n              {pipelines.length ? (\n                pipelines.map((p) => (\n                  <SelectItem key={p} value={p}>\n                    {p}\n                  </SelectItem>\n                ))\n              ) : (\n                <>\n                  <SelectItem value=\"Sales\">Sales</SelectItem>\n                  <SelectItem value=\"Marketing\">Marketing</SelectItem>\n                  <SelectItem value=\"Partnerships\">Partnerships</SelectItem>\n                </>\n              )}\n            </SelectContent>\n          </Select>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"ghost\" size=\"sm\" className=\"px-2\">\n            <div className=\"flex items-center gap-2\">\n              <SlidersHorizontal className=\"h-4 w-4\" />\n              <span className=\"text-sm\">Filters</span>\n            </div>\n          </Button>\n        </div>\n      </div>\n\n      {/* Header row: Add Deal left, search + view toggles right (matches image layout) */}\n      <div className=\"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Button asChild>\n            <Link href=\"/deals/create\">+ Add Deal</Link>\n          </Button>\n        </div>\n\n        <div className=\"flex w-full items-center gap-3 md:max-w-2xl md:justify-end\">\n          {/* smaller search on right similar to image */}\n          <div className=\"flex items-center gap-2 w-full md:w-auto\">\n            <div className=\"relative\">\n              <Input\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n                placeholder=\"Search deals\"\n                aria-label=\"Search deals\"\n                className=\"pr-10\"\n              />\n              <div className=\"absolute right-2 top-1/2 -translate-y-1/2\">\n                <Search className=\"h-4 w-4 text-muted-foreground\" />\n              </div>\n            </div>\n\n            {/* view toggles */}\n            <Tabs className=\"w-auto\" defaultValue=\"table\">\n              <TabsList>\n                <TabsTrigger value=\"table\" asChild>\n                  <Link href=\"/deals/get\" className=\"flex items-center gap-2 px-2\">\n                    <TableIcon className=\"h-4 w-4\" />\n                  </Link>\n                </TabsTrigger>\n                <TabsTrigger value=\"kanban\" asChild>\n                  <Link href=\"/deals/stages\" className=\"flex items-center gap-2 px-2\">\n                    <LayoutGrid className=\"h-4 w-4\" />\n                  </Link>\n                </TabsTrigger>\n              </TabsList>\n            </Tabs>\n          </div>\n        </div>\n      </div>\n\n      {/* main table */}\n      <div className=\"overflow-x-auto rounded-xl border\">\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead className=\"min-w-[200px]\">Deal Name</TableHead>\n              <TableHead>Lead Name</TableHead>\n              <TableHead>Contact Details</TableHead>\n              <TableHead>Value</TableHead>\n              <TableHead>Close Date</TableHead>\n              <TableHead>Next Follow Up</TableHead>\n              <TableHead>Deal Agent</TableHead>\n              <TableHead>Deal Watcher</TableHead>\n              <TableHead>Stage</TableHead>\n              <TableHead>Priority Status</TableHead>\n              <TableHead>Tags</TableHead>\n              <TableHead className=\"text-right\">Action</TableHead>\n            </TableRow>\n          </TableHeader>\n\n          <TableBody>\n            {filteredDeals.map((deal: Deal) => {\n              const nextFollowUp = getNextFollowupDate(deal.followups)\n              const nextFollowUpDisplay = nextFollowUp ? new Date(nextFollowUp).toLocaleDateString() : \"—\"\n\n              const watchersNames =\n                deal.dealWatchersMeta && deal.dealWatchersMeta.length > 0\n                  ? deal.dealWatchersMeta.map((w) => w.name).filter(Boolean).join(\", \")\n                  : (deal.dealWatchers || []).join(\", \") || \"—\"\n\n              let prioritySelectValue: string\n              if (deal.priority === null || typeof deal.priority === \"undefined\") {\n                const fallback = priorities?.find((p) => String(p.status).toLowerCase() === \"low\") || priorities?.[0]\n                prioritySelectValue = fallback ? String(fallback.id) : \"Low\"\n              } else if (typeof deal.priority === \"object\" && \"id\" in (deal.priority as any)) {\n                prioritySelectValue = String((deal.priority as PriorityObject).id)\n              } else if (typeof deal.priority === \"number\") {\n                prioritySelectValue = String(deal.priority)\n              } else {\n                const found = priorityByStatus.get(String(deal.priority).toLowerCase())\n                prioritySelectValue = found ? String(found.id) : String(deal.priority)\n              }\n\n              const priorityColor = getPriorityColor(deal.priority)\n\n              return (\n                <TableRow key={String(deal.id)} className=\"align-top\">\n                  <TableCell>\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-10 h-10 rounded-full overflow-hidden bg-slate-100 flex-shrink-0\">\n                        <img\n                          src={(deal.dealAgentMeta?.profileUrl as string) || sampleDesktopImage}\n                          alt={deal.dealAgentMeta?.name || deal.dealAgent || \"agent\"}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <Link href={`/deals/get/${deal.id}`} className=\"line-clamp-1 font-medium hover:underline\">\n                          {deal.title || \"—\"}\n                        </Link>\n                        <div className=\"text-xs text-muted-foreground\">ID: {deal.id}</div>\n                      </div>\n                    </div>\n                  </TableCell>\n\n                  <TableCell>{deal.leadName || \"—\"}</TableCell>\n\n                  <TableCell className=\"text-sm text-muted-foreground\">\n                    <div>{deal.leadEmail || \"—\"}</div>\n                    <div>{deal.leadMobile || \"—\"}</div>\n                  </TableCell>\n\n                  <TableCell className=\"whitespace-nowrap\">\n                    {typeof deal.value === \"number\" ? `$${deal.value.toLocaleString()}` : \"—\"}\n                  </TableCell>\n\n                  <TableCell>\n                    {deal.expectedCloseDate ? new Date(deal.expectedCloseDate).toLocaleDateString() : \"—\"}\n                  </TableCell>\n\n                  <TableCell>{nextFollowUpDisplay}</TableCell>\n\n                  <TableCell>\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-8 h-8 rounded-full overflow-hidden bg-slate-100 flex-shrink-0\">\n                        <img\n                          src={(deal.dealAgentMeta?.profileUrl as string) || sampleMobileImage}\n                          alt={deal.dealAgentMeta?.name || deal.dealAgent || \"agent\"}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <div className=\"text-sm\">{deal.dealAgentMeta?.name || deal.dealAgent || \"—\"}</div>\n                        <div className=\"text-xs text-muted-foreground\">Team Lead</div>\n                      </div>\n                    </div>\n                  </TableCell>\n\n                  <TableCell className=\"text-sm\">{watchersNames}</TableCell>\n\n                  {/* Stage select - now persists via PUT */}\n                  <TableCell>\n                    <Select\n                      value={deal.dealStage || \"Qualified\"}\n                      onValueChange={(val) => {\n                        handleStageChange(deal.id, val)\n                      }}\n                    >\n                      <SelectTrigger className=\"w-36\" aria-label=\"Deal stage\">\n                        <SelectValue placeholder={deal.dealStage || \"Stage\"} />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {stages.length ? (\n                          stages.map((s) => (\n                            <SelectItem key={s} value={s}>\n                              {s}\n                            </SelectItem>\n                          ))\n                        ) : (\n                          <>\n                            <SelectItem value=\"Qualified\">Qualified</SelectItem>\n                            <SelectItem value=\"Win\">Win</SelectItem>\n                            <SelectItem value=\"Lost\">Lost</SelectItem>\n                          </>\n                        )}\n                      </SelectContent>\n                    </Select>\n                  </TableCell>\n\n                  {/* Priority select - now uses POST /priority/assign with body { priorityId } */}\n                  <TableCell>\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"inline-block w-3 h-3 rounded-full\" style={{ backgroundColor: priorityColor }} />\n                      <div className=\"flex-1\">\n                        <Select\n                          value={prioritySelectValue}\n                          onValueChange={(val) => {\n                            const asNum = Number(val)\n                            const toSend = !Number.isNaN(asNum) ? asNum : (() => {\n                              const resolved = priorityByStatus.get(String(val).toLowerCase())\n                              return resolved ? resolved.id : null\n                            })()\n                            if (toSend !== null) handlePriorityAssign(deal.id, toSend)\n                          }}\n                        >\n                          <SelectTrigger className=\"w-32 text-sm py-1\" aria-label=\"Priority status\">\n                            <SelectValue placeholder=\"Priority\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {(priorities && priorities.length > 0\n                              ? priorities\n                              : [\n                                  { id: 3, status: \"Low\", color: \"#10b981\" },\n                                  { id: 4, status: \"Medium\", color: \"#f59e0b\" },\n                                  { id: 1, status: \"High\", color: \"#ef4444\" },\n                                ]\n                            ).map((p: PriorityItem) => (\n                              <SelectItem key={p.id} value={String(p.id)}>\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"inline-block w-2 h-2 rounded-full\" style={{ backgroundColor: p.color }} />\n                                  <span>{p.status}</span>\n                                </div>\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </div>\n                    </div>\n                  </TableCell>\n\n                  <TableCell className=\"text-sm text-muted-foreground\">\n                    {(deal.tags && deal.tags.length > 0 && deal.tags.join(\", \")) || \"—\"}\n                  </TableCell>\n\n                  <TableCell className=\"text-right\">\n                    <div className=\"flex justify-end\">\n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"ghost\" size=\"sm\" className=\"p-2\">\n                            <MoreVertical className=\"h-4 w-4\" />\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent align=\"end\">\n                          <DropdownMenuItem asChild>\n                            <Link href={`/deals/get/${deal.id}`}>View</Link>\n                          </DropdownMenuItem>\n                          <DropdownMenuItem asChild>\n                            <Link href={`/deals/create/${deal.id}`}>Edit</Link>\n                          </DropdownMenuItem>\n                          <DropdownMenuItem\n                            onClick={() => {\n                              //console.log(\"Delete clicked for\", deal.id)\n                            }}\n                          >\n                            Delete\n                          </DropdownMenuItem>\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              )\n            })}\n\n            {filteredDeals.length === 0 && (\n              <TableRow>\n                <TableCell colSpan={12} className=\"py-10 text-center text-sm text-muted-foreground\">\n                  No deals found. Adjust your filters or search terms.\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n\n      <div className=\"mt-4\">\n        <Link href=\"/\" className=\"underline\">\n          Back to Home\n        </Link>\n      </div>\n    </div>\n    </main>\n  )\n}\n"],"names":[],"mappings":"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"}