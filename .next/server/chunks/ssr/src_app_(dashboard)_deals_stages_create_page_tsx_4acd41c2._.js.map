{"version":3,"sources":["turbopack:///[project]/src/app/(dashboard)/deals/stages/create/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function AddLostStagePage() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    setSuccess(null);\n\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) {\n        setError(\"No access token found. Please log in.\");\n        return;\n      }\n\n      // Send only one field in RAW JSON body\n      const res = await fetch(\"/api/deals/stages\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({}),\n      });\n\n      if (!res.ok) throw new Error(\"Failed to create stage\");\n\n      setSuccess(\"Stage 'Lost' added successfully!\");\n      setTimeout(() => router.push(\"/deals/stages\"), 1500);\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to create stage. Please try again later.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-6 max-w-md mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-6\">Add Lost Stage</h1>\n\n      <form\n        onSubmit={handleSubmit}\n        className=\"bg-white p-6 border rounded-2xl shadow-sm\"\n      >\n        {error && (\n          <div className=\"mb-4 text-red-600 text-sm font-semibold\">{error}</div>\n        )}\n        {success && (\n          <div className=\"mb-4 text-green-600 text-sm font-semibold\">\n            {success}\n          </div>\n        )}\n\n        <div className=\"mb-6\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Stage Name\n          </label>\n          <input\n            type=\"text\"\n            value=\"Lost\"\n            disabled\n            className=\"w-full p-2 border rounded-lg bg-gray-100 cursor-not-allowed\"\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className={`w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition ${\n            loading ? \"opacity-50 cursor-not-allowed\" : \"\"\n          }`}\n        >\n          {loading ? \"Adding...\" : \"Add Stage\"}\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"iFAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAEhD,EAAe,MAAO,IAC1B,EAAE,cAAc,GAChB,GAAW,GACX,EAAS,MACT,EAAW,MAEX,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,eACnC,GAAI,CAAC,EAAO,YACV,EAAS,yCAcX,GAAI,CAAC,CATO,MAAM,MAAM,oBAAqB,CAC3C,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,EACA,KAAM,KAAK,SAAS,CAAC,CAAC,EACxB,EAAA,EAES,EAAE,CAAE,MAAM,AAAI,MAAM,0BAE7B,EAAW,oCACX,WAAW,IAAM,EAAO,IAAI,CAAC,iBAAkB,KACjD,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,GACd,EAAS,kDACX,QAAU,CACR,GAAW,EACb,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,mBAExC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CACC,SAAU,EACV,UAAU,sDAET,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mDAA2C,IAE3D,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qDACZ,IAIL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,eAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAM,OACN,QAAQ,CAAA,CAAA,EACR,UAAU,mEAId,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,SAAU,EACV,UAAW,CAAC,gFAAgF,EAC1F,EAAU,gCAAkC,GAAA,CAC5C,UAED,EAAU,YAAc,mBAKnC"}