{"version":3,"sources":["turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/InvoiceFilters.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/InvoiceTable.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/InvoiceCreateModal.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/Modal.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/Card.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/InvoiceViewModal.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/InvoiceEditModal.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/InvoiceUploadModal.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/InvoicePaymentModal.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/InvoiceReceiptModal.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/InvoiceViewReceiptModal.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/AddPaymentModal.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/ViewPaymentDrawer.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/EditPaymentDrawer.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/ViewPaymentsModal.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/CreateCreditNoteDrawer.tsx","turbopack:///[project]/src/app/(dashboard)/finance/invoices/components/ViewCreditNotesDrawer.tsx"],"sourcesContent":["\"use client\";\n\nimport { Search, SlidersHorizontal } from \"lucide-react\";\nimport { Select, SelectTrigger, SelectItem, SelectContent, SelectValue } from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\n\nexport default function InvoiceFilters({ filters, setFilters, invoices }) {\n\n    const projectList = [\"All\", ...new Set(invoices.map(i => i.project?.projectName).filter(Boolean))];\n    const clientList = [\"All\", ...new Set(invoices.map(i => i.client?.name).filter(Boolean))];\n    const statusList = [\"All\", ...new Set(invoices.map(i => i.status).filter(Boolean))];\n\n    return (\n        \n        <div className=\"border rounded-md bg-white px-3 py-3 mb-4 flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n\n                {/* Date Range */}\n                <div className=\"flex gap-2 items-center border rounded px-2 py-2 bg-white\">\n                    <span className=\"text-sm text-gray-600\">Duration</span>\n\n                    <input\n                        type=\"date\"\n                        className=\"text-xs border rounded px-2 py-1\"\n                        value={filters.startDate}\n                        onChange={(e) => setFilters(p => ({ ...p, startDate: e.target.value }))}\n                    />\n\n                    <span className=\"text-sm text-gray-400\">to</span>\n\n                    <input\n                        type=\"date\"\n                        className=\"text-xs border rounded px-2 py-1\"\n                        value={filters.endDate}\n                        onChange={(e) => setFilters(p => ({ ...p, endDate: e.target.value }))}\n                    />\n                </div>\n\n                {/* Client */}\n                <Select value={filters.client} onValueChange={(v) => setFilters(f => ({ ...f, client: v }))}>\n                    <SelectTrigger className=\"w-[160px]\">\n                        <SelectValue placeholder=\"Client\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                        {clientList.map(c => <SelectItem key={c} value={c}>{c}</SelectItem>)}\n                    </SelectContent>\n                </Select>\n\n                {/* Project */}\n                <Select value={filters.project} onValueChange={(v) => setFilters(f => ({ ...f, project: v }))}>\n                    <SelectTrigger className=\"w-[160px]\">\n                        <SelectValue placeholder=\"Project\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                        {projectList.map(c => <SelectItem key={c} value={c}>{c}</SelectItem>)}\n                    </SelectContent>\n                </Select>\n\n                {/* Status */}\n                <Select value={filters.status} onValueChange={(v) => setFilters(f => ({ ...f, status: v }))}>\n                    <SelectTrigger className=\"w-[160px]\">\n                        <SelectValue placeholder=\"Status\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                        {statusList.map(c => <SelectItem key={c} value={c}>{c}</SelectItem>)}\n                    </SelectContent>\n                </Select>\n\n                {/* Search */}\n                <div className=\"relative\">\n                    <Search className=\"w-4 h-4 absolute left-2 top-2 text-gray-400\" />\n                    <Input\n                        placeholder=\"Search invoice / project / client\"\n                        className=\"pl-8 w-[250px]\"\n                        value={filters.search}\n                        onChange={(e) => setFilters(f => ({ ...f, search: e.target.value }))}\n                    />\n                </div>\n            </div>\n\n            <Button variant=\"outline\" className=\"flex items-center gap-2\">\n                <SlidersHorizontal className=\"h-4 w-4\" /> Filters\n            </Button>\n        </div>\n    );\n}\n","\"use client\";\n\nimport Image from \"next/image\";\nimport { Button } from \"@/components/ui/button\";\nimport { Table, TableHeader, TableRow, TableHead, TableBody, TableCell } from \"@/components/ui/table\";\nimport { MoreHorizontal, Eye, Edit2, Upload, Trash, CheckCircle, DollarSign, FileText, Bell, Copy } from \"lucide-react\";\nimport { DropdownMenu, DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem, DropdownMenuSeparator } from \"@/components/ui/dropdown-menu\";\nimport { Badge } from \"@/components/ui/badge\";\n\n\n\n\n\nconst BASE_URL = process.env.NEXT_PUBLIC_MAIN ;\nexport default function InvoiceTable({\n    invoices,\n    loading,\n    filters,\n    setActiveInvoice,\n    setModal\n}) {\n\n    const safeDate = (d) => {\n        if (!d) return \"--\";\n        return new Date(d).toLocaleDateString(\"en-GB\");\n    };\n\n\n\n    const statusBadge = (s) => {\n        s = s?.toLowerCase();\n        if (s === \"paid\") return <Badge className=\"bg-green-100 text-green-700\">Paid</Badge>;\n        if (s === \"unpaid\") return <Badge className=\"bg-red-100 text-red-700\">Unpaid</Badge>;\n        if (s?.includes(\"credit\")) return <Badge className=\"bg-yellow-100 text-yellow-700\">Credit</Badge>;\n        return <Badge>{s}</Badge>;\n    };\n\n    // Filtering logic\n    const filtered = invoices.filter(inv => {\n        if (filters.search) {\n            const s = filters.search.toLowerCase();\n            const match = inv.invoiceNumber?.toLowerCase().includes(s)\n                || inv.project?.projectName?.toLowerCase().includes(s)\n                || inv.client?.name?.toLowerCase().includes(s);\n            if (!match) return false;\n        }\n\n        if (filters.project !== \"All\" && inv.project?.projectName !== filters.project) return false;\n        if (filters.client !== \"All\" && inv.client?.name !== filters.client) return false;\n        if (filters.status !== \"All\" && inv.status !== filters.status) return false;\n\n        if (filters.startDate && filters.endDate) {\n            const d = new Date(inv.invoiceDate);\n            const start = new Date(filters.startDate);\n            const end = new Date(filters.endDate);\n            end.setHours(23, 59, 59);\n            if (d < start || d > end) return false;\n        }\n\n        return true;\n    });\n\n\n    const handleMarkAsPaid = async (invoice) => {\n        if (!invoice?.id) return;\n\n        const ok = confirm(`Mark invoice ${invoice.invoiceNumber} as PAID?`);\n        if (!ok) return;\n\n        try {\n            const res = await fetch(\n                `${BASE_URL}/api/invoices/${invoice.invoiceNumber}/mark-paid`,\n                {\n                    method: \"PATCH\",\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                        \"Content-Type\": \"application/json\",\n                    },\n                }\n            );\n\n            if (!res.ok) {\n                const txt = await res.text();\n                throw new Error(txt || \"Failed to mark invoice as paid\");\n            }\n\n            alert(\"Invoice marked as PAID successfully ‚úÖ\");\n\n            // üîÅ refresh invoice list\n            window.location.reload();   // agar parent se aata hai\n        } catch (err) {\n            console.error(err);\n            alert(\"Failed to mark invoice as paid\");\n        }\n    };\n\n\n\n\n\n    const handleSendPaymentReminder = async (invoice) => {\n        if (!invoice?.invoiceNumber) return;\n\n        const ok = confirm(\n            `Send payment reminder for invoice ${invoice.invoiceNumber}?`\n        );\n        if (!ok) return;\n\n        try {\n            const res = await fetch(\n                `${BASE_URL}/api/invoices/${invoice.invoiceNumber}/actions/send-reminder-email`,\n                {\n                    method: \"POST\",\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                    },\n                }\n            );\n\n            if (!res.ok) {\n                const txt = await res.text();\n                throw new Error(txt || \"Failed to send reminder\");\n            }\n\n            alert(\"Payment reminder sent successfully üìß\");\n        } catch (err) {\n            console.error(err);\n            alert(\"Failed to send payment reminder\");\n        }\n    };\n\n\n    const handleDeleteInvoice = async (invoice) => {\n        // if (!invoice?.invoiceNumber) return;\n\n\n        //console.log(\"devesh delete \", invoice.invoiceNumber)\n        // const ok = confirm(\n        //     `Are you sure you want to delete invoice ${invoice.invoiceNumber}?`\n        // );\n        // if (!ok) return;\n\n        try {\n            const res = await fetch(\n                `${BASE_URL}/api/invoices/${invoice.invoiceNumber}`,\n                {\n                    method: \"DELETE\",\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                    },\n                }\n            );\n\n            if (!res.ok) {\n                const txt = await res.text();\n                throw new Error(txt || \"Failed to delete invoice\");\n            }\n\n            alert(\"Invoice deleted successfully üóëÔ∏è\");\n\n            // üîÅ Refresh list\n            window.location.reload(); // or call fetchInvoices()\n        } catch (err) {\n            console.error(\"Delete invoice error:\", err);\n            alert(\"Failed to delete invoice\");\n        }\n    };\n\n\n    if (loading) return <p className=\"text-center py-10\">Loading‚Ä¶</p>;\n\n    return (\n        <div className=\"border rounded-lg bg-white shadow-sm\">\n            <Table>\n                <TableHeader>\n                    <TableRow>\n                        <TableHead>Invoice</TableHead>\n                        <TableHead>Project</TableHead>\n                        <TableHead>Client</TableHead>\n                        <TableHead>Total</TableHead>\n                        <TableHead>Date</TableHead>\n                        <TableHead>Status</TableHead>\n                        <TableHead className=\"text-right\">Action</TableHead>\n                    </TableRow>\n                </TableHeader>\n\n                <TableBody>\n                    {filtered.length === 0 ? (\n                        <TableRow>\n                            <TableCell colSpan={8} className=\"text-center py-10 text-gray-500\">\n                                No invoices found\n                            </TableCell>\n                        </TableRow>\n                    ) : (\n                        filtered.map(inv => (\n                            <TableRow key={inv.id} className=\"hover:bg-gray-50\">\n                                <TableCell>{inv.invoiceNumber}</TableCell>\n                                <TableCell>{inv.project?.projectName}</TableCell>\n\n                                <TableCell>\n                                    <div className=\"flex items-center gap-2\">\n                                        {inv.client?.company?.companyLogoUrl ? (\n                                            <Image src={inv.client.company.companyLogoUrl} alt=\"logo\" width={28} height={28} className=\"rounded-full\" />\n                                        ) : (\n                                            <div className=\"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center\">\n                                                {inv.client?.name?.charAt(0)}\n                                            </div>\n                                        )}\n                                        <span>{inv.client?.name}</span>\n                                    </div>\n                                </TableCell>\n\n                                <TableCell>{inv.currency} {Number(inv.total).toFixed(2)}</TableCell>\n                                <TableCell>{safeDate(inv.invoiceDate)}</TableCell>\n                                <TableCell>{statusBadge(inv.status)}</TableCell>\n\n                                <TableCell className=\"text-right\">\n                                    <DropdownMenu>\n                                        <DropdownMenuTrigger asChild>\n                                            <Button variant=\"ghost\" size=\"icon\">\n                                                <MoreHorizontal className=\"h-4 w-4\" />\n                                            </Button>\n                                        </DropdownMenuTrigger>\n\n                                        <DropdownMenuContent align=\"end\" className=\"w-52\">\n\n                                            {/* --- COMMON ALWAYS --- */}\n                                            <DropdownMenuItem onClick={() => { setActiveInvoice(inv); setModal(m => ({ ...m, view: true })); }}>\n                                                <Eye className=\"h-4 w-4 mr-2\" /> View\n                                            </DropdownMenuItem>\n\n                                            {/* ============================UNPAID INVOICE ACTIONS============================ */}\n                                            {inv.status === \"UNPAID\" && (\n                                                <>\n                                                    <DropdownMenuItem onClick={() => { setActiveInvoice(inv); setModal(m => ({ ...m, edit: true })); }}>\n                                                        <Edit2 className=\"h-4 w-4 mr-2\" /> Edit\n                                                    </DropdownMenuItem>\n\n                                                    <DropdownMenuItem onClick={() => { if (confirm(\"Mark invoice as paid?\")) handleMarkAsPaid(inv); }}>\n                                                        <CheckCircle className=\"h-4 w-4 mr-2\" /> Mark as Paid\n                                                    </DropdownMenuItem>\n\n                                                    <DropdownMenuItem onClick={() => { setActiveInvoice(inv); setModal(m => ({ ...m, payment: true })); }}>\n                                                        <DollarSign className=\"h-4 w-4 mr-2\" /> Add Payment\n                                                    </DropdownMenuItem>\n\n                                                    <DropdownMenuItem\n                                                        onClick={() => {\n                                                            setActiveInvoice(inv);\n                                                            setModal(m => ({ ...m, viewPayment: true }));\n                                                        }}\n                                                    >\n                                                        <FileText className=\"h-4 w-4 mr-2\" /> View Payments\n                                                    </DropdownMenuItem>\n\n                                                    <DropdownMenuItem onClick={() => { setActiveInvoice(inv); setModal(m => ({ ...m, upload: true })); }}>\n                                                        <Upload className=\"h-4 w-4 mr-2\" /> Upload File\n                                                    </DropdownMenuItem>\n\n                                                    <DropdownMenuItem onClick={() => { handleSendPaymentReminder(inv); }}>\n                                                        <Bell className=\"h-4 w-4 mr-2\" /> Send Reminder\n                                                    </DropdownMenuItem>\n                                                </>\n                                            )}\n\n                                            {/* ============================PAID INVOICE ACTIONS============================ */}\n                                            {inv.status === \"PAID\" && (\n                                                <>\n                                                    {/* <DropdownMenuItem onClick={() => { setActiveInvoice(inv); setModal(m => ({ ...m, receipt: true })); }}>\n                                                        <FileText className=\"h-4 w-4 mr-2\" /> Add Receipt\n                                                    </DropdownMenuItem>\n\n                                                    <DropdownMenuItem onClick={() => { setActiveInvoice(inv); setModal(m => ({ ...m, receipt: true })); }}>\n                                                        <FileText className=\"h-4 w-4 mr-2\" /> View Receipt\n                                                    </DropdownMenuItem> */}\n\n\n                                                    {/* ADD RECEIPT */}\n                                                    <DropdownMenuItem\n                                                        onClick={() => {\n                                                            setActiveInvoice(inv);\n                                                            setModal(m => ({ ...m, receipt: true }));\n                                                        }}\n                                                    >\n                                                        <FileText className=\"h-4 w-4 mr-2\" /> Add Receipt\n                                                    </DropdownMenuItem>\n\n                                                    {/* VIEW RECEIPT */}\n                                                    <DropdownMenuItem\n                                                        onClick={() => {\n                                                            setActiveInvoice(inv);\n                                                            setModal(m => ({ ...m, viewReceipt: true }));\n                                                        }}\n                                                    >\n                                                        <Eye className=\"h-4 w-4 mr-2\" /> View Receipt\n                                                    </DropdownMenuItem>\n\n                                                    <DropdownMenuItem onClick={() => { setActiveInvoice(inv); setModal(m => ({ ...m, upload: true })); }}>\n                                                        <Upload className=\"h-4 w-4 mr-2\" /> Upload File\n                                                    </DropdownMenuItem>\n\n                                                    <DropdownMenuItem\n                                                        onClick={() => {\n                                                            setActiveInvoice(inv);\n                                                            setModal(m => ({ ...m, viewPayment: true }));\n                                                        }}\n                                                    >\n                                                        <FileText className=\"h-4 w-4 mr-2\" /> View Payments\n                                                    </DropdownMenuItem>\n\n                                                    <>\n                                                        <DropdownMenuItem\n                                                            onClick={() => {\n                                                                setActiveInvoice(inv);\n                                                                setModal(m => ({ ...m, createCredit: true }));\n                                                            }}\n                                                        >\n                                                            <FileText className=\"h-4 w-4 mr-2\" />\n                                                            Create Credit Note\n                                                        </DropdownMenuItem>\n\n                                                        <DropdownMenuItem\n                                                            onClick={() => {\n                                                                setActiveInvoice(inv);\n                                                                setModal(m => ({ ...m, viewCredit: true }));\n                                                            }}\n                                                        >\n                                                            <Eye className=\"h-4 w-4 mr-2\" />\n                                                            View Credit Notes\n                                                        </DropdownMenuItem>\n                                                    </>\n                                                </>\n                                            )}\n\n                                            {/* ============================CREDIT NOTE INVOICE ACTIONS============================ */}\n                                            {inv.status === \"CREDIT_NOTES\" && (\n                                                <>\n                                                    {/* <DropdownMenuItem onClick={() => { setActiveInvoice(inv); setModal(m => ({ ...m, payment: true })); }}>\n                                                        <DollarSign className=\"h-4 w-4 mr-2\" /> Add Payment\n                                                    </DropdownMenuItem> */}\n\n                                                    <DropdownMenuItem\n                                                        onClick={() => {\n                                                            setActiveInvoice(inv);\n                                                            setModal(m => ({ ...m, payment: true }));\n                                                        }}\n                                                    >\n                                                        <DollarSign className=\"h-4 w-4 mr-2\" /> Add Payment\n                                                    </DropdownMenuItem>\n\n                                                    {/* <DropdownMenuItem onClick={() => { setActiveInvoice(inv); setModal(m => ({ ...m, payment: true })); }}>\n                                                        <FileText className=\"h-4 w-4 mr-2\" /> View Payments\n                                                    </DropdownMenuItem> */}\n\n                                                    <DropdownMenuItem\n                                                        onClick={() => {\n                                                            setActiveInvoice(inv);\n                                                            setModal(m => ({ ...m, viewPayment: true }));\n                                                        }}\n                                                    >\n                                                        <FileText className=\"h-4 w-4 mr-2\" /> View Payments\n                                                    </DropdownMenuItem>\n                                                </>\n                                            )}\n\n                                            <DropdownMenuSeparator />\n\n                                            {/* --- COMMON ALWAYS --- */}\n                                            <DropdownMenuItem\n                                                onClick={() => {\n                                                    setActiveInvoice(inv);                 // original invoice\n                                                    setModal(m => ({ ...m, create: true })); // SAME create modal open\n                                                }}\n                                            >\n                                                <Copy className=\"h-4 w-4 mr-2\" /> Create Duplicate\n                                            </DropdownMenuItem>\n\n                                            <DropdownMenuItem className=\"text-red-600\" onClick={() => handleDeleteInvoice(inv)}>\n                                                <Trash className=\"h-4 w-4 mr-2\" /> Delete\n                                            </DropdownMenuItem>\n\n                                        </DropdownMenuContent>\n                                    </DropdownMenu>\n                                </TableCell>\n\n                            </TableRow>\n                        ))\n                    )}\n                </TableBody>\n            </Table>\n        </div>\n    );\n}\n\n","\"use client\";\n\nimport React, { useMemo, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport Modal from \"./Modal\";\nimport Card from \"./Card\";\n\n\nconst BASE_URL =  `${process.env.NEXT_PUBLIC_MAIN}`;\n\n\nexport default function InvoiceCreateModal({\n    open,\n    onClose,\n    invoices = [],\n    refresh\n}) {\n    const [saving, setSaving] = useState(false);\n\n    const [form, setForm] = useState({\n        invoiceNumber: \"\",\n        invoiceDate: \"\",\n        currency: \"USD\",\n        projectName: \"\",\n        projectId: \"\",\n        clientId: \"\",\n        amount: 0,\n        tax: 10,\n        discount: 0,\n        amountInWords: \"\",\n        notes: \"\",\n    });\n\n    // üîπ Project List\n    const projectList = useMemo(() => {\n        const set = new Set();\n        invoices.forEach(inv => inv.project?.projectName && set.add(inv.project.projectName));\n        return [\"Select Project\", ...Array.from(set)];\n    }, [invoices]);\n\n    // üîπ Client List\n    const clientList = useMemo(() => {\n        const set = new Set();\n        invoices.forEach(inv => inv.client?.name && set.add(inv.client.name));\n        return [\"Select Client\", ...Array.from(set)];\n    }, [invoices]);\n\n    // üîπ Helpers\n    const getProjectBudget = (projectName) => {\n        const f = invoices.find(i => i.project?.projectName === projectName);\n        return f?.project?.budget || 0;\n    };\n\n    const subtotal = Number(form.amount || 0);\n\n    const discountAmount =\n        form.discount > 1 ? form.discount : (subtotal * Number(form.discount || 0)) / 100;\n\n    const taxAmount = ((subtotal - discountAmount) * Number(form.tax || 0)) / 100;\n\n    const totalAmount = subtotal - discountAmount + taxAmount;\n\n    // üîπ API Call\n    const saveInvoice = async () => {\n        setSaving(true);\n        try {\n            const payload = {\n                ...form,\n                amount: Number(form.amount || 0),\n                tax: Number(form.tax || 0),\n                discount: Number(form.discount || 0),\n            };\n\n            const res = await fetch(`${BASE_URL}/api/invoices`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n                },\n                body: JSON.stringify(payload)\n            });\n\n            if (!res.ok) throw new Error(\"Create failed\");\n\n            onClose();\n            refresh();\n        } catch (e) {\n            alert(e.message);\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    return (\n        <Modal open={open} title=\"Create Invoice\" onClose={onClose}>\n            <div className=\"space-y-6\">\n\n                {/* ============================\n           Invoice Details\n        ============================ */}\n                <Card>\n                    <h4 className=\"text-sm font-medium mb-4\">Invoice Details</h4>\n\n                    <div className=\"grid grid-cols-12 gap-3\">\n\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Invoice Number *</label>\n                            <div className=\"relative\">\n                                <div className=\"absolute left-0 inset-y-0 pl-3 flex items-center text-gray-400\">\n                                    INV#\n                                </div>\n                                <input\n                                    className=\"pl-14 border rounded w-full h-10\"\n                                    placeholder=\"INV0001\"\n                                    value={form.invoiceNumber}\n                                    onChange={(e) => setForm(f => ({ ...f, invoiceNumber: e.target.value }))}\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Invoice Date *</label>\n                            <input\n                                type=\"date\"\n                                className=\"border rounded w-full h-10 px-2\"\n                                value={form.invoiceDate}\n                                onChange={(e) => setForm(f => ({ ...f, invoiceDate: e.target.value }))}\n                            />\n                        </div>\n\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Currency *</label>\n                            <select\n                                className=\"border rounded w-full h-10 px-2\"\n                                value={form.currency}\n                                onChange={(e) => setForm(f => ({ ...f, currency: e.target.value }))}\n                            >\n                                {/* <option>USD</option>\n                                <option>USD</option>\n                                <option>EUR</option> */}\n\n                            <option value=\"USD\">USD - US Dollar</option>\n                                <option value=\"EUR\">EUR - Euro</option>\n                                <option value=\"GBP\">GBP - British Pound</option>\n                                <option value=\"AUD\">AUD - Australian Dollar</option>\n                                <option value=\"CAD\">CAD - Canadian Dollar</option>\n                                <option value=\"JPY\">JPY - Japanese Yen</option>\n                                <option value=\"CHF\">CHF - Swiss Franc</option>\n                                <option value=\"SGD\">SGD - Singapore Dollar</option>\n                                <option value=\"NZD\">NZD - New Zealand Dollar</option>\n\n\n                            </select>\n                        </div>\n\n                    </div>\n                </Card>\n\n                {/* ============================\n          Project Details\n        ============================ */}\n                <Card>\n                    <h4 className=\"text-sm font-medium mb-4\">Project Details</h4>\n\n                    <div className=\"grid grid-cols-12 gap-3\">\n\n                        {/* Project */}\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Project *</label>\n                            <select\n                                className=\"border rounded w-full h-10 px-2\"\n                                value={form.projectName}\n                                onChange={(e) => {\n                                    const name = e.target.value;\n                                    const found = invoices.find(i => i.project?.projectName === name);\n\n                                    setForm(f => ({\n                                        ...f,\n                                        projectName: name,\n                                        projectId: found?.project?.projectId || \"\",\n                                    }));\n                                }}\n                            >\n                                {projectList.map(p => <option key={p}>{p}</option>)}\n                            </select>\n                        </div>\n\n                        {/* Client */}\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Client *</label>\n                            <select\n                                className=\"border rounded w-full h-10 px-2\"\n                                value={form.clientId}\n                                onChange={(e) => setForm(f => ({ ...f, clientId: e.target.value }))}\n                            >\n                                {clientList.map(c => <option key={c} value={c}>{c}</option>)}\n                            </select>\n                        </div>\n\n                        {/* Project Budget */}\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Project Budget *</label>\n\n                            <div className=\"flex\">\n                                <div className=\"px-3 py-2 bg-gray-100 border rounded-l\">\n                                    {form.currency === \"USD\" ? \"‚Çπ\" : \"$\"}\n                                </div>\n                                <input\n                                    readOnly\n                                    className=\"border rounded-r w-full h-10 px-3\"\n                                    value={getProjectBudget(form.projectName).toLocaleString()}\n                                />\n                            </div>\n                        </div>\n\n                    </div>\n\n                    {/* Amount, Tax, Summary */}\n                    <div className=\"mt-4 border rounded flex overflow-hidden\">\n\n                        {/* Amount */}\n                        <div className=\"flex-1 p-3\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Amount</label>\n                            <div className=\"flex gap-3 items-center\">\n                                <div className=\"px-3 py-2 bg-gray-50 border rounded\">$</div>\n                                <input\n                                    type=\"number\"\n                                    className=\"border rounded h-10 w-40 px-2\"\n                                    value={form.amount}\n                                    onChange={(e) => setForm(f => ({ ...f, amount: Number(e.target.value) }))}\n                                />\n                            </div>\n                        </div>\n\n                        {/* Tax */}\n                        <div className=\"w-56 p-3 border-l\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Tax (%)</label>\n                            <input\n                                type=\"number\"\n                                className=\"border rounded h-10 w-full px-2\"\n                                value={form.tax}\n                                onChange={(e) => setForm(f => ({ ...f, tax: Number(e.target.value) }))}\n                            />\n                        </div>\n\n                        {/* Total Box */}\n                        <div className=\"w-40 bg-gray-100 p-3 flex flex-col items-center justify-center\">\n                            <div className=\"text-sm text-gray-500\">Total</div>\n                            <div className=\"font-bold text-lg\">{totalAmount.toFixed(2)}</div>\n                        </div>\n\n                    </div>\n\n                    {/* Subtotal Table */}\n                    <div className=\"mt-4 flex justify-end\">\n                        <div className=\"w-80 border rounded\">\n\n                            <div className=\"grid grid-cols-3 p-2 border-b\">\n                                <div></div>\n                                <div className=\"text-sm text-gray-500 text-right\">Subtotal</div>\n                                <div className=\"text-right font-medium\">{subtotal.toFixed(2)}</div>\n                            </div>\n\n                            <div className=\"grid grid-cols-3 p-2 border-b items-center\">\n                                <div className=\"text-sm text-gray-500\">Discount</div>\n                                <div>\n                                    <input\n                                        type=\"number\"\n                                        className=\"border rounded px-2 w-full h-8\"\n                                        value={form.discount}\n                                        onChange={(e) => setForm(f => ({ ...f, discount: Number(e.target.value) }))}\n                                    />\n                                </div>\n                                <div className=\"text-right\">{discountAmount.toFixed(2)}</div>\n                            </div>\n\n                            <div className=\"grid grid-cols-3 p-2 border-b items-center\">\n                                <div className=\"text-sm text-gray-500\">Tax</div>\n                                <div className=\"text-sm text-gray-500\">{form.tax}%</div>\n                                <div className=\"text-right\">{taxAmount.toFixed(2)}</div>\n                            </div>\n\n                            <div className=\"grid grid-cols-3 p-2 bg-gray-100\">\n                                <div />\n                                <div className=\"text-right font-medium\">Total</div>\n                                <div className=\"text-right font-bold\">{totalAmount.toFixed(2)}</div>\n                            </div>\n\n                        </div>\n                    </div>\n\n                </Card>\n\n                {/* ============================\n          Amount in words + Notes\n        ============================ */}\n                <Card>\n                    <div className=\"grid grid-cols-12 gap-4\">\n\n                        <div className=\"col-span-6\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Amount in words</label>\n                            <input\n                                className=\"border rounded w-full h-10 px-3\"\n                                value={form.amountInWords}\n                                onChange={(e) => setForm(f => ({ ...f, amountInWords: e.target.value }))}\n                            />\n                        </div>\n\n                        <div className=\"col-span-6\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Notes</label>\n                            <textarea\n                                className=\"border rounded w-full h-28 p-3\"\n                                value={form.notes}\n                                onChange={(e) => setForm(f => ({ ...f, notes: e.target.value }))}\n                            />\n                        </div>\n\n                    </div>\n                </Card>\n\n                {/* ============================\n          Action Buttons\n        ============================ */}\n                <div className=\"flex justify-center gap-4 mt-2\">\n                    <Button variant=\"outline\" onClick={onClose}>Cancel</Button>\n                    <Button onClick={saveInvoice} disabled={saving}>\n                        {saving ? \"Saving...\" : \"Save\"}\n                    </Button>\n                </div>\n\n            </div>\n        </Modal>\n    );\n}\n\n\n\n\n\n","// \"use client\";\n// import { Button } from \"@/components/ui/button\";\n\n// export default function Modal({ open, title, onClose, children }) {\n//     if (!open) return null;\n\n//     return (\n//         <div className=\"fixed inset-0 z-50 flex justify-center items-start p-8 overflow-auto\">\n//             <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\n\n//             <div className=\"relative bg-white rounded-lg shadow-xl w-full max-w-4xl\">\n//                 <div className=\"flex justify-between items-center border-b px-5 py-3\">\n//                     <h3 className=\"text-lg font-semibold\">{title}</h3>\n//                     <Button variant=\"ghost\" onClick={onClose}>‚úï</Button>\n//                 </div>\n\n//                 <div className=\"p-6\">{children}</div>\n//             </div>\n//         </div>\n//     );\n// }\n\n\n\"use client\";\n\nimport { X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nexport default function Modal({\n  open,\n  onClose,\n  title,\n  children,\n  className,\n}: {\n  open: boolean;\n  onClose: () => void;\n  title?: string;\n  children: React.ReactNode;\n  className?: string;\n}) {\n  if (!open) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50\">\n      {/* Backdrop */}\n      <div\n        className=\"absolute inset-0 bg-black/40\"\n        onClick={onClose}\n      />\n\n      {/* Right side full screen panel */}\n      <div\n        className={cn(\n          \"absolute right-0 top-0 h-full w-full bg-white shadow-xl\",\n          \"animate-slide-in-right\",\n          className\n        )}\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between px-6 py-4 border-b\">\n          <h2 className=\"text-lg font-semibold\">{title}</h2>\n          <button onClick={onClose}>\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 overflow-auto h-[calc(100%-64px)]\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}\n","export default function Card({ children }) {\n    return (\n        <div className=\"border rounded-lg bg-white p-4 shadow-sm\">\n            {children}\n        </div>\n    );\n}\n","\"use client\";\n\nimport Modal from \"./Modal\";\nimport Card from \"./Card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Upload, Edit2, CheckCircle, FileText } from \"lucide-react\";\n\nexport default function InvoiceViewModal({\n    open,\n    onClose,\n    invoice,\n    setModal,\n    refresh\n}) {\n    if (!invoice) return null;\n\n    const safeDate = (d) => (d ? new Date(d).toLocaleDateString(\"en-GB\") : \"--\");\n\n    const statusBadge = (s) => {\n        const v = (s || \"\").toLowerCase();\n        if (v === \"paid\") return <span className=\"px-2 py-1 bg-green-100 text-green-700 rounded\">Paid</span>;\n        if (v === \"unpaid\") return <span className=\"px-2 py-1 bg-red-100 text-red-700 rounded\">Unpaid</span>;\n        return <span className=\"px-2 py-1 bg-gray-100 text-gray-700 rounded\">{s}</span>;\n    };\n\n    return (\n        <Modal open={open} onClose={onClose} title={`Invoice ${invoice.invoiceNumber}`}>\n            <div className=\"space-y-6\">\n\n                {/* CLIENT DETAILS */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <Card>\n                        <h4 className=\"text-sm font-medium mb-3\">Client Details</h4>\n                        <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                            <div className=\"text-gray-600\">Name</div><div>{invoice.client?.name}</div>\n                            <div className=\"text-gray-600\">Email</div><div>{invoice.client?.email}</div>\n                            <div className=\"text-gray-600\">Company</div><div>{invoice.client?.company?.companyName}</div>\n                            <div className=\"text-gray-600\">Mobile</div><div>{invoice.client?.mobile}</div>\n                            <div className=\"text-gray-600\">Address</div><div>{invoice.client?.address}</div>\n                            <div className=\"text-gray-600\">Country</div><div>{invoice.client?.country}</div>\n                        </div>\n                    </Card>\n\n                    {/* PROJECT DETAILS */}\n                    <Card>\n                        <h4 className=\"text-sm font-medium mb-3\">Project Details</h4>\n                        <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                            <div className=\"text-gray-600\">Project</div><div>{invoice.project?.projectName}</div>\n                            <div className=\"text-gray-600\">Code</div><div>{invoice.project?.projectCode}</div>\n                            <div className=\"text-gray-600\">Start</div><div>{safeDate(invoice.project?.startDate)}</div>\n                            <div className=\"text-gray-600\">Deadline</div><div>{safeDate(invoice.project?.deadline)}</div>\n                            <div className=\"text-gray-600\">Budget</div>\n                            <div>{invoice.currency} {invoice.project?.budget?.toLocaleString()}</div>\n                        </div>\n                    </Card>\n                </div>\n\n                {/* INVOICE DETAILS */}\n                <Card>\n                    <h4 className=\"text-sm font-medium mb-3\">Invoice Details</h4>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                        <div className=\"space-y-2 text-gray-600\">\n                            <div>Invoice No</div>\n                            <div>Invoice Date</div>\n                            <div>Currency</div>\n                            <div>Amount</div>\n                            <div>Tax</div>\n                            <div>Total</div>\n                            <div>Status</div>\n                        </div>\n\n                        <div className=\"space-y-2 md:col-span-2 font-medium\">\n                            <div>{invoice.invoiceNumber}</div>\n                            <div>{safeDate(invoice.invoiceDate)}</div>\n                            <div>{invoice.currency}</div>\n                            <div>{invoice.currency} {invoice.amount}</div>\n                            <div>{invoice.tax}%</div>\n                            <div>{invoice.currency} {invoice.total}</div>\n                            <div>{statusBadge(invoice.status)}</div>\n                        </div>\n                    </div>\n\n                    {/* FILES */}\n                    <div className=\"mt-6\">\n                        <div className=\"text-sm font-medium mb-2\">Files</div>\n                        <div className=\"flex gap-3 flex-wrap\">\n                            {(invoice.fileUrls || []).length === 0 && (\n                                <span className=\"text-gray-500 text-sm\">No files uploaded</span>\n                            )}\n\n                            {(invoice.fileUrls || []).map((f, i) => (\n                                <div key={i} className=\"border rounded p-2 w-40\">\n                                    <div className=\"truncate text-sm\">{f}</div>\n                                    <Button\n                                        className=\"mt-2 w-full\"\n                                        size=\"sm\"\n                                        variant=\"outline\"\n                                        onClick={() => window.open(f, \"_blank\")}\n                                    >\n                                        <FileText className=\"h-4 w-4 mr-2\" /> Open\n                                    </Button>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* ACTION BUTTONS */}\n                    <div className=\"mt-6 flex justify-end gap-3\">\n\n                        {invoice.status?.toLowerCase() === \"unpaid\" && (\n                            <>\n                                <Button\n                                    variant=\"ghost\"\n                                    onClick={() => setModal(m => ({ ...m, edit: true }))}\n                                >\n                                    <Edit2 className=\"h-4 w-4 mr-2\" /> Edit\n                                </Button>\n\n                                <Button onClick={() => alert(\"Mark paid API pending\")}>\n                                    <CheckCircle className=\"h-4 w-4 mr-2\" /> Mark As Paid\n                                </Button>\n                            </>\n                        )}\n\n                        <Button\n                            variant=\"ghost\"\n                            onClick={() => setModal(m => ({ ...m, upload: true }))}\n                        >\n                            <Upload className=\"h-4 w-4 mr-2\" /> Upload File\n                        </Button>\n\n                        <Button\n                            onClick={() => setModal(m => ({ ...m, payment: true }))}\n                        >\n                            <FileText className=\"h-4 w-4 mr-2\" /> View Payments\n                        </Button>\n                    </div>\n                </Card>\n            </div>\n        </Modal>\n    );\n}\n","\n\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport Modal from \"./Modal\";\nimport Card from \"./Card\";\n\n\n const BASE_URL =  `${process.env.NEXT_PUBLIC_MAIN}`;\n\nexport default function InvoiceEditModal({\n    open,\n    onClose,\n    invoice,\n    invoices = [],\n    refresh,\n}) {\n    if (!invoice) return null;\n\n    const [saving, setSaving] = useState(false);\n\n    const [form, setForm] = useState({\n        invoiceNumber: \"\",\n        invoiceDate: \"\",\n        currency: \"USD\",\n        projectName: \"\",\n        projectId: \"\",\n        clientId: \"\",\n        amount: 0,\n        tax: 0,\n        discount: 0,\n        amountInWords: \"\",\n        notes: \"\",\n    });\n\n    /* ============================\n        Prefill form on open\n    ============================ */\n    useEffect(() => {\n        if (!invoice) return;\n\n        setForm({\n            invoiceNumber: invoice.invoiceNumber || \"\",\n            invoiceDate: invoice.invoiceDate || \"\",\n            currency: invoice.currency || \"USD\",\n            projectName: invoice.project?.projectName || \"\",\n            projectId: invoice.project?.projectId || \"\",\n            clientId: invoice.client?.name || \"\",\n            amount: Number(invoice.amount || 0),\n            tax: Number(invoice.tax || 0),\n            discount: Number(invoice.discount || 0),\n            amountInWords: invoice.amountInWords || \"\",\n            notes: invoice.notes || \"\",\n        });\n    }, [invoice]);\n\n    /* ============================\n        Project & Client Lists\n    ============================ */\n    const projectList = useMemo(() => {\n        const set = new Set();\n        invoices.forEach(inv => inv.project?.projectName && set.add(inv.project.projectName));\n        return [\"Select Project\", ...Array.from(set)];\n    }, [invoices]);\n\n    const clientList = useMemo(() => {\n        const set = new Set();\n        invoices.forEach(inv => inv.client?.name && set.add(inv.client.name));\n        return [\"Select Client\", ...Array.from(set)];\n    }, [invoices]);\n\n    const getProjectBudget = (projectName) => {\n        const f = invoices.find(i => i.project?.projectName === projectName);\n        return f?.project?.budget || 0;\n    };\n\n    /* ============================\n        Calculations (same as create)\n    ============================ */\n    const subtotal = Number(form.amount || 0);\n\n    const discountAmount =\n        form.discount > 1\n            ? form.discount\n            : (subtotal * Number(form.discount || 0)) / 100;\n\n    const taxAmount =\n        ((subtotal - discountAmount) * Number(form.tax || 0)) / 100;\n\n    const totalAmount = subtotal - discountAmount + taxAmount;\n\n    /* ============================\n        Update API\n    ============================ */\n    const updateInvoice = async () => {\n        setSaving(true);\n        try {\n            const payload = {\n                ...form,\n                amount: Number(form.amount || 0),\n                tax: Number(form.tax || 0),\n                discount: Number(form.discount || 0),\n            };\n\n            const res = await fetch(`${BASE_URL}/api/invoices/${invoice.invoiceNumber}`, {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                },\n                body: JSON.stringify(payload),\n            });\n\n            if (!res.ok) throw new Error(\"Update failed\");\n\n            onClose();\n            refresh();\n        } catch (e) {\n            alert(e.message);\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    return (\n        <Modal open={open} title={`Edit Invoice ‚Äì ${invoice.invoiceNumber}`} onClose={onClose}>\n            <div className=\"space-y-6\">\n\n                {/* ============================\n                    Invoice Details\n                ============================ */}\n                <Card>\n                    <h4 className=\"text-sm font-medium mb-4\">Invoice Details</h4>\n\n                    <div className=\"grid grid-cols-12 gap-3\">\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Invoice Number</label>\n                            <input\n                                readOnly\n                                className=\"border rounded w-full h-10 px-3 bg-gray-100\"\n                                value={form.invoiceNumber}\n                            />\n                        </div>\n\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Invoice Date *</label>\n                            <input\n                                type=\"date\"\n                                className=\"border rounded w-full h-10 px-2\"\n                                value={form.invoiceDate}\n                                onChange={(e) =>\n                                    setForm(f => ({ ...f, invoiceDate: e.target.value }))\n                                }\n                            />\n                        </div>\n\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Currency *</label>\n                            <select\n                                className=\"border rounded w-full h-10 px-2\"\n                                value={form.currency}\n                                onChange={(e) =>\n                                    setForm(f => ({ ...f, currency: e.target.value }))\n                                }\n                            >\n                                <option value=\"USD\">USD - US Dollar</option>\n                                <option value=\"EUR\">EUR - Euro</option>\n                                <option value=\"GBP\">GBP - British Pound</option>\n                                <option value=\"AUD\">AUD - Australian Dollar</option>\n                                <option value=\"CAD\">CAD - Canadian Dollar</option>\n                                <option value=\"JPY\">JPY - Japanese Yen</option>\n                                <option value=\"CHF\">CHF - Swiss Franc</option>\n                                <option value=\"SGD\">SGD - Singapore Dollar</option>\n                                <option value=\"NZD\">NZD - New Zealand Dollar</option>\n                            </select>\n                        </div>\n                    </div>\n                </Card>\n\n                {/* ============================\n                    Project Details\n                ============================ */}\n                <Card>\n                    <h4 className=\"text-sm font-medium mb-4\">Project Details</h4>\n\n                    <div className=\"grid grid-cols-12 gap-3\">\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Project *</label>\n                            <select\n                                className=\"border rounded w-full h-10 px-2\"\n                                value={form.projectName}\n                                onChange={(e) => {\n                                    const name = e.target.value;\n                                    const found = invoices.find(\n                                        i => i.project?.projectName === name\n                                    );\n                                    setForm(f => ({\n                                        ...f,\n                                        projectName: name,\n                                        projectId: found?.project?.projectId || \"\",\n                                    }));\n                                }}\n                            >\n                                {projectList.map(p => (\n                                    <option key={p}>{p}</option>\n                                ))}\n                            </select>\n                        </div>\n\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Client *</label>\n                            <select\n                                className=\"border rounded w-full h-10 px-2\"\n                                value={form.clientId}\n                                onChange={(e) =>\n                                    setForm(f => ({ ...f, clientId: e.target.value }))\n                                }\n                            >\n                                {clientList.map(c => (\n                                    <option key={c} value={c}>{c}</option>\n                                ))}\n                            </select>\n                        </div>\n\n                        <div className=\"col-span-4\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Project Budget</label>\n                            <input\n                                readOnly\n                                className=\"border rounded w-full h-10 px-3 bg-gray-100\"\n                                value={getProjectBudget(form.projectName).toLocaleString()}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Amount / Tax / Total */}\n                    <div className=\"mt-4 border rounded flex overflow-hidden\">\n                        <div className=\"flex-1 p-3\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Amount</label>\n                            <input\n                                type=\"number\"\n                                className=\"border rounded h-10 w-40 px-2\"\n                                value={form.amount}\n                                onChange={(e) =>\n                                    setForm(f => ({ ...f, amount: Number(e.target.value) }))\n                                }\n                            />\n                        </div>\n\n                        <div className=\"w-56 p-3 border-l\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Tax (%)</label>\n                            <input\n                                type=\"number\"\n                                className=\"border rounded h-10 w-full px-2\"\n                                value={form.tax}\n                                onChange={(e) =>\n                                    setForm(f => ({ ...f, tax: Number(e.target.value) }))\n                                }\n                            />\n                        </div>\n\n                        <div className=\"w-40 bg-gray-100 p-3 flex flex-col items-center justify-center\">\n                            <div className=\"text-sm text-gray-500\">Total</div>\n                            <div className=\"font-bold text-lg\">{totalAmount.toFixed(2)}</div>\n                        </div>\n                    </div>\n                </Card>\n\n                {/* ============================\n                    Amount in Words & Notes\n                ============================ */}\n                <Card>\n                    <div className=\"grid grid-cols-12 gap-4\">\n                        <div className=\"col-span-6\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Amount in words</label>\n                            <input\n                                className=\"border rounded w-full h-10 px-3\"\n                                value={form.amountInWords}\n                                onChange={(e) =>\n                                    setForm(f => ({ ...f, amountInWords: e.target.value }))\n                                }\n                            />\n                        </div>\n\n                        <div className=\"col-span-6\">\n                            <label className=\"text-sm text-gray-600 block mb-1\">Notes</label>\n                            <textarea\n                                className=\"border rounded w-full h-28 p-3\"\n                                value={form.notes}\n                                onChange={(e) =>\n                                    setForm(f => ({ ...f, notes: e.target.value }))\n                                }\n                            />\n                        </div>\n                    </div>\n                </Card>\n\n                {/* ============================\n                    Actions\n                ============================ */}\n                <div className=\"flex justify-center gap-4\">\n                    <Button variant=\"outline\" onClick={onClose}>Cancel</Button>\n                    <Button onClick={updateInvoice} disabled={saving}>\n                        {saving ? \"Updating...\" : \"Update\"}\n                    </Button>\n                </div>\n\n            </div>\n        </Modal>\n    );\n}\n\n\n","\"use client\";\n\nimport { useState } from \"react\";\nimport Modal from \"./Modal\";\nimport { Button } from \"@/components/ui/button\";\n\nexport default function InvoiceUploadModal({\n    open,\n    onClose,\n    invoice,\n    refresh\n}) {\n    const [file, setFile] = useState(null);\n    const [uploading, setUploading] = useState(false);\n\n    if (!invoice) return null;\n\n    const upload = async () => {\n        if (!file) return alert(\"Choose a file\");\n\n        setUploading(true);\n        try {\n            const fd = new FormData();\n            fd.append(\"file\", file);\n\n            await fetch(`/api/invoices/${invoice.invoiceNumber}/files`, {\n                method: \"POST\",\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                },\n                body: fd,\n            });\n\n            onClose();\n            refresh();\n        } catch (e) {\n            alert(\"Upload failed\");\n        } finally {\n            setUploading(false);\n        }\n    };\n\n    return (\n        <Modal open={open} onClose={onClose} title={`Upload file for ${invoice.invoiceNumber}`}>\n\n            <input\n                type=\"file\"\n                className=\"border p-2 rounded w-full\"\n                onChange={(e) => setFile(e.target.files?.[0] || null)}\n            />\n\n            <div className=\"flex justify-end gap-2 mt-4\">\n                <Button variant=\"ghost\" onClick={onClose}>Cancel</Button>\n                <Button onClick={upload} disabled={uploading}>\n                    {uploading ? \"Uploading...\" : \"Upload\"}\n                </Button>\n            </div>\n\n        </Modal>\n    );\n}\n","\"use client\";\n\nimport { useState } from \"react\";\nimport Modal from \"./Modal\";\nimport { Button } from \"@/components/ui/button\";\n\n\nconst BASE_URL = process.env.NEXT_PUBLIC_MAIN!;\n\nexport default function InvoicePaymentModal({\n    open,\n    onClose,\n    invoice\n}) {\n    const [form, setForm] = useState({\n        amount: invoice?.unpaidAmount || invoice?.total || \"\",\n        currency: invoice?.currency || \"\",\n        transactionId: \"\",\n        notes: \"\",\n    });\n\n    const [file, setFile] = useState(null);\n\n    if (!invoice) return null;\n\n    const savePayment = async () => {\n        const fd = new FormData();\n        fd.append(\"payment\", JSON.stringify({\n            ...form,\n            invoiceId: invoice.invoiceNumber\n        }));\n\n        if (file) fd.append(\"file\", file);\n\n        await fetch(`${BASE_URL}/api/payments`, {\n            method: \"POST\",\n            headers: { Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}` },\n            body: fd,\n        });\n\n        onClose();\n    };\n\n    return (\n        <Modal open={open} onClose={onClose} title={`Add Payment - ${invoice.invoiceNumber}`}>\n            <div className=\"space-y-3\">\n\n                <input\n                    className=\"border rounded w-full px-2 py-1\"\n                    placeholder=\"Amount\"\n                    value={form.amount}\n                    onChange={(e) => setForm(f => ({ ...f, amount: e.target.value }))}\n                />\n\n                <input\n                    className=\"border rounded w-full px-2 py-1\"\n                    placeholder=\"Transaction ID\"\n                    value={form.transactionId}\n                    onChange={(e) => setForm(f => ({ ...f, transactionId: e.target.value }))}\n                />\n\n                <input\n                    className=\"border rounded w-full px-2 py-1\"\n                    placeholder=\"Currency\"\n                    value={form.currency}\n                    onChange={(e) => setForm(f => ({ ...f, currency: e.target.value }))}\n                />\n\n                <textarea\n                    className=\"border rounded w-full px-2 py-1\"\n                    placeholder=\"Notes\"\n                    value={form.notes}\n                    onChange={(e) => setForm(f => ({ ...f, notes: e.target.value }))}\n                />\n\n                <input\n                    type=\"file\"\n                    onChange={(e) => setFile(e.target.files?.[0] || null)}\n                />\n\n                <div className=\"flex justify-end gap-2 mt-4\">\n                    <Button variant=\"ghost\" onClick={onClose}>Cancel</Button>\n                    <Button onClick={savePayment}>Save</Button>\n                </div>\n\n            </div>\n        </Modal>\n    );\n}\n","\n\"use client\";\n\nimport { useState } from \"react\";\nimport Modal from \"./Modal\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\n\nconst BASE_URL =  `${process.env.NEXT_PUBLIC_MAIN}`;\n\nexport default function InvoiceReceiptModal({ open, onClose, invoice }) {\n  if (!invoice) return null;\n\n  const [saving, setSaving] = useState(false);\n\n  const [form, setForm] = useState({\n    invoiceId: invoice.invoiceNumber || \"\",\n    issueDate: \"\",\n    currency: \"USD\",\n\n    sellerCompanyName: \"\",\n    sellerCompanyAddress: \"\",\n    sellerCompanyCode: \"\",\n    sellerCompanyTaxNumber: \"\",\n    sellerCompanyEmail: \"\",\n    sellerCompanyPhoneNumber: \"\",\n    sellerCompanyBankName: \"\",\n    sellerCompanyBankAccountNumber: \"\",\n\n    buyerCompanyName: \"\",\n    buyerCompanyAddress: \"\",\n    buyerCompanyCode: \"\",\n    buyerCompanyTaxNumber: \"\",\n    buyerCleintName: \"\",\n    buyerCompanyEmail: \"\",\n    buyerCompanyPhoneNumber: \"\",\n    buyerCompanyBankName: \"\",\n    buyerCompanyBankAccountNumber: \"\",\n\n    productName: \"\",\n    quantity: 1,\n    priceWithOutTax: 0,\n    tax: 0,\n    description: \"\",\n  });\n\n  function update(key: string, value: any) {\n    setForm((prev) => ({ ...prev, [key]: value }));\n  }\n\n  async function handleSave() {\n    try {\n      setSaving(true);\n\n      const res = await fetch(`${BASE_URL}/api/invoice`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\", \n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`\n\n        },\n        body: JSON.stringify(form),\n      });\n\n      if (!res.ok) throw new Error(\"Failed to create invoice\");\n\n      await res.json();\n      onClose();\n    } catch (err) {\n      console.error(err);\n      alert(\"Something went wrong while saving invoice\");\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  return (\n    <Modal open={open} onClose={onClose} title=\"Create Receipt\">\n      <div className=\"space-y-6\">\n\n        {/* Invoice Details */}\n        <section className=\"rounded-lg border p-4\">\n          <h3 className=\"font-medium mb-4\">Invoice Details</h3>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"text-sm font-medium\">\n                Invoice Number <span className=\"text-red-500\">*</span>\n              </label>\n              <div className=\"flex mt-1\">\n                <span className=\"px-3 flex items-center border border-r-0 rounded-l-md bg-muted text-sm\">\n                  INV#\n                </span>\n                <Input\n                  className=\"rounded-l-none\"\n                  value={form.invoiceId}\n                  onChange={(e) => update(\"invoiceId\", e.target.value)}\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"text-sm font-medium\">\n                Issue Date <span className=\"text-red-500\">*</span>\n              </label>\n              <Input\n                type=\"date\"\n                className=\"mt-1\"\n                value={form.issueDate}\n                onChange={(e) => update(\"issueDate\", e.target.value)}\n              />\n            </div>\n\n            <div>\n              <label className=\"text-sm font-medium\">\n                Currency <span className=\"text-red-500\">*</span>\n              </label>\n              <Select\n                value={form.currency}\n                onValueChange={(v) => update(\"currency\", v)}\n              >\n                <SelectTrigger className=\"mt-1\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"USD\">USD $</SelectItem>\n                  <SelectItem value=\"USD\">USD ‚Çπ</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        </section>\n\n        {/* Seller Details */}\n        <section className=\"rounded-lg border p-4\">\n          <h3 className=\"font-medium mb-4\">Seller Details</h3>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <InputField label=\"Company Name\" onChange={(v) => update(\"sellerCompanyName\", v)} />\n            <InputField label=\"Email Id\" onChange={(v) => update(\"sellerCompanyEmail\", v)} />\n            <InputField label=\"Contact No.\" onChange={(v) => update(\"sellerCompanyPhoneNumber\", v)} />\n            <InputField label=\"Company Code\" onChange={(v) => update(\"sellerCompanyCode\", v)} />\n            <InputField label=\"Tax No.\" onChange={(v) => update(\"sellerCompanyTaxNumber\", v)} />\n            <TextareaField label=\"Company Address\" onChange={(v) => update(\"sellerCompanyAddress\", v)} />\n            <InputField label=\"Bank Account No.\" onChange={(v) => update(\"sellerCompanyBankAccountNumber\", v)} />\n            <InputField label=\"Name of the Bank\" onChange={(v) => update(\"sellerCompanyBankName\", v)} />\n          </div>\n        </section>\n\n        {/* Buyer Details */}\n        <section className=\"rounded-lg border p-4\">\n          <h3 className=\"font-medium mb-4\">Buyer Details</h3>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <InputField label=\"Client Name\" onChange={(v) => update(\"buyerCleintName\", v)} />\n            <InputField label=\"Company Name\" onChange={(v) => update(\"buyerCompanyName\", v)} />\n            <InputField label=\"Email Id\" onChange={(v) => update(\"buyerCompanyEmail\", v)} />\n            <InputField label=\"Contact No.\" onChange={(v) => update(\"buyerCompanyPhoneNumber\", v)} />\n            <InputField label=\"Company Code\" onChange={(v) => update(\"buyerCompanyCode\", v)} />\n            <InputField label=\"Tax No.\" onChange={(v) => update(\"buyerCompanyTaxNumber\", v)} />\n            <TextareaField\n              label=\"Company Address\"\n              colSpan={3}\n              onChange={(v) => update(\"buyerCompanyAddress\", v)}\n            />\n            <InputField label=\"Bank Account No.\" onChange={(v) => update(\"buyerCompanyBankAccountNumber\", v)} />\n            <InputField label=\"Name of the Bank\" onChange={(v) => update(\"buyerCompanyBankName\", v)} />\n          </div>\n        </section>\n\n        {/* Project Details */}\n        <section className=\"rounded-lg border p-4\">\n          <h3 className=\"font-medium mb-4\">Project Details</h3>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <InputField label=\"Product Name\" onChange={(v) => update(\"productName\", v)} />\n            \n            {/* <InputField  label=\"Product Name\" type=\"number\"\n              defaultValue={1}\n              onChange={(e) => update(\"quantity\", Number(e.target.value))} /> */}\n              <div>\n                <h3 className=\"font-medium mb-1\">Quantity \n                     <span className=\"text-red-500\">*</span>\n                </h3>\n                 <Input\n              type=\"number\"\n              defaultValue={1}\n              onChange={(e) => update(\"quantity\", Number(e.target.value))}\n            />\n              </div>\n           \n          <div>\n            <h3 className=\"font-medium mb-1\">Price Without Tax\n                     <span className=\"text-red-500\">*</span>\n                </h3>\n <Input\n              type=\"number\"\n              defaultValue={1}\n              onChange={(e) => update(\"quantity\", Number(e.target.value))}\n            />\n          </div>\n\n<div>\n    <h3 className=\"font-medium mb-1\">Tax \n                     <span className=\"text-red-500\">*</span>\n                </h3>\n    <Input\n              type=\"number\"\n              onChange={(e) => update(\"tax\", Number(e.target.value))}\n            /></div>\n          \n            \n          </div>\n\n            <div>\n                 <h3 className=\"mt-4\">\n            Note / Description for the recipient\n          </h3>\n                <Textarea\n            className=\"mt-4\"\n            placeholder=\"Note / Description for the recipient\"\n            onChange={(e) => update(\"description\", e.target.value)}\n          />\n            </div>\n         \n        </section>\n\n        {/* Footer */}\n        <div className=\"flex justify-end gap-3 pt-2\">\n          <Button variant=\"outline\" onClick={onClose}>\n            Cancel\n          </Button>\n          <Button onClick={handleSave} disabled={saving}>\n            {saving ? \"Saving...\" : \"Save\"}\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\n/* ---------- Helpers (UI SAME) ---------- */\n\nfunction InputField({ label, onChange }) {\n  return (\n    <div>\n      <label className=\"text-sm font-medium\">\n        {label} <span className=\"text-red-500\">*</span>\n      </label>\n      <Input className=\"mt-1\" onChange={(e) => onChange(e.target.value)} />\n    </div>\n  );\n}\n\nfunction TextareaField({ label, onChange, colSpan = 2 }) {\n  return (\n    <div className={`md:col-span-${colSpan}`}>\n      <label className=\"text-sm font-medium\">\n        {label} <span className=\"text-red-500\">*</span>\n      </label>\n      <Textarea className=\"mt-1\" onChange={(e) => onChange(e.target.value)} />\n    </div>\n  );\n}\n","\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Modal from \"./Modal\";\nimport InvoiceReceiptModal from \"./InvoiceReceiptModal\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  MoreVertical,\n  Plus,\n  Eye,\n  Download,\n  Trash,\n} from \"lucide-react\";\n\nconst BASE_URL =  `${process.env.NEXT_PUBLIC_MAIN}`;\n\nexport default function InvoiceViewReceiptModal({\n  open,\n  onClose,\n  invoice,\n}: {\n  open: boolean;\n  onClose: () => void;\n  invoice: any;\n}) {\n  const [receipts, setReceipts] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [showAddReceipt, setShowAddReceipt] = useState(false);\n  const [viewReceipt, setViewReceipt] = useState<any>(null);\n\n  /* ============================\n      LOAD RECEIPTS\n  ============================ */\n  async function loadReceipts() {\n    const invoiceId =\n      // invoice?.invoiceId ||\n      invoice?.invoiceNumber ||\n      invoice?.invoiceNo;\n\n    if (!invoiceId) {\n      setReceipts([]);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const res = await fetch(\n        `${BASE_URL}/api/invoice/receipt/${invoiceId}`,\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n          },\n        }\n      );\n\n      const text = await res.text();\n      if (!text) {\n        setReceipts([]);\n        return;\n      }\n\n      const data = JSON.parse(text);\n      setReceipts(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error(\"‚ùå Failed to load receipts\", err);\n      setReceipts([]);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  /* ============================\n      DELETE RECEIPT\n  ============================ */\n  async function deleteReceipt(id: string) {\n    if (!confirm(\"Are you sure you want to delete this receipt?\")) return;\n\n    await fetch(`${BASE_URL}/api/invoice/receipt/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n      },\n    });\n\n    loadReceipts();\n  }\n\n  /* ============================\n      ‚úÖ FINAL PDF DOWNLOAD\n      (POSTMAN JAISE PDF)\n  ============================ */\n  // function downloadPDF(r: any) {\n  //   const createdIdUSD = r?.createdIdUSD || r?.id;\n\n  //   if (!createdIdUSD) {\n  //     alert(\"PDF ID not found\");\n  //     return;\n  //   }\n\n  //   window.open(\n  //     `${BASE_URL}/api/invoice/${createdIdUSD}/pdf?disposition=attachment`,\n  //     \"_blank\"\n  //   );\n  // }\n\n\n\n/* ============================\n    ‚úÖ DIRECT PDF DOWNLOAD\n    (NO REDIRECT, NO NEW PAGE)\n============================ */\nasync function downloadPDF(r: any) {\n  const createdIdUSD = r?.createdIdUSD || r?.id;\n\n  if (!createdIdUSD) {\n    alert(\"PDF ID not found\");\n    return;\n  }\n\n  try {\n    const res = await fetch(\n      `${BASE_URL}/api/invoice/${createdIdUSD}/pdf?disposition=attachment`,\n      {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n        },\n      }\n    );\n\n    if (!res.ok) {\n      throw new Error(\"Failed to download PDF\");\n    }\n\n    const blob = await res.blob();\n\n    // ‚úÖ Create temporary download link\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `${createdIdUSD}.pdf`; // filename\n    document.body.appendChild(a);\n    a.click();\n\n    // ‚úÖ Cleanup\n    a.remove();\n    window.URL.revokeObjectURL(url);\n  } catch (err) {\n    console.error(\"‚ùå PDF Download Error\", err);\n    alert(\"Failed to download PDF\");\n  }\n}\n\n\n\n\n  useEffect(() => {\n    if (open) loadReceipts();\n  }, [open, invoice]);\n\n  if (!invoice) return null;\n\n  return (\n    <>\n      <Modal open={open} onClose={onClose} title=\"Receipts\" className=\"max-w-6xl\">\n        <div className=\"mb-4\">\n          <Button onClick={() => setShowAddReceipt(true)}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Add a Receipt\n          </Button>\n        </div>\n\n        <div className=\"border rounded-lg overflow-hidden\">\n          <Table>\n            <TableHeader className=\"bg-blue-50\">\n              <TableRow>\n                <TableHead>Invoice No.</TableHead>\n                <TableHead>Product</TableHead>\n                <TableHead>Client</TableHead>\n                <TableHead>Amount</TableHead>\n                <TableHead>Issue Date</TableHead>\n                <TableHead className=\"text-right\">Action</TableHead>\n              </TableRow>\n            </TableHeader>\n\n            <TableBody>\n              {loading && (\n                <TableRow>\n                  <TableCell colSpan={6} className=\"text-center text-sm text-gray-500\">\n                    Loading receipts...\n                  </TableCell>\n                </TableRow>\n              )}\n\n              {!loading && receipts.length === 0 && (\n                <TableRow>\n                  <TableCell colSpan={6} className=\"text-center text-sm text-gray-500\">\n                    No receipts available\n                  </TableCell>\n                </TableRow>\n              )}\n\n              {!loading &&\n                receipts.map((r) => (\n                  <TableRow key={r.id}>\n                    <TableCell>{r.invoiceId}</TableCell>\n                    <TableCell>{r.productName}</TableCell>\n                    <TableCell>{r.buyerCleintName}</TableCell>\n                    <TableCell>\n                      {r.currency} {r.totalAmount}\n                    </TableCell>\n                    <TableCell>\n                      {new Date(r.issueDate).toLocaleDateString()}\n                    </TableCell>\n\n                    <TableCell className=\"text-right\">\n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"ghost\" size=\"icon\">\n                            <MoreVertical className=\"w-4 h-4\" />\n                          </Button>\n                        </DropdownMenuTrigger>\n\n                        <DropdownMenuContent align=\"end\">\n                          <DropdownMenuItem onClick={() => setViewReceipt(r)}>\n                            <Eye className=\"w-4 h-4 mr-2\" />\n                            View\n                          </DropdownMenuItem>\n\n                          <DropdownMenuItem onClick={() => downloadPDF(r)}>\n                            <Download className=\"w-4 h-4 mr-2\" />\n                            Download as PDF\n                          </DropdownMenuItem>\n\n                          <DropdownMenuItem\n                            className=\"text-red-600\"\n                            onClick={() => deleteReceipt(r.id)}\n                          >\n                            <Trash className=\"w-4 h-4 mr-2\" />\n                            Delete\n                          </DropdownMenuItem>\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n        </div>\n      </Modal>\n\n      {/* ============================\n          VIEW RECEIPT MODAL\n      ============================ */}\n      {viewReceipt && (\n        <Modal\n          open={true}\n          onClose={() => setViewReceipt(null)}\n          title={viewReceipt.invoiceId}\n          className=\"max-w-4xl\"\n        >\n          <div className=\"border p-6 bg-white text-sm\">\n            <h2 className=\"text-lg font-semibold mb-2\">Proforma Invoice</h2>\n            <p>Invoice No.: {viewReceipt.invoiceId}</p>\n            <p>Issue Date: {new Date(viewReceipt.issueDate).toDateString()}</p>\n\n            <div className=\"grid grid-cols-2 gap-6 mt-4 border p-4\">\n              <div>\n                <h3 className=\"font-semibold mb-1\">Seller</h3>\n                <p>{viewReceipt.sellerCompanyName}</p>\n                <p>{viewReceipt.sellerCompanyAddress}</p>\n                <p>Bank: {viewReceipt.sellerCompanyBankName}</p>\n              </div>\n\n              <div>\n                <h3 className=\"font-semibold mb-1\">Buyer</h3>\n                <p>{viewReceipt.buyerCompanyName}</p>\n                <p>{viewReceipt.buyerCompanyAddress}</p>\n                <p>Client: {viewReceipt.buyerCleintName}</p>\n              </div>\n            </div>\n\n            <div className=\"mt-4 text-right font-semibold\">\n              Total: {viewReceipt.currency} {viewReceipt.totalAmount}\n            </div>\n          </div>\n        </Modal>\n      )}\n\n      {/* ============================\n          ADD RECEIPT MODAL\n      ============================ */}\n      <InvoiceReceiptModal\n        open={showAddReceipt}\n        invoice={invoice}\n        onClose={() => {\n          setShowAddReceipt(false);\n          loadReceipts();\n        }}\n      />\n    </>\n  );\n}\n","\n\n\"use client\";\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { X, Trash2 } from \"lucide-react\";\n\nconst BASE_URL = process.env.NEXT_PUBLIC_MAIN ||  `${process.env.NEXT_PUBLIC_MAIN}`;\n\nexport default function AddPaymentModal({\n    open,\n    onClose,\n    clientId,\n    onSaved,\n}: {\n    open: boolean;\n    onClose: () => void;\n    clientId?: string | number | null;\n    onSaved?: () => void;\n}) {\n    const [project, setProject] = useState(\"pre filled\");\n    const [client, setClient] = useState(clientId ? String(clientId) : \"pre filled\");\n    const [invoice, setInvoice] = useState(\"pre filled\");\n    const [amount, setAmount] = useState(\"\");\n    const [currency, setCurrency] = useState(\"USD\");\n    const [transactionId, setTransactionId] = useState(\"\");\n    const [paymentGateway, setPaymentGateway] = useState(\"Net Banking\");\n    const [remark, setRemark] = useState(\"\");\n\n    const fileRef = useRef<HTMLInputElement | null>(null);\n    const [receiptFile, setReceiptFile] = useState<File | null>(null);\n\n    const [gatewayModal, setGatewayModal] = useState(false);\n    const [gateways, setGateways] = useState<{ id: number; name: string }[]>([]);\n    const [gatewayInput, setGatewayInput] = useState(\"\");\n\n    useEffect(() => {\n        if (open) {\n            setClient(clientId ? String(clientId) : \"pre filled\");\n        }\n    }, [open, clientId]);\n\n    if (!open) return null;\n\n    // -------------------------------\n    // FETCH GATEWAYS\n    // -------------------------------\n    const fetchGateways = async () => {\n        try {\n            const token = localStorage.getItem(\"accessToken\") || \"\";\n            const res = await fetch(`${BASE_URL}/api/payment-gateways`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n            const data = await res.json();\n            if (Array.isArray(data)) {\n                setGateways(data.map((g: any) => ({ id: g.id, name: g.name })));\n            }\n        } catch (e) {\n            //console.log(\"Failed fetching gateways\");\n        }\n    };\n\n    const saveGateway = async () => {\n        if (!gatewayInput.trim()) return alert(\"Enter gateway name\");\n\n        try {\n            const token = localStorage.getItem(\"accessToken\") || \"\";\n            const res = await fetch(`${BASE_URL}/api/payment-gateways`, {\n                method: \"POST\",\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({ name: gatewayInput }),\n            });\n\n            const created = await res.json();\n            setGateways((prev) => [...prev, created]);\n            setPaymentGateway(created.name);\n            setGatewayModal(false);\n        } catch (err) {\n            alert(\"Failed to save gateway\");\n        }\n    };\n\n    const savePayment = () => {\n        //console.log(\"PAYMENT SAVED:\", {\n            // project,\n            // client,\n            // invoice,\n            // amount,\n            // currency,\n            // transactionId,\n            // paymentGateway,\n            // remark,\n            // receiptName: receiptFile?.name,\n    //    });//\n\n        onSaved?.();\n        onClose();\n    };\n\n    return (\n        <>\n            {/* MAIN PAYMENT MODAL */}\n            <div className=\"fixed inset-0 z-[20000] flex items-center justify-center px-4 py-6\">\n\n                {/* BACKDROP */}\n                <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\n\n                {/* CENTERED MODAL */}\n                <div\n                    className=\"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto\"\n                    onClick={(e) => e.stopPropagation()}\n                >\n                    {/* HEADER */}\n                    <div className=\"flex items-center justify-between p-4 border-b\">\n                        <h3 className=\"text-lg font-semibold\">Add Payment Details</h3>\n                        <button onClick={onClose} className=\"p-2 rounded hover:bg-gray-100\">\n                            <X className=\"w-5 h-5\" />\n                        </button>\n                    </div>\n\n                    {/* CONTENT */}\n                    <div className=\"p-6 space-y-6\">\n                        <div className=\"rounded-lg border p-4\">\n                            <h4 className=\"font-medium mb-3\">Payment Details</h4>\n\n                            {/* GRID */}\n                            <div className=\"grid grid-cols-3 gap-4\">\n                                <Input label=\"Project *\" value={project} setValue={setProject} />\n                                <Input label=\"Client *\" value={client} setValue={setClient} />\n                                <Input label=\"Invoice *\" value={invoice} setValue={setInvoice} />\n                                <Input label=\"Amount *\" value={amount} setValue={setAmount} />\n\n                                {/* Currency */}\n                                <div>\n                                    <label className=\"text-sm text-gray-600\">Currency *</label>\n                                    <select\n                                        className=\"w-full border rounded px-3 py-2\"\n                                        value={currency}\n                                        onChange={(e) => setCurrency(e.target.value)}\n                                    >\n                                        <option value=\"USD\">USD $</option>\n                                        <option value=\"USD\">USD ‚Çπ</option>\n                                        <option value=\"EUR\">EUR ‚Ç¨</option>\n                                    </select>\n                                </div>\n\n                                <Input label=\"Transaction ID\" value={transactionId} setValue={setTransactionId} />\n\n                                {/* Payment Gateway */}\n                                <div className=\"col-span-2\">\n                                    <label className=\"text-sm text-gray-600\">Payment Gateway</label>\n                                    <div className=\"flex gap-2\">\n                                        <select\n                                            className=\"w-full border rounded px-3 py-2\"\n                                            value={paymentGateway}\n                                            onChange={(e) => setPaymentGateway(e.target.value)}\n                                        >\n                                            {gateways.length > 0\n                                                ? gateways.map((g) => <option key={g.id}>{g.name}</option>)\n                                                : [\"Net Banking\", \"Credit Card\", \"PayPal\"].map((g) => (\n                                                    <option key={g}>{g}</option>\n                                                ))}\n                                        </select>\n\n                                        <button\n                                            className=\"px-3 py-2 bg-gray-100 rounded\"\n                                            onClick={() => {\n                                                setGatewayModal(true);\n                                                fetchGateways();\n                                            }}\n                                        >\n                                            Add\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* RECEIPT UPLOAD */}\n                            <div className=\"mt-4\">\n                                <label className=\"text-sm text-gray-600\">Receipt</label>\n                                <div\n                                    className=\"border-2 border-dashed rounded-lg h-28 flex items-center justify-center cursor-pointer text-gray-600\"\n                                    onClick={() => fileRef.current?.click()}\n                                >\n                                    {receiptFile ? receiptFile.name : \"Click or drag file\"}\n                                </div>\n                                <input\n                                    type=\"file\"\n                                    ref={fileRef}\n                                    className=\"hidden\"\n                                    onChange={(e) => setReceiptFile(e.target.files?.[0] ?? null)}\n                                />\n                            </div>\n\n                            {/* REMARK */}\n                            <div className=\"mt-4\">\n                                <label className=\"text-sm text-gray-600\">Remark</label>\n                                <textarea\n                                    rows={4}\n                                    className=\"border rounded w-full p-3\"\n                                    value={remark}\n                                    onChange={(e) => setRemark(e.target.value)}\n                                />\n                            </div>\n                        </div>\n\n                        {/* FOOTER BUTTONS */}\n                        <div className=\"flex justify-end gap-3\">\n                            <button className=\"px-4 py-2 border rounded\" onClick={onClose}>Cancel</button>\n                            <button className=\"px-4 py-2 bg-blue-600 text-white rounded\" onClick={savePayment}>Save</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* -------------------------\n           GATEWAY MODAL\n      -------------------------- */}\n            {gatewayModal && (\n                <div className=\"fixed inset-0 z-[30000] flex items-center justify-center px-4 py-6\">\n\n                    <div className=\"absolute inset-0 bg-black/40\" onClick={() => setGatewayModal(false)} />\n\n                    <div\n                        className=\"relative bg-white w-full max-w-3xl rounded-xl shadow-xl max-h-[90vh] overflow-y-auto p-6\"\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        <div className=\"flex justify-between items-center mb-4\">\n                            <h3 className=\"text-lg font-semibold\">Add Payment Gateway</h3>\n                            <button onClick={() => setGatewayModal(false)}>\n                                <X className=\"w-5 h-5\" />\n                            </button>\n                        </div>\n\n                        {/* LIST */}\n                        <div className=\"rounded border overflow-hidden\">\n                            <div className=\"bg-blue-50 px-4 py-2 flex text-sm font-medium\">\n                                <div className=\"w-1/12\">#</div>\n                                <div className=\"w-10/12\">Gateway</div>\n                                <div className=\"w-1/12 text-center\">Action</div>\n                            </div>\n\n                            <div className=\"px-4 py-2\">\n                                {gateways.length === 0 ? (\n                                    <p className=\"text-gray-500 p-2\">No gateways</p>\n                                ) : (\n                                    gateways.map((g, i) => (\n                                        <div key={g.id} className=\"flex items-center py-2 border-b last:border-none\">\n                                            <div className=\"w-1/12\">{i + 1}</div>\n                                            <div className=\"w-10/12\">{g.name}</div>\n                                            <div className=\"w-1/12 text-center\">\n                                                <Trash2 className=\"text-red-600 cursor-pointer\" size={16} />\n                                            </div>\n                                        </div>\n                                    ))\n                                )}\n                            </div>\n                        </div>\n\n                        {/* INPUT */}\n                        <label className=\"text-sm text-gray-600 block mt-4\">Gateway Name *</label>\n                        <input\n                            value={gatewayInput}\n                            onChange={(e) => setGatewayInput(e.target.value)}\n                            className=\"border rounded w-full px-3 py-2 mt-1\"\n                        />\n\n                        {/* BUTTONS */}\n                        <div className=\"flex justify-end gap-3 mt-4\">\n                            <button className=\"px-4 py-2 border rounded\" onClick={() => setGatewayModal(false)}>Cancel</button>\n                            <button className=\"px-4 py-2 bg-blue-600 text-white rounded\" onClick={saveGateway}>Save</button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </>\n    );\n}\n\n// Input Component\nfunction Input({ label, value, setValue }) {\n    return (\n        <div>\n            <label className=\"text-sm text-gray-600\">{label}</label>\n            <input\n                className=\"w-full border rounded px-3 py-2\"\n                value={value}\n                onChange={(e) => setValue(e.target.value)}\n            />\n        </div>\n    );\n}\n","\"use client\";\n\nimport { X } from \"lucide-react\";\n\nexport default function ViewPaymentDrawer({\n    open,\n    onClose,\n    payment,\n}: {\n    open: boolean;\n    onClose: () => void;\n    payment: any;\n}) {\n    if (!open || !payment) return null;\n\n    return (\n        <div className=\"fixed inset-0 z-[30000]\">\n            <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\n\n            <div\n                className=\"absolute top-0 right-0 h-full bg-white shadow-2xl\"\n                style={{ width: \"83vw\" }}\n                onClick={(e) => e.stopPropagation()}\n            >\n                {/* HEADER */}\n                <div className=\"flex items-center justify-between px-6 py-4 border-b\">\n                    <h2 className=\"text-xl font-semibold\">View Payment</h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded\">\n                        <X />\n                    </button>\n                </div>\n\n                {/* BODY */}\n                <div className=\"p-6 space-y-4 text-sm\">\n                    <Info label=\"Amount\" value={`${payment.currency} ${payment.amount}`} />\n                    <Info label=\"Transaction ID\" value={payment.transactionId} />\n                    <Info label=\"Gateway\" value={payment.paymentGateway?.name} />\n                    <Info label=\"Status\" value={payment.status} />\n                    <Info\n                        label=\"Payment Date\"\n                        value={new Date(payment.paymentDate).toLocaleDateString(\"en-GB\")}\n                    />\n                    <Info label=\"Notes\" value={payment.note ?? \"--\"} />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nconst Info = ({ label, value }: { label: string; value?: string }) => (\n    <div>\n        <div className=\"text-gray-500\">{label}</div>\n        <div className=\"font-medium\">{value ?? \"--\"}</div>\n    </div>\n);\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { X } from \"lucide-react\";\n\nconst BASE_URL =\n    process.env.NEXT_PUBLIC_MAIN ;\n\nexport default function EditPaymentDrawer({\n    open,\n    onClose,\n    payment,\n    onUpdated,\n}: {\n    open: boolean;\n    onClose: () => void;\n    payment: any;\n    onUpdated: () => void;\n}) {\n    const [form, setForm] = useState({\n        amount: payment?.amount ?? \"\",\n        currency: payment?.currency ?? \"USD\",\n        transactionId: payment?.transactionId ?? \"\",\n        paymentGatewayId: payment?.paymentGateway?.id ?? \"\",\n        status: payment?.status ?? \"COMPLETED\",\n        notes: payment?.note ?? \"\",\n    });\n\n    if (!open || !payment) return null;\n\n    const save = async () => {\n        await fetch(`${BASE_URL}/api/payments/${payment.id}`, {\n            method: \"PUT\",\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(form),\n        });\n\n        onUpdated();\n        onClose();\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-[30000]\">\n            <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\n\n            <div\n                className=\"absolute top-0 right-0 h-full bg-white shadow-2xl\"\n                style={{ width: \"83vw\" }}\n                onClick={(e) => e.stopPropagation()}\n            >\n                {/* HEADER */}\n                <div className=\"flex items-center justify-between px-6 py-4 border-b\">\n                    <h2 className=\"text-xl font-semibold\">Edit Payment</h2>\n                    <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded\">\n                        <X />\n                    </button>\n                </div>\n\n                {/* FORM */}\n                <div className=\"p-6 grid grid-cols-2 gap-4\">\n                    <Input label=\"Amount\" value={form.amount}\n                        onChange={(v) => setForm({ ...form, amount: v })} />\n\n                    <Input label=\"Transaction ID\" value={form.transactionId}\n                        onChange={(v) => setForm({ ...form, transactionId: v })} />\n\n                    <Input label=\"Gateway ID\" value={form.paymentGatewayId}\n                        onChange={(v) => setForm({ ...form, paymentGatewayId: v })} />\n\n                    <select\n                        className=\"border rounded px-3 py-2\"\n                        value={form.status}\n                        onChange={(e) => setForm({ ...form, status: e.target.value })}\n                    >\n                        <option value=\"COMPLETED\">COMPLETED</option>\n                        <option value=\"PENDING\">PENDING</option>\n                    </select>\n\n                    <textarea\n                        className=\"col-span-2 border rounded px-3 py-2\"\n                        placeholder=\"Notes\"\n                        value={form.notes}\n                        onChange={(e) => setForm({ ...form, notes: e.target.value })}\n                    />\n\n                    <div className=\"col-span-2 text-right\">\n                        <button\n                            onClick={save}\n                            className=\"px-6 py-2 bg-blue-600 text-white rounded\"\n                        >\n                            Save Changes\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nconst Input = ({ label, value, onChange }: any) => (\n    <div>\n        <label className=\"text-sm text-gray-500\">{label}</label>\n        <input\n            value={value}\n            onChange={(e) => onChange(e.target.value)}\n            className=\"w-full border rounded px-3 py-2\"\n        />\n    </div>\n);\n","\n\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Image from \"next/image\";\nimport {\n    X,\n    MoreHorizontal,\n    Eye,\n    Edit,\n    Trash2,\n} from \"lucide-react\";\n\nimport {\n    DropdownMenu,\n    DropdownMenuTrigger,\n    DropdownMenuContent,\n    DropdownMenuItem,\n} from \"@/components/ui/dropdown-menu\";\nimport ViewPaymentDrawer from \"./ViewPaymentDrawer\";\nimport EditPaymentDrawer from \"./EditPaymentDrawer\";\n\nconst BASE_URL = `${process.env.NEXT_PUBLIC_MAIN}`;\n\nexport default function ViewPaymentsDrawer({\n    open,\n    onClose,\n    invoiceNumber,\n}: {\n    open: boolean;\n    onClose: () => void;\n    invoiceNumber?: string;\n}) {\n    const [payments, setPayments] = useState<any[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [viewPayment, setViewPayment] = useState<any>(null);\n    const [editPayment, setEditPayment] = useState<any>(null);\n\n\n    useEffect(() => {\n        if (!open || !invoiceNumber) return;\n\n        const fetchPayments = async () => {\n            setLoading(true);\n            try {\n                const res = await fetch(\n                    `${BASE_URL}/api/payments/invoice/${invoiceNumber}`,\n                    {\n                        headers: {\n                            Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                        },\n                    }\n                );\n                const data = await res.json();\n                setPayments(Array.isArray(data) ? data : []);\n            } catch (err) {\n                console.error(err);\n                setPayments([]);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchPayments();\n    }, [open, invoiceNumber]);\n\n    if (!open) return null;\n\n    const fetchPayments = async () => {\n        setLoading(true);\n        try {\n            const res = await fetch(\n                `${BASE_URL}/api/payments/invoice/${invoiceNumber}`,\n                {\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                    },\n                }\n            );\n\n            const data = await res.json();\n            setPayments(Array.isArray(data) ? data : []);\n        } catch (err) {\n            console.error(err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n\n    return (\n        <div className=\"fixed inset-0 z-[20000]\">\n            {/* BACKDROP */}\n            <div\n                className=\"absolute inset-0 bg-black/40\"\n                onClick={onClose}\n            />\n\n            {/* DRAWER */}\n            <div\n                className=\"\n          absolute top-0 right-0 h-full bg-white\n          shadow-2xl transition-transform duration-300\n          translate-x-0\n        \"\n                style={{ width: \"83vw\" }}\n                onClick={(e) => e.stopPropagation()}\n            >\n                {/* HEADER */}\n                <div className=\"flex items-center justify-between px-6 py-4 border-b\">\n                    <h2 className=\"text-xl font-semibold\">\n                        Payments ‚Äî {invoiceNumber}\n                    </h2>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 rounded hover:bg-gray-100\"\n                    >\n                        <X size={20} />\n                    </button>\n                </div>\n\n                {/* BODY */}\n                <div className=\"p-6 overflow-y-auto h-[calc(100vh-64px)]\">\n                    {loading ? (\n                        <div className=\"text-center py-10 text-gray-500\">\n                            Loading payments‚Ä¶\n                        </div>\n                    ) : payments.length === 0 ? (\n                        <div className=\"text-center py-10 text-gray-500\">\n                            No payments found\n                        </div>\n                    ) : (\n                        <div className=\"rounded-lg border overflow-hidden\">\n                            {/* TABLE HEADER */}\n                            <div className=\"bg-[#e8f3ff] px-4 py-3 flex text-sm font-medium\">\n                                <div className=\"w-2/12\">Project</div>\n                                <div className=\"w-2/12\">Client</div>\n                                <div className=\"w-2/12\">Amount</div>\n                                <div className=\"w-2/12\">Gateway</div>\n                                <div className=\"w-2/12\">Paid On</div>\n                                <div className=\"w-1/12\">Status</div>\n                                <div className=\"w-10 text-center\">Action</div>\n                            </div>\n\n                            {/* ROWS */}\n                            {payments.map((p) => (\n                                <div\n                                    key={p.id}\n                                    className=\"flex items-center px-4 py-3 border-t text-sm\"\n                                >\n                                    <div className=\"w-2/12\">\n                                        {p.project?.projectName ?? \"--\"}\n                                    </div>\n\n                                    <div className=\"w-2/12 flex items-center gap-2\">\n                                        <div className=\"h-7 w-7 rounded-full overflow-hidden bg-gray-100 relative\">\n                                            {p.client?.profilePictureUrl ? (\n                                                <Image\n                                                    src={p.client.profilePictureUrl}\n                                                    alt=\"client\"\n                                                    fill\n                                                    sizes=\"28px\"\n                                                    className=\"object-cover\"\n                                                    unoptimized\n                                                />\n                                            ) : (\n                                                <div className=\"flex items-center justify-center h-full text-xs\">\n                                                    {p.client?.name?.charAt(0) ?? \"U\"}\n                                                </div>\n                                            )}\n                                        </div>\n                                        <span>{p.client?.name}</span>\n                                    </div>\n\n                                    <div className=\"w-2/12\">\n                                        {p.currency} {p.amount?.toFixed(2)}\n                                    </div>\n\n                                    <div className=\"w-2/12\">\n                                        {p.paymentGateway?.name ?? \"--\"}\n                                    </div>\n\n                                    <div className=\"w-2/12\">\n                                        {new Date(p.paymentDate).toLocaleDateString(\"en-GB\")}\n                                    </div>\n\n                                    <div className=\"w-1/12\">\n                                        {p.status === \"COMPLETED\" ? (\n                                            <span className=\"text-green-600\">‚óè Paid</span>\n                                        ) : (\n                                            <span className=\"text-yellow-600\">{p.status}</span>\n                                        )}\n                                    </div>\n\n                                    {/* ACTION */}\n                                    <div className=\"w-10 text-center\">\n                                        <DropdownMenu modal={false}>\n                                            <DropdownMenuTrigger asChild>\n                                                <button className=\"p-2 rounded hover:bg-gray-100\">\n                                                    <MoreHorizontal size={16} />\n                                                </button>\n                                            </DropdownMenuTrigger>\n\n                                            <DropdownMenuContent\n                                                align=\"end\"\n                                                sideOffset={6}\n                                                className=\"z-[30000]\"\n                                            >\n                                                <DropdownMenuItem onClick={() => setViewPayment(p)}>\n                                                    View\n                                                </DropdownMenuItem>\n\n                                                <DropdownMenuItem onClick={() => setEditPayment(p)}>\n                                                    Edit\n                                                </DropdownMenuItem>\n\n                                                <DropdownMenuItem\n                                                    className=\"text-red-600\"\n                                                    onClick={() => {\n                                                        if (!confirm(\"Delete this payment?\")) return;\n                                                        fetch(\n                                                            `${BASE_URL}/api/payments/${p.id}`,\n                                                            {\n                                                                method: \"DELETE\",\n                                                                headers: {\n                                                                    Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                                                                },\n                                                            }\n                                                        ).then(() =>\n                                                            setPayments((s) =>\n                                                                s.filter((x) => x.id !== p.id)\n                                                            )\n                                                        );\n                                                    }}\n                                                >\n                                                    <Trash2 className=\"mr-2 h-4 w-4\" /> Delete\n                                                </DropdownMenuItem>\n                                            </DropdownMenuContent>\n                                        </DropdownMenu>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n\n                <ViewPaymentDrawer\n                    open={!!viewPayment}\n                    payment={viewPayment}\n                    onClose={() => setViewPayment(null)}\n                />\n\n                <EditPaymentDrawer\n                    open={!!editPayment}\n                    payment={editPayment}\n                    onClose={() => setEditPayment(null)}\n                    onUpdated={fetchPayments}\n                />\n            </div>\n        </div>\n    );\n}\n","\"use client\";\n\nimport { X } from \"lucide-react\";\nimport { useState } from \"react\";\n\nconst BASE_URL = process.env.NEXT_PUBLIC_MAIN!;\n\nexport default function CreateCreditNoteDrawer({\n    open,\n    onClose,\n    invoiceNumber,\n    onCreated,\n}: {\n    open: boolean;\n    onClose: () => void;\n    invoiceNumber?: string;\n    onCreated: () => void;\n}) {\n    const [form, setForm] = useState({\n        creditNoteNumber: \"\",\n        creditNoteDate: \"\",\n        currency: \"USD\",\n        adjustment: \"\",\n        adjustmentPositive: false,\n        tax: \"\",\n        amount: \"\",\n        notes: \"\",\n    });\n\n    const [file, setFile] = useState<File | null>(null);\n    const [loading, setLoading] = useState(false);\n\n    if (!open) return null;\n\n    const handleSubmit = async () => {\n        if (!invoiceNumber) return;\n\n        const fd = new FormData();\n        fd.append(\n            \"creditNote\",\n            JSON.stringify({\n                ...form,\n                adjustment: Number(form.adjustment),\n                tax: Number(form.tax),\n                amount: Number(form.amount),\n            })\n        );\n        if (file) fd.append(\"file\", file);\n\n        setLoading(true);\n        try {\n            await fetch(\n                `${BASE_URL}/api/invoices/${invoiceNumber}/credit-notes`,\n                {\n                    method: \"POST\",\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                    },\n                    body: fd,\n                }\n            );\n\n            onCreated();\n            onClose();\n        } catch (e) {\n            alert(\"Failed to create credit note\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-[30000]\">\n            <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\n\n            <div className=\"absolute right-0 top-0 h-full w-[83vw] bg-white shadow-xl transition-all\">\n                <div className=\"flex justify-between items-center p-4 border-b\">\n                    <h3 className=\"text-lg font-semibold\">\n                        Create Credit Note ‚Äî {invoiceNumber}\n                    </h3>\n                    <button onClick={onClose}><X /></button>\n                </div>\n\n                <div className=\"p-6 grid grid-cols-3 gap-4\">\n                    {[\n                        [\"Credit Note No\", \"creditNoteNumber\"],\n                        [\"Date\", \"creditNoteDate\", \"date\"],\n                        [\"Currency\", \"currency\"],\n                        [\"Adjustment\", \"adjustment\"],\n                        [\"Tax\", \"tax\"],\n                        [\"Amount\", \"amount\"],\n                    ].map(([label, key, type]) => (\n                        <div key={key}>\n                            <label className=\"text-sm\">{label}</label>\n                            <input\n                                type={type || \"text\"}\n                                className=\"w-full border px-3 py-2 rounded\"\n                                value={(form as any)[key]}\n                                onChange={e =>\n                                    setForm(f => ({ ...f, [key]: e.target.value }))\n                                }\n                            />\n                        </div>\n                    ))}\n\n                    <div className=\"col-span-3\">\n                        <label className=\"text-sm\">Notes</label>\n                        <textarea\n                            className=\"w-full border rounded p-3\"\n                            rows={3}\n                            onChange={e =>\n                                setForm(f => ({ ...f, notes: e.target.value }))\n                            }\n                        />\n                    </div>\n\n                    <div className=\"col-span-3\">\n                        <label className=\"text-sm\">Upload File</label>\n                        <input\n                            type=\"file\"\n                            onChange={e => setFile(e.target.files?.[0] || null)}\n                        />\n                    </div>\n                </div>\n\n                <div className=\"p-4 border-t flex justify-end gap-3\">\n                    <button onClick={onClose} className=\"border px-4 py-2 rounded\">\n                        Cancel\n                    </button>\n                    <button\n                        disabled={loading}\n                        onClick={handleSubmit}\n                        className=\"bg-blue-600 text-white px-4 py-2 rounded\"\n                    >\n                        Create\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { X, FileText } from \"lucide-react\";\n\nconst BASE_URL = process.env.NEXT_PUBLIC_MAIN!;\n\nexport default function ViewCreditNotesDrawer({\n    open,\n    onClose,\n    invoiceNumber,\n}: {\n    open: boolean;\n    onClose: () => void;\n    invoiceNumber?: string;\n}) {\n    const [notes, setNotes] = useState<any[]>([]);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        if (!open || !invoiceNumber) return;\n\n        const fetchNotes = async () => {\n            setLoading(true);\n            const res = await fetch(\n                `${BASE_URL}/api/invoices/${invoiceNumber}/credit-notes`,\n                {\n                    headers: {\n                        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\n                    },\n                }\n            );\n            setNotes(await res.json());\n            setLoading(false);\n        };\n\n        fetchNotes();\n    }, [open, invoiceNumber]);\n\n    if (!open) return null;\n\n    return (\n        <div className=\"fixed inset-0 z-[30000]\">\n            <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\n\n            <div className=\"absolute right-0 top-0 h-full w-[83vw] bg-white shadow-xl\">\n                <div className=\"flex justify-between items-center p-4 border-b\">\n                    <h3 className=\"text-lg font-semibold\">\n                        Credit Notes ‚Äî {invoiceNumber}\n                    </h3>\n                    <button onClick={onClose}><X /></button>\n                </div>\n\n                <div className=\"p-6\">\n                    {loading ? \"Loading...\" : (\n                        <table className=\"w-full border\">\n                            <thead className=\"bg-gray-100\">\n                                <tr>\n                                    <th className=\"p-2\">CN No</th>\n                                    <th>Amount</th>\n                                    <th>Date</th>\n                                    <th>Notes</th>\n                                    <th>File</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {notes.map(n => (\n                                    <tr key={n.id} className=\"border-t\">\n                                        <td className=\"p-2\">{n.creditNoteNumber}</td>\n                                        <td>{n.currency} {n.amount}</td>\n                                        <td>{n.creditNoteDate}</td>\n                                        <td>{n.notes}</td>\n                                        <td>\n                                            {n.fileUrl && (\n                                                <button onClick={() => window.open(n.fileUrl)}>\n                                                    <FileText size={16} />\n                                                </button>\n                                            )}\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}