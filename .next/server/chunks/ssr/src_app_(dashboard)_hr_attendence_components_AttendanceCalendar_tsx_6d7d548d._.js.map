{"version":3,"sources":["turbopack:///[project]/src/app/(dashboard)/hr/attendence/components/AttendanceCalendar.tsx","turbopack:///[project]/src/app/(dashboard)/hr/attendence/components/MarkAttendanceModal.tsx","turbopack:///[project]/src/app/(dashboard)/hr/attendence/components/AttendanceDetailModal.tsx"],"sourcesContent":["\n\"use client\"\n\nimport useSWR, { mutate } from \"swr\"\n\nimport { useState, useMemo, useEffect } from \"react\"\nimport MarkAttendanceModal from \"./MarkAttendanceModal\"\nimport AttendanceDetailModal from \"./AttendanceDetailModal\"\nimport { Button } from \"@/components/ui/button\"\nimport { List, User } from \"lucide-react\"\n\n\nconst BASE_URL = process.env.NEXT_PUBLIC_MAIN\n\n// ---------------- TYPES ----------------\ninterface Attendance {\n    date: string\n    employeeId: string\n    employeeName: string\n    profilePictureUrl?: string\n    status: \"PRESENT\" | \"ABSENT\" | \"HOLIDAY\" | \"LEAVE\"\n    late: boolean\n    halfDay: boolean\n}\n\nconst ATTENDANCE_KEY = `${BASE_URL}/employee/attendance/GetAllAttendance`\n\n\n// ---------------- FETCHER ----------------\nconst fetcher = async (url: string) => {\n    const token = localStorage.getItem(\"accessToken\")\n    if (!token) throw new Error(\"No token\")\n    //console.log(\"urlllll\", url)\n\n    const res = await fetch(`${BASE_URL}/employee/attendance/GetAllAttendance`, {\n        headers: { Authorization: `Bearer ${token}` },\n    })\n\n    if (!res.ok) throw new Error(\"Failed to fetch attendance\")\n    return res.json()\n}\n\n// ---------------- STATUS ICONS ----------------\nconst STATUS_ICON: Record<string, JSX.Element> = {\n    PRESENT: <span className=\"text-green-600\">‚úî</span>,\n    HOLIDAY: <span className=\"text-yellow-500\">‚òÖ</span>,\n    LEAVE: <span className=\"text-red-500\">‚õî</span>,\n    ABSENT: <span className=\"text-gray-400\">‚Äî</span>,\n}\n\n// ================= COMPONENT =================\nexport default function AttendanceCalendar() {\n    const today = new Date()\n\n    const [month, setMonth] = useState(today.getMonth() + 1)\n    const [year, setYear] = useState(today.getFullYear())\n    const [open, setOpen] = useState(false)\n    const [selectedDay, setSelectedDay] = useState<Attendance | null>(null)\n    const [openDetail, setOpenDetail] = useState(false)\n\n    // ---------------- API ----------------\n    const { data, isLoading } = useSWR<Attendance[]>(\n        ATTENDANCE_KEY,\n        fetcher,\n        { revalidateOnFocus: false }\n    )\n\n    useEffect(() => {\n        fetcher\n    }, [open])\n\n    // ---------------- GROUP BY EMPLOYEE ----------------\n    const groupedAttendance = useMemo(() => {\n        const map: Record<\n            string,\n            {\n                employeeName: string\n                profilePictureUrl?: string\n                records: Record<string, Attendance>\n            }\n        > = {}\n\n        data?.forEach((a) => {\n            if (!map[a.employeeId]) {\n                map[a.employeeId] = {\n                    employeeName: a.employeeName,\n                    profilePictureUrl: a.profilePictureUrl,\n                    records: {},\n                }\n            }\n            map[a.employeeId].records[a.date] = a\n        })\n\n        return map\n    }, [data])\n\n    const daysInMonth = new Date(year, month, 0).getDate()\n\n    if (isLoading) {\n        return <div className=\"text-sm text-gray-500\">Loading attendance‚Ä¶</div>\n    }\n\n    return (\n        <div className=\"bg-white border rounded-lg p-4 space-y-4\">\n            {/* ================= HEADER ================= */}\n            <div className=\"flex items-center justify-between\">\n                <button\n                    onClick={() => setOpen(true)}\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded text-sm\"\n                >\n                    + Mark Attendance\n                </button>\n\n                <div className=\"flex items-center gap-2 text-sm\">\n                    <select\n                        value={month}\n                        onChange={(e) => setMonth(Number(e.target.value))}\n                        className=\"border rounded px-4 py-2\"\n                    >\n                        {Array.from({ length: 12 }).map((_, i) => (\n                            <option key={i} value={i + 1}>\n                                {new Date(0, i).toLocaleString(\"default\", { month: \"long\" })}\n                            </option>\n                        ))}\n                    </select>\n\n                    <select\n                        value={year}\n                        onChange={(e) => setYear(Number(e.target.value))}\n                        className=\"border rounded px-4 py-2\"\n                    >\n                        {[2025, 2026, 2027, 2028].map((y) => (\n                            <option key={y}>{y}</option>\n                        ))}\n                    </select>\n                </div>\n\n\n            </div>\n\n            {/* ================= LEGEND ================= */}\n            <div className=\"flex gap-4 text-xs text-gray-600\">\n                <span>‚òÖ Holiday</span>\n                <span>‚úî Present</span>\n                <span>‚õî Leave</span>\n                <span>‚è∞ Late</span>\n                <span>¬Ω Half Day</span>\n            </div>\n\n            {/* ================= TABLE ================= */}\n            <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full border text-xs\">\n                    <thead className=\"bg-gray-50\">\n                        <tr>\n                            <th className=\"px-3 py-2 text-left\">Employee</th>\n                            {Array.from({ length: daysInMonth }).map((_, i) => (\n                                <th key={i} className=\"px-2 py-2 text-center\">\n                                    {i + 1}\n                                </th>\n                            ))}\n                            <th className=\"px-3 py-2\">Total</th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        {Object.entries(groupedAttendance).map(([empId, emp]) => (\n                            <tr key={empId} className=\"border-t\">\n                                {/* EMPLOYEE */}\n                                <td className=\"px-3 py-2 font-medium flex items-center gap-2\">\n                                    {emp.profilePictureUrl && (\n                                        <img\n                                            src={emp.profilePictureUrl}\n                                            className=\"w-6 h-6 rounded-full\"\n                                            alt=\"\"\n                                        />\n                                    )}\n                                    <div>\n                                        <div>{emp.employeeName}</div>\n                                        <div className=\"text-[10px] text-gray-500\">{empId}</div>\n                                    </div>\n                                </td>\n\n                                {/* DAYS */}\n                                {Array.from({ length: daysInMonth }).map((_, i) => {\n                                    const day = String(i + 1).padStart(2, \"0\")\n                                    const dateKey = `${year}-${String(month).padStart(2, \"0\")}-${day}`\n                                    const att = emp.records[dateKey]\n\n                                    return (\n                                        <td key={i} className=\"px-2 py-2 text-center\">\n                                            {att ? (\n                                                <button\n                                                    onClick={() => {\n                                                        setSelectedDay(att)\n                                                        setOpenDetail(true)\n                                                    }}\n                                                    className=\"flex flex-col items-center text-xs hover:scale-110 transition\"\n                                                >\n                                                    {STATUS_ICON[att.status]}\n                                                    {att.late && <span>‚è∞</span>}\n                                                    {att.halfDay && <span>¬Ω</span>}\n                                                </button>\n                                            ) : (\n                                                \"--\"\n                                            )}\n                                        </td>\n                                    )\n                                })}\n\n                                {/* TOTAL */}\n                                <td className=\"px-3 py-2 text-center font-semibold\">\n                                    {\n                                        Object.values(emp.records).filter(\n                                            (a) =>\n                                                a.status === \"PRESENT\" &&\n                                                a.date.startsWith(\n                                                    `${year}-${String(month).padStart(2, \"0\")}`\n                                                )\n                                        ).length\n                                    }\n                                    /{daysInMonth}\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n\n            {/* ================= MODALS ================= */}\n            <MarkAttendanceModal\n                open={open}\n                onClose={() => {\n                    setOpen(false)\n                    mutate(ATTENDANCE_KEY) // üî• refresh table\n                }}\n            />\n\n\n            <AttendanceDetailModal\n                open={openDetail}\n                onClose={() => setOpenDetail(false)}\n                data={selectedDay}\n            />\n        </div>\n    )\n}\n","\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\n\nconst BASE_URL = process.env.NEXT_PUBLIC_MAIN;\n\ntype MarkBy = \"DATE\" | \"MONTH\";\n\ninterface Employee {\n    employeeId: string;\n    name: string;\n    profilePictureUrl: string | null;\n    role: string;\n    active: boolean;\n}\n\nexport default function MarkAttendanceModal({\n    open,\n    onClose,\n}: {\n    open: boolean;\n    onClose: () => void;\n}) {\n    const [loading, setLoading] = useState(false);\n    const [markBy, setMarkBy] = useState<MarkBy>(\"MONTH\");\n    const [dates, setDates] = useState<string[]>([]);\n    const [employees, setEmployees] = useState<Employee[]>([]);\n    const [employeeOpen, setEmployeeOpen] = useState(false);\n    const router = useRouter()\n\n    const [form, setForm] = useState({\n        employeeId: \"\",\n        year: new Date().getFullYear(),\n        month: new Date().getMonth() + 1,\n\n        clockInTime: \"09:00\",\n        clockOutTime: \"17:00\",\n        clockInLocation: \"Office\",\n        clockOutLocation: \"Office\",\n        clockInWorkingFrom: \"Office\",\n        clockOutWorkingFrom: \"Office\",\n\n        late: false,\n        halfDay: false,\n        overwrite: false,\n    });\n\n    /* ================= FETCH EMPLOYEES ================= */\n    useEffect(() => {\n        if (!open) return;\n\n        const fetchEmployees = async () => {\n            const token = localStorage.getItem(\"accessToken\");\n            if (!token) return;\n\n            const res = await fetch(`${BASE_URL}/employee/all`, {\n                headers: { Authorization: `Bearer ${token}` },\n            });\n\n            if (!res.ok) return;\n\n            const data = await res.json();\n            setEmployees(data.filter((e: Employee) => e.active));\n        };\n\n        fetchEmployees();\n    }, [open]);\n\n    if (!open) return null;\n\n    /* ================= SUBMIT ================= */\n    const handleSubmit = async () => {\n        if (!form.employeeId) {\n            alert(\"Please select employee\");\n            return;\n        }\n\n        if (markBy === \"DATE\" && !dates.length) {\n            alert(\"Please select date\");\n            return;\n        }\n\n        setLoading(true);\n\n        try {\n            const token = localStorage.getItem(\"accessToken\");\n            if (!token) throw new Error(\"Unauthorized\");\n\n            const payloadBase = {\n                clockInTime: form.clockInTime,\n                clockInLocation: form.clockInLocation,\n                clockInWorkingFrom: form.clockInWorkingFrom,\n                clockOutTime: form.clockOutTime,\n                clockOutLocation: form.clockOutLocation,\n                clockOutWorkingFrom: form.clockOutWorkingFrom,\n                late: form.late,\n                halfDay: form.halfDay,\n            };\n\n            let url = \"\";\n            let body: any = {};\n\n            if (markBy === \"DATE\") {\n                url = `${BASE_URL}/employee/attendance/mark`;\n                body = {\n                    employeeIds: [form.employeeId],\n                    dates,\n                    payload: payloadBase,\n                    overwrite: form.overwrite,\n                    markedBy: form.employeeId,\n                };\n            } else {\n                url = `${BASE_URL}/employee/attendance/mark/month`;\n                body = {\n                    year: form.year,\n                    month: form.month,\n                    employeeIds: [form.employeeId],\n                    payload: payloadBase,\n                    overwrite: form.overwrite,\n                    markedBy: form.employeeId,\n                };\n            }\n\n            const res = await fetch(url, {\n                method: \"POST\",\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(body),\n            });\n\n            if (!res.ok) throw new Error(\"Failed to mark attendance\");\n            router.push(\"/hr/attendence\")\n            onClose();\n\n        } catch (err: any) {\n            alert(err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40\">\n            <div className=\"bg-white w-full max-w-3xl rounded-xl shadow-lg\">\n\n                {/* HEADER */}\n                <div className=\"flex justify-between px-6 py-4 border-b\">\n                    <h2 className=\"font-semibold\">Mark Attendance</h2>\n                    <button onClick={onClose}>√ó</button>\n                </div>\n\n                {/* BODY */}\n                <div className=\"p-6 space-y-6\">\n\n                    {/* EMPLOYEE SELECT */}\n                    <div className=\"relative\">\n                        <label className=\"text-sm font-medium\">Employee *</label>\n\n                        <button\n                            onClick={() => setEmployeeOpen(!employeeOpen)}\n                            className=\"w-full mt-1 border rounded-lg px-3 py-2 text-left\"\n                        >\n                            {form.employeeId\n                                ? employees.find(e => e.employeeId === form.employeeId)?.name\n                                : \"Select employee\"}\n                        </button>\n\n                        {employeeOpen && (\n                            <div className=\"absolute z-50 w-full bg-white border rounded-lg shadow mt-1 max-h-60 overflow-y-auto\">\n                                {employees.map(emp => (\n                                    <div\n                                        key={emp.employeeId}\n                                        onClick={() => {\n                                            setForm({ ...form, employeeId: emp.employeeId });\n                                            setEmployeeOpen(false);\n                                        }}\n                                        className=\"px-3 py-2 hover:bg-gray-100 cursor-pointer flex gap-2\"\n                                    >\n                                        {emp.profilePictureUrl ? (\n                                            <img\n                                                src={emp.profilePictureUrl}\n                                                className=\"w-6 h-6 rounded-full\"\n                                            />\n                                        ) : (\n                                            <div className=\"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center text-xs\">\n                                                {emp.name[0]}\n                                            </div>\n                                        )}\n                                        <span>{emp.name}</span>\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </div>\n\n                    {/* MARK BY */}\n                    <div className=\"flex gap-6 text-sm\">\n                        <span className=\"font-medium\">Mark Attendance by</span>\n                        <label>\n                            <input\n                                type=\"radio\"\n                                checked={markBy === \"MONTH\"}\n                                onChange={() => setMarkBy(\"MONTH\")}\n                            />{\" \"}\n                            Month\n                        </label>\n                        <label>\n                            <input\n                                type=\"radio\"\n                                checked={markBy === \"DATE\"}\n                                onChange={() => setMarkBy(\"DATE\")}\n                            />{\" \"}\n                            Date\n                        </label>\n                    </div>\n\n                    {/* MONTH */}\n                    {markBy === \"MONTH\" && (\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            <Field label=\"Year\">\n                                <input\n                                    type=\"number\"\n                                    value={form.year}\n                                    onChange={e => setForm({ ...form, year: +e.target.value })}\n                                    className=\"input border rounded-xl py-2 px-4\"\n                                />\n                            </Field>\n\n                            <Field label=\"Month\">\n                                <select\n                                    value={form.month}\n                                    onChange={e => setForm({ ...form, month: +e.target.value })}\n                                    className=\"input border rounded-xl py-2 px-4\"\n                                >\n                                    {Array.from({ length: 12 }).map((_, i) => (\n                                        <option key={i} value={i + 1}>\n                                            {new Date(0, i).toLocaleString(\"default\", { month: \"long\" })}\n                                        </option>\n                                    ))}\n                                </select>\n                            </Field>\n                        </div>\n                    )}\n\n                    {/* DATE */}\n                    {markBy === \"DATE\" && (\n                        <Field label=\"Select Date\">\n                            <input\n                                type=\"date\"\n                                onChange={e => setDates([e.target.value])}\n                                className=\"input border rounded-xl py-2 px-4\"\n                            />\n                        </Field>\n                    )}\n\n                    {/* TIME */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <Field label=\"Clock In\">\n                            <input\n                                type=\"time\"\n                                value={form.clockInTime}\n                                onChange={e => setForm({ ...form, clockInTime: e.target.value })}\n                                className=\"input border rounded-xl py-2 px-4\"\n                            />\n                        </Field>\n\n                        <Field label=\"Clock Out\">\n                            <input\n                                type=\"time\"\n                                value={form.clockOutTime}\n                                onChange={e => setForm({ ...form, clockOutTime: e.target.value })}\n                                className=\"input border rounded-xl py-2 px-4\"\n                            />\n                        </Field>\n                    </div>\n\n                    {/* FLAGS */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <Radio label=\"Late\" value={form.late} onChange={v => setForm({ ...form, late: v })} />\n                        <Radio label=\"Half Day\" value={form.halfDay} onChange={v => setForm({ ...form, halfDay: v })} />\n                    </div>\n\n                    <label className=\"flex gap-2 text-sm\">\n                        <input\n                            type=\"checkbox\"\n                            checked={form.overwrite}\n                            onChange={e => setForm({ ...form, overwrite: e.target.checked })}\n                        />\n                        Attendance Overwrite\n                    </label>\n                </div>\n\n                {/* FOOTER */}\n                <div className=\"flex justify-end gap-4 px-6 py-4 border-t\">\n                    <button onClick={onClose} className=\"border px-4 py-2 rounded\">\n                        Cancel\n                    </button>\n                    <button\n                        onClick={handleSubmit}\n                        disabled={loading}\n                        className=\"bg-blue-600 text-white px-6 py-2 rounded\"\n                    >\n                        {loading ? \"Saving...\" : \"Update\"}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n/* HELPERS */\nconst Field = ({ label, children }: any) => (\n    <div className=\"flex flex-col gap-1\">\n        <label className=\"text-xs text-gray-600\">{label}</label>\n        {children}\n    </div>\n);\n\nconst Radio = ({ label, value, onChange }: any) => (\n    <div className=\"flex gap-4 text-sm\">\n        <span>{label}</span>\n        <label>\n            <input type=\"radio\" checked={value} onChange={() => onChange(true)} /> Yes\n        </label>\n        <label>\n            <input type=\"radio\" checked={!value} onChange={() => onChange(false)} /> No\n        </label>\n    </div>\n);\n","\n\"use client\"\n\nimport { useState } from \"react\"\n\nconst BASE_URL = process.env.NEXT_PUBLIC_MAIN\n\nexport default function AttendanceDetailModal({\n    open,\n    onClose,\n    data,\n    onUpdated,\n}: {\n    open: boolean\n    onClose: () => void\n    data: any\n    onUpdated?: () => void\n}) {\n    const [menuOpen, setMenuOpen] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [mode, setMode] = useState<\"view\" | \"edit\">(\"view\")\n\n    if (!open || !data) return null\n\n    const employeeId = data.employeeId\n    const date = data.date\n\n    /* ================= DELETE ================= */\n\n    const handleDelete = async () => {\n        if (!confirm(\"Are you sure you want to delete this attendance?\")) return\n\n        try {\n            setLoading(true)\n            const token = localStorage.getItem(\"accessToken\")\n\n            await fetch(\n                `${BASE_URL}/employee/attendance/delete?employeeId=${employeeId}&date=${date}`,\n                {\n                    method: \"DELETE\",\n                    headers: { Authorization: `Bearer ${token}` },\n                }\n            )\n\n            onClose()\n            onUpdated?.()\n        } catch {\n            alert(\"Failed to delete attendance\")\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    /* ================= VIEW ================= */\n\n    const formatTime = (t?: string) =>\n        t\n            ? new Date(`1970-01-01T${t}`).toLocaleTimeString([], {\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n            })\n            : \"--\"\n\n    const duration =\n        data.clockInTime && data.clockOutTime\n            ? calcDuration(data.clockInTime, data.clockOutTime)\n            : \"‚Äî\"\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40\">\n            <div className=\"bg-white w-full max-w-4xl rounded-xl shadow-lg relative\">\n\n                {/* ================= HEADER ================= */}\n                <div className=\"flex justify-between items-center px-6 py-4 border-b\">\n                    <h2 className=\"text-lg font-semibold\">\n                        {mode === \"view\" ? \"Attendance Details\" : \"Edit Attendance\"}\n                    </h2>\n\n                    <div className=\"flex items-center gap-3 relative\">\n                        {mode === \"view\" && (\n                            <>\n                                <button\n                                    onClick={() => setMenuOpen(v => !v)}\n                                    className=\"text-xl px-2 hover:bg-gray-100 rounded\"\n                                >\n                                    ‚ãÆ\n                                </button>\n\n                                {menuOpen && (\n                                    <div className=\"absolute right-0 top-10 w-32 bg-white border rounded-lg shadow-md z-10\">\n                                        <button\n                                            onClick={() => {\n                                                setMenuOpen(false)\n                                                setMode(\"edit\")\n                                            }}\n                                            className=\"w-full text-left px-4 py-2 hover:bg-gray-50\"\n                                        >\n                                            ‚úè Edit\n                                        </button>\n                                        <button\n                                            onClick={handleDelete}\n                                            disabled={loading}\n                                            className=\"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50\"\n                                        >\n                                            üóë Delete\n                                        </button>\n                                    </div>\n                                )}\n                            </>\n                        )}\n\n                        <button onClick={onClose} className=\"text-2xl\">√ó</button>\n                    </div>\n                </div>\n\n                {/* ================= BODY ================= */}\n                {mode === \"view\" ? (\n                    <div className=\"grid grid-cols-2 gap-6 p-6\">\n                        {/* LEFT */}\n                        <div className=\"border rounded-lg p-4 space-y-4\">\n                            <h3 className=\"font-medium\">\n                                Date ‚Äì {data.date} (\n                                {new Date(data.date).toLocaleDateString(\"en-US\", {\n                                    weekday: \"long\",\n                                })}\n                                )\n                            </h3>\n\n                            <Info label=\"Clock In\" value={formatTime(data.clockInTime)} />\n\n                            <div className=\"flex justify-center py-6\">\n                                <div className=\"w-32 h-32 rounded-full border-4 border-blue-500 flex items-center justify-center text-lg font-semibold\">\n                                    {duration}\n                                </div>\n                            </div>\n\n                            <Info label=\"Clock Out\" value={formatTime(data.clockOutTime)} />\n                        </div>\n\n                        {/* RIGHT */}\n                        <div className=\"border rounded-lg p-4 space-y-6\">\n                            <Activity\n                                title=\"Clock In\"\n                                time={formatTime(data.clockInTime)}\n                                location={data.clockInLocation}\n                                workingFrom={data.clockInWorkingFrom}\n                                late={data.late}\n                            />\n\n                            <Activity\n                                title=\"Clock Out\"\n                                time={\n                                    data.clockOutTime\n                                        ? formatTime(data.clockOutTime)\n                                        : \"Did not clock out\"\n                                }\n                                location={data.clockOutLocation}\n                                workingFrom={data.clockOutWorkingFrom}\n                            />\n\n                            <div className=\"flex flex-wrap gap-2 pt-2 text-sm\">\n                                {data.holiday && badge(\"Holiday\", \"‚≠ê\")}\n                                {data.leave && badge(\"Leave\", \"‚õî\")}\n                                {data.late && badge(\"Late\", \"‚è∞\")}\n                                {data.halfDay && badge(\"Half Day\", \"¬Ω\")}\n                                {data.isPresent && badge(\"Present\", \"‚úî\")}\n                            </div>\n                        </div>\n                    </div>\n                ) : (\n                    <EditAttendanceForm\n                        data={data}\n                        onCancel={() => setMode(\"view\")}\n                        onSaved={() => {\n                            setMode(\"view\")\n                            onUpdated?.()\n                            onClose()\n                        }}\n                    />\n                )}\n            </div>\n        </div>\n    )\n}\n\n/* ================= EDIT FORM ================= */\n\nfunction EditAttendanceForm({\n    data,\n    onCancel,\n    onSaved,\n}: {\n    data: any\n    onCancel: () => void\n    onSaved: () => void\n}) {\n    const [saving, setSaving] = useState(false)\n\n    const [form, setForm] = useState({\n        clockInTime: data.clockInTime || \"\",\n        clockInLocation: data.clockInLocation || \"\",\n        clockInWorkingFrom: data.clockInWorkingFrom || \"\",\n        clockOutTime: data.clockOutTime || \"\",\n        clockOutLocation: data.clockOutLocation || \"\",\n        clockOutWorkingFrom: data.clockOutWorkingFrom || \"\",\n        late: !!data.late,\n        halfDay: !!data.halfDay,\n    })\n\n    const handleSave = async () => {\n        try {\n            setSaving(true)\n            const token = localStorage.getItem(\"accessToken\")\n\n            await fetch(\n                `${BASE_URL}/employee/attendance/edit?employeeId=${data.employeeId}&date=${data.date}&overwrite=true&markedBy=ADMIN`,\n                {\n                    method: \"PATCH\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        Authorization: `Bearer ${token}`,\n                    },\n                    body: JSON.stringify(form),\n                }\n            )\n\n            onSaved()\n        } catch {\n            alert(\"Failed to update attendance\")\n        } finally {\n            setSaving(false)\n        }\n    }\n\n    return (\n        <div className=\"p-6 space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n                <Input label=\"Clock In Time\" type=\"time\" value={form.clockInTime}\n                    onChange={v => setForm({ ...form, clockInTime: v })} />\n\n                <Input label=\"Clock Out Time\" type=\"time\" value={form.clockOutTime}\n                    onChange={v => setForm({ ...form, clockOutTime: v })} />\n\n                <Input label=\"Clock In Location\" value={form.clockInLocation}\n                    onChange={v => setForm({ ...form, clockInLocation: v })} />\n\n                <Input label=\"Clock Out Location\" value={form.clockOutLocation}\n                    onChange={v => setForm({ ...form, clockOutLocation: v })} />\n\n                <Input label=\"Working From (In)\" value={form.clockInWorkingFrom}\n                    onChange={v => setForm({ ...form, clockInWorkingFrom: v })} />\n\n                <Input label=\"Working From (Out)\" value={form.clockOutWorkingFrom}\n                    onChange={v => setForm({ ...form, clockOutWorkingFrom: v })} />\n            </div>\n\n            <div className=\"flex gap-6\">\n                <label className=\"flex items-center gap-2\">\n                    <input type=\"checkbox\" checked={form.late}\n                        onChange={e => setForm({ ...form, late: e.target.checked })} />\n                    Late\n                </label>\n\n                <label className=\"flex items-center gap-2\">\n                    <input type=\"checkbox\" checked={form.halfDay}\n                        onChange={e => setForm({ ...form, halfDay: e.target.checked })} />\n                    Half Day\n                </label>\n            </div>\n\n            <div className=\"flex justify-end gap-3 pt-4\">\n                <button onClick={onCancel} className=\"px-4 py-2 border rounded\">\n                    Cancel\n                </button>\n                <button\n                    onClick={handleSave}\n                    disabled={saving}\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded\"\n                >\n                    Save Changes\n                </button>\n            </div>\n        </div>\n    )\n}\n\n/* ================= HELPERS ================= */\n\nconst Info = ({ label, value }: any) => (\n    <div className=\"bg-gray-50 border rounded-lg p-3\">\n        <div className=\"text-sm text-gray-500\">{label}</div>\n        <div className=\"font-medium\">{value}</div>\n    </div>\n)\n\nconst Activity = ({ title, time, location, workingFrom, late }: any) => (\n    <div>\n        <div className=\"font-medium\">{title}</div>\n        <div className=\"text-sm text-gray-600 flex gap-3 items-center\">\n            ‚è± {time}\n            {location && <>üìç {location}</>}\n            {workingFrom && <>({workingFrom})</>}\n            {late && <span className=\"text-red-500\">‚ö† Late</span>}\n        </div>\n    </div>\n)\n\nconst badge = (label: string, icon: string) => (\n    <span className=\"flex items-center gap-1 px-2 py-1 border rounded text-xs\">\n        {icon} {label}\n    </span>\n)\n\nfunction Input({ label, value, onChange, type = \"text\" }: any) {\n    return (\n        <div>\n            <label className=\"text-sm text-gray-500\">{label}</label>\n            <input\n                type={type}\n                value={value}\n                onChange={e => onChange(e.target.value)}\n                className=\"w-full border rounded px-3 py-2\"\n            />\n        </div>\n    )\n}\n\nfunction calcDuration(start: string, end: string) {\n    const s = new Date(`1970-01-01T${start}`)\n    const e = new Date(`1970-01-01T${end}`)\n    const diff = (e.getTime() - s.getTime()) / 1000\n    const h = Math.floor(diff / 3600)\n    const m = Math.floor((diff % 3600) / 60)\n    return `${h}h ${m}m`\n}\n"],"names":[],"mappings":"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"}