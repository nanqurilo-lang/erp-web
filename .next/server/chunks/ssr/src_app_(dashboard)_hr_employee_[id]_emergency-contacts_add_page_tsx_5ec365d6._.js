module.exports=[47772,a=>{"use strict";a.s(["default",()=>d]);var b=a.i(187924),c=a.i(572131);function d({open:a,onClose:d,employeeId:e,onSuccess:f}){let[g,h]=(0,c.useState)({name:"",email:"",mobile:"",relationship:"",address:""}),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null);if(!a)return null;let m=async()=>{if(!g.name||!g.email||!g.mobile||!g.relationship)return void l("All required fields must be filled");try{j(!0),l(null);let a=localStorage.getItem("accessToken");if(!a)throw Error("Unauthorized");if(!(await fetch(`https://6jnqmj85-80.inc1.devtunnels.ms/employee/${e}/emergency-contacts`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(g)})).ok)throw Error("Failed to create contact");f(),d()}catch(a){l(a.message)}finally{j(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-xl p-6 space-y-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Add Emergency Contact"}),k&&(0,b.jsx)("div",{className:"text-sm text-red-600",children:k}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("input",{placeholder:"Name *",className:"border rounded px-3 py-2",value:g.name,onChange:a=>h({...g,name:a.target.value})}),(0,b.jsx)("input",{placeholder:"Relationship *",className:"border rounded px-3 py-2",value:g.relationship,onChange:a=>h({...g,relationship:a.target.value})}),(0,b.jsx)("input",{placeholder:"Email *",className:"border rounded px-3 py-2",value:g.email,onChange:a=>h({...g,email:a.target.value})}),(0,b.jsx)("input",{placeholder:"Mobile *",className:"border rounded px-3 py-2",value:g.mobile,onChange:a=>h({...g,mobile:a.target.value})})]}),(0,b.jsx)("textarea",{placeholder:"Address",className:"border rounded px-3 py-2 w-full min-h-[80px]",value:g.address,onChange:a=>h({...g,address:a.target.value})}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 border rounded-lg",children:"Cancel"}),(0,b.jsx)("button",{onClick:m,disabled:i,className:"px-5 py-2 bg-blue-600 text-white rounded-lg",children:i?"Saving...":"Save"})]})]})})}}];

//# sourceMappingURL=src_app_%28dashboard%29_hr_employee_%5Bid%5D_emergency-contacts_add_page_tsx_5ec365d6._.js.map