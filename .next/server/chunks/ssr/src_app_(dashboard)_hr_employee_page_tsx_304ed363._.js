module.exports=[779465,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(187924),c=a.i(572131),d=a.i(238246);let e="https://6jnqmj85-80.inc1.devtunnels.ms";function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)("all"),[m,n]=(0,c.useState)(0),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{let a=localStorage.getItem("accessToken"),b=await fetch(`${e}/employee?page=0&size=200`,{headers:{Authorization:`Bearer ${a}`}});f((await b.json()).content),h(!1)})()},[]);let y=async()=>{if(!q)return void alert("Email is required");v(!0);try{let a=localStorage.getItem("accessToken");if(!(await fetch(`${e}/employee/invite`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({to:q,message:s})})).ok)throw Error("Failed to send invite");p(!1),r(""),t(""),alert("Invitation sent successfully")}catch(a){alert(a.message)}finally{v(!1)}},z=a.filter(a=>{let b=a.name.toLowerCase().includes(i.toLowerCase())||a.email.toLowerCase().includes(i.toLowerCase())||a.employeeId.toLowerCase().includes(i.toLowerCase()),c="all"===k||"active"===k&&a.active||"inactive"===k&&!a.active;return b&&c});z.length;let A=z.slice(9*m,(m+1)*9);if(g)return(0,b.jsx)("div",{className:"p-6",children:"Loading..."});let B=async a=>{try{let b=localStorage.getItem("accessToken");await fetch(`${e}/employee/${encodeURIComponent(a)}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}}),f(b=>b.filter(b=>b.employeeId!==a))}catch{alert("Failed to delete employee")}};return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-4 flex gap-4",children:[(0,b.jsx)("input",{placeholder:"Search employee...",className:"border px-3 py-2 rounded w-64",value:i,onChange:a=>{j(a.target.value),n(0)}}),(0,b.jsxs)("select",{className:"border px-3 py-2 rounded",value:k,onChange:a=>{l(a.target.value),n(0)},children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h1",{className:"text-xl font-semibold",children:"Employees"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(d.default,{href:"/hr/employee/new",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"+ Add Employee"}),(0,b.jsx)("button",{onClick:()=>p(!0),className:"border px-4 py-2 rounded",children:"+ Invite Employee"})]})]}),(0,b.jsx)("div",{className:"bg-white border rounded-lg overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-3 text-left",children:"Employee ID"}),(0,b.jsx)("th",{className:"p-3 text-left",children:"Name"}),(0,b.jsx)("th",{className:"p-3 text-left",children:"Email"}),(0,b.jsx)("th",{className:"p-3 text-left",children:"Department"}),(0,b.jsx)("th",{className:"p-3 text-left",children:"Designation"}),(0,b.jsx)("th",{className:"p-3 text-left",children:"Role"}),(0,b.jsx)("th",{className:"p-3 text-left",children:"Status"}),(0,b.jsx)("th",{className:"p-3 text-left",children:"Action"})]})}),(0,b.jsx)("tbody",{children:A.map(a=>(0,b.jsxs)("tr",{className:"border-t",children:[(0,b.jsx)("td",{className:"p-3",children:a.employeeId}),(0,b.jsx)("td",{className:"p-3",children:a.name}),(0,b.jsx)("td",{className:"p-3",children:a.email}),(0,b.jsx)("td",{className:"p-3",children:a.departmentName||"—"}),(0,b.jsx)("td",{className:"p-3",children:a.designationName||"—"}),(0,b.jsx)("td",{className:"p-3",children:a.role}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${a.active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.active?"Active":"Inactive"})}),(0,b.jsxs)("td",{className:"p-3 relative",children:[(0,b.jsx)("button",{onClick:()=>x(w===a.employeeId?null:a.employeeId),className:"px-2 py-1 rounded hover:bg-gray-100",children:"⋮"}),w===a.employeeId&&(0,b.jsxs)("div",{className:"absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-lg z-50",children:[(0,b.jsx)(d.default,{href:`/hr/employee/${a.employeeId}`,className:"block px-4 py-2 text-sm hover:bg-gray-100",onClick:()=>x(null),children:"View"}),(0,b.jsx)(d.default,{href:`/hr/employee/${a.employeeId}/edit`,className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Edit"}),(0,b.jsx)("button",{onClick:()=>{x(null),B(a.employeeId)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Delete"})]})]})]},a.employeeId))})]})}),o&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-xl p-6 relative",children:[(0,b.jsx)("button",{onClick:()=>p(!1),className:"absolute right-4 top-4 text-gray-400 text-xl",children:"×"}),(0,b.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Invite Employee"}),(0,b.jsx)("div",{className:"border rounded p-3 text-sm text-gray-600 mb-4",children:"Employees will receive an email to log in and update their profile through the self-service portal."}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Email *"}),(0,b.jsx)("input",{className:"w-full border rounded px-3 py-2 mt-1",value:q,onChange:a=>r(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Message"}),(0,b.jsx)("textarea",{className:"w-full border rounded px-3 py-2 mt-1",rows:4,placeholder:"Add a message (optional)",value:s,onChange:a=>t(a.target.value)})]}),(0,b.jsx)("div",{className:"flex justify-center mt-6",children:(0,b.jsx)("button",{disabled:u,onClick:y,className:"bg-blue-600 text-white px-8 py-2 rounded-lg",children:u?"Sending...":"Send Invite"})})]})]})})]})}}];

//# sourceMappingURL=src_app_%28dashboard%29_hr_employee_page_tsx_304ed363._.js.map