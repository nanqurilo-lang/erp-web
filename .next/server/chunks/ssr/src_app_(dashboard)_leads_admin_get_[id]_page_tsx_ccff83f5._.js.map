{"version":3,"sources":["turbopack:///[project]/src/app/(dashboard)/leads/admin/get/[id]/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport useSWR from \"swr\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ArrowLeft } from \"lucide-react\";\nimport Link from \"next/link\";\n\ntype EmployeeMeta = {\n  employeeId?: string;\n  name?: string;\n  designation?: string | null;\n  department?: string | null;\n  profileUrl?: string | null;\n};\n\ntype Lead = {\n  id: number;\n  name?: string;\n  email?: string;\n  clientCategory?: string;\n  leadSource?: string;\n  leadOwner?: string;\n  addedBy?: string;\n  leadOwnerMeta?: EmployeeMeta;\n  addedByMeta?: EmployeeMeta;\n  createDeal?: boolean;\n  autoConvertToClient?: boolean;\n  companyName?: string;\n  mobileNumber?: string;\n  city?: string;\n  country?: string;\n  status?: string;\n  createdAt?: string;\n  updatedAt?: string;\n  notes?: unknown[];\n  deals?: unknown[];\n  officePhone?: string;\n  officialWebsite?: string;\n  postalCode?: string;\n  companyAddress?: string;\n};\n\ntype Followup = {\n  id: number;\n  nextDate?: string;\n  startTime?: string;\n  remarks?: string;\n  sendReminder?: boolean;\n  reminderSent?: boolean;\n  createdAt?: string;\n};\n\ntype Deal = {\n  id: number;\n  title?: string;\n  value?: number;\n  dealStage?: string;\n  dealAgent?: string;\n  dealWatchers?: string[];\n  leadId?: number;\n  leadName?: string;\n  leadMobile?: string;\n  leadCompanyName?: string;\n  pipeline?: string;\n  dealCategory?: string;\n  expectedCloseDate?: string | null;\n  createdAt?: string;\n  updatedAt?: string;\n  followups?: Followup[];\n  tags?: string[];\n  comments?: unknown[];\n  assignedEmployeesMeta?: EmployeeMeta[];\n  dealAgentMeta?: EmployeeMeta;\n  dealWatchersMeta?: EmployeeMeta[];\n};\n\ntype DealCategory = { id: number; categoryName: string };\n\ntype Note = {\n  id?: number;\n  noteTitle: string;\n  noteType: \"PUBLIC\" | \"PRIVATE\";\n  noteDetails?: string | null;\n  createdAt?: string;\n  updatedAt?: string;\n};\n\nconst BASE =  `${process.env.NEXT_PUBLIC_MAIN}`; // change if needed\nconst CREATE_URL = `${BASE}/deals`; // adjust if your create endpoint differs\nconst EMP_API = `${BASE}/employee/all?page=0&size=20`;\nconst CAT_API = `${BASE}/deals/dealCategory`;\n\nconst fetcher = async (url: string) => {\n  const accessToken = localStorage.getItem(\"accessToken\");\n  if (!accessToken) throw new Error(\"No access token found. Please log in.\");\n\n  const res = await fetch(url, {\n    cache: \"no-store\",\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n      Accept: \"application/json\",\n    },\n  });\n\n  if (!res.ok) {\n    let message = \"Failed to load data.\";\n    try {\n      const json = await res.json();\n      message = json?.message || json?.error || message;\n    } catch {\n      message = (await res.text()) || message;\n    }\n    throw new Error(message);\n  }\n  return res.json();\n};\n\nfunction fmt(v?: string | null) {\n  return v && v !== \"null\" ? v : \"--\";\n}\nfunction fmtDate(d?: string | null) {\n  return d ? new Date(d).toLocaleString() : \"--\";\n}\nfunction fmtShortDate(d?: string | null) {\n  return d ? new Date(d).toLocaleDateString() : \"--\";\n}\nfunction fmtCurrency(n?: number | null) {\n  if (n == null || isNaN(Number(n))) return \"--\";\n  return new Intl.NumberFormat(undefined, { style: \"currency\", currency: \"USD\", maximumFractionDigits: 0 }).format(n);\n}\n\n/* ---------------- DealViewModal (kept intact) ---------------- */\nfunction DealViewModal({ deal, lead, onClose }: { deal: Deal; lead?: Lead | null; onClose: () => void }) {\n  const [files, setFiles] = useState<{ name: string; url?: string }[]>([]);\n  const [uploading, setUploading] = useState(false);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [fileError, setFileError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadFiles = async () => {\n      try {\n        const token = localStorage.getItem(\"accessToken\");\n        if (!token) return;\n        const res = await fetch(`${BASE}/deals/${deal.id}/files`, {\n          headers: { Authorization: `Bearer ${token}`, Accept: \"application/json\" },\n        });\n        if (!res.ok) return;\n        const json = await res.json();\n        if (Array.isArray(json)) setFiles(json);\n      } catch (err) {\n        // ignore silently\n      }\n    };\n    loadFiles();\n  }, [deal.id]);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFileError(null);\n    const f = e.target.files?.[0] ?? null;\n    setSelectedFile(f);\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setFileError(\"Select a file first.\");\n      return;\n    }\n    setFileError(null);\n    setUploading(true);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const fd = new FormData();\n      fd.append(\"file\", selectedFile);\n\n      const res = await fetch(`${BASE}/deals/${deal.id}/files`, {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${token}` },\n        body: fd,\n      });\n\n      if (!res.ok) throw new Error(await res.text());\n      const json = await res.json();\n      const uploaded = (json && (json.name || json.url)) ? { name: json.name || selectedFile.name, url: json.url } : { name: selectedFile.name };\n      setFiles((s) => [uploaded, ...s]);\n      setSelectedFile(null);\n      (document.getElementById(\"deal-file-input\") as HTMLInputElement | null)?.value && ((document.getElementById(\"deal-file-input\") as HTMLInputElement).value = \"\");\n    } catch (err: any) {\n      setFileError(err?.message ?? \"Upload failed.\");\n    } finally {\n      setUploading(false);\n    }\n  };\n  const leadCompanyName = lead?.companyName ?? \"\";\n  const leadEmail = lead?.email ?? \"\";\n  const leadPhone = lead?.mobileNumber ?? deal.leadMobile ?? \"\";\n\n  return (\n    <div className=\"fixed inset-0 z-50\">\n      <div className=\"absolute inset-0 bg-black/30\" onClick={onClose} />\n      <div className=\"fixed inset-0 flex items-start justify-center px-4 pt-8\">\n        <div className=\"max-w-5xl w-full bg-white rounded-lg shadow-lg border overflow-auto\" style={{ maxHeight: \"92vh\" }}>\n          <div className=\"flex items-center justify-between p-4 border-b\">\n            <h3 className=\"text-lg font-semibold\">Deal {deal.id ?? \"\"}</h3>\n            <button onClick={onClose} className=\"text-muted-foreground p-1 rounded hover:bg-slate-100\">\n              <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div className=\"p-6 grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            <div className=\"lg:col-span-2 rounded-lg border p-4\">\n              <h4 className=\"font-medium mb-2\">Deal Information</h4>\n              <div className=\"text-sm text-muted-foreground mb-4\">\n                {deal.pipeline ?? \"Default Pipeline\"} â†’ {deal.dealStage ?? \"--\"}\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <div className=\"text-xs text-muted-foreground\">Deal Name</div>\n                  <div className=\"font-medium\">{deal.title ?? `Deal ${deal.id}`}</div>\n                </div>\n\n                <div>\n                  <div className=\"text-xs text-muted-foreground\">Lead Contact</div>\n                  <div>{deal.leadName ?? \"--\"}</div>\n                </div>\n\n                <div>\n                  <div className=\"text-xs text-muted-foreground\">Email</div>\n                  <div>{leadEmail ? <a className=\"text-sky-600 underline\" href={`mailto:${leadEmail}`}>{leadEmail}</a> : \"--\"}</div>\n                </div>\n\n                <div>\n                  <div className=\"text-xs text-muted-foreground\">Company Name</div>\n                  <div>{leadCompanyName ?? \"--\"}</div>\n                </div>\n\n                <div>\n                  <div className=\"text-xs text-muted-foreground\">Deal Category</div>\n                  <div>{deal.dealCategory ?? \"--\"}</div>\n                </div>\n\n                <div>\n                  <div className=\"text-xs text-muted-foreground\">Deal Agent</div>\n                  <div>{deal.dealAgentMeta?.name ?? deal.dealAgent ?? \"--\"}</div>\n                </div>\n\n                <div>\n                  <div className=\"text-xs text-muted-foreground\">Deal Watcher</div>\n                  <div>{deal.dealWatchersMeta && deal.dealWatchersMeta.length ? deal.dealWatchersMeta[0].name : \"--\"}</div>\n                </div>\n\n                <div>\n                  <div className=\"text-xs text-muted-foreground\">Close Date</div>\n                  <div>{deal.expectedCloseDate ? fmtShortDate(deal.expectedCloseDate) : \"--\"}</div>\n                </div>\n\n                <div>\n                  <div className=\"text-xs text-muted-foreground\">Deal Value</div>\n                  <div>{fmtCurrency(deal.value ?? 0)}</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"rounded-lg border p-4\">\n              <h4 className=\"font-medium mb-3\">Lead Contact Details</h4>\n              <div className=\"text-sm grid gap-2\">\n                <div className=\"flex justify-between\">\n                  <div className=\"text-xs text-muted-foreground\">Name</div>\n                  <div>{deal.leadName ?? \"--\"}</div>\n                </div>\n\n                <div className=\"flex justify-between\">\n                  <div className=\"text-xs text-muted-foreground\">Email</div>\n                  <div>\n                    {leadEmail ? (\n                      <a className=\"text-sky-600 underline\" href={`mailto:${leadEmail}`} target=\"_blank\" rel=\"noreferrer\">\n                        {leadEmail}\n                      </a>\n                    ) : (\n                      \"--\"\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"flex justify-between\">\n                  <div className=\"text-xs text-muted-foreground\">Mobile</div>\n                  <div>\n                    {leadPhone ? (\n                      <a className=\"text-sky-600 underline\" href={`tel:${leadPhone}`}>\n                        {leadPhone}\n                      </a>\n                    ) : (\n                      \"--\"\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"flex justify-between\">\n                  <div className=\"text-xs text-muted-foreground\">Company Name</div>\n                  <div>{leadCompanyName ?? \"--\"}</div>\n                </div>\n\n                <div className=\"mt-3 flex gap-2\">\n                  <a href={leadEmail ? `mailto:${leadEmail}` : \"#\"} className=\"px-3 py-2 border rounded text-sm inline-flex items-center gap-2\" target=\"_blank\" rel=\"noreferrer\">\n                    <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                      <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 8l7.89 5.26a3 3 0 003.22 0L21 8\" />\n                    </svg>\n                    Email\n                  </a>\n                  <a href={leadPhone ? `tel:${leadPhone}` : \"#\"} className=\"px-3 py-2 border rounded text-sm inline-flex items-center gap-2\">\n                    <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                      <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M22 16.92V21a1 1 0 01-1.11 1A19.86 19.86 0 013 5.11 1 1 0 014 4h4.09a1 1 0 01.95.68 12.05 12.05 0 00.7 2.28 1 1 0 01-.24 1.02L8.91 10.9\" />\n                    </svg>\n                    Call\n                  </a>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"lg:col-span-3 mt-4 rounded-lg border p-4\">\n              <div className=\"flex gap-6 border-b pb-3 text-sm\">\n                <button className=\"pb-2 border-b-2 border-sky-600 text-sky-600 font-medium\">Files</button>\n                <button className=\"pb-2 border-b-2 border-transparent text-slate-700\">Follow Up</button>\n                <button className=\"pb-2 border-b-2 border-transparent text-slate-700\">People</button>\n                <button className=\"pb-2 border-b-2 border-transparent text-slate-700\">Notes</button>\n                <button className=\"pb-2 border-b-2 border-transparent text-slate-700\">Comments</button>\n                <button className=\"pb-2 border-b-2 border-transparent text-slate-700\">Tags</button>\n              </div>\n\n              <div className=\"mt-4 text-sm\">\n                <div className=\"mb-4\">\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Upload File</label>\n                  <div className=\"flex items-center gap-3\">\n                    <input id=\"deal-file-input\" type=\"file\" onChange={handleFileChange} className=\"text-sm\" />\n                    <button\n                      onClick={handleUpload}\n                      disabled={uploading}\n                      className={`px-3 py-2 rounded bg-blue-600 text-white ${uploading ? \"opacity-60\" : \"hover:bg-blue-700\"}`}\n                    >\n                      {uploading ? \"Uploading...\" : \"Upload\"}\n                    </button>\n                    {fileError && <div className=\"text-destructive text-xs\">{fileError}</div>}\n                  </div>\n                </div>\n\n                <div>\n                  <h5 className=\"text-sm font-medium mb-2\">Files</h5>\n                  {files.length === 0 ? (\n                    <div className=\"text-muted-foreground\">No files uploaded.</div>\n                  ) : (\n                    <ul className=\"list-disc pl-5 text-sm\">\n                      {files.map((f, i) => (\n                        <li key={i}>\n                          {f.url ? <a href={f.url} className=\"text-sky-600 underline\" target=\"_blank\" rel=\"noreferrer\">{f.name}</a> : f.name}\n                        </li>\n                      ))}\n                    </ul>\n                  )}\n                </div>\n\n                <div className=\"mt-4\">Follow ups / files listing area â€” replicate your existing UI here as needed.</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ---------------- DealCategoryModal (kept intact) ---------------- */\nfunction DealCategoryModal({ onClose, onSaved }: { onClose: () => void; onSaved: () => void }) {\n  const [categories, setCategories] = useState<DealCategory[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [newName, setNewName] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n\n  const load = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const res = await fetch(CAT_API, { headers: { Authorization: `Bearer ${token}` } });\n      if (!res.ok) throw new Error(await res.text());\n      const json = await res.json();\n      setCategories(json);\n    } catch (err: any) {\n      setError(err?.message ?? \"Failed to load categories\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  const handleAdd = async () => {\n    if (!newName.trim()) {\n      setError(\"Category name required.\");\n      return;\n    }\n    setError(null);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const res = await fetch(CAT_API, {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${token}`, \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ categoryName: newName }),\n      });\n      if (!res.ok) throw new Error(await res.text());\n      await load();\n      onSaved();\n    } catch (err: any) {\n      setError(err?.message ?? \"Failed to add category\");\n    }\n  };\n\n  const handleDelete = async (id: number) => {\n    if (!confirm(\"Delete this category?\")) return;\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const res = await fetch(`${CAT_API}/${id}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(await res.text());\n      await load();\n      onSaved();\n    } catch (err: any) {\n      alert(\"Error: \" + (err?.message ?? err));\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50\">\n      <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\n      <div className=\"fixed inset-0 flex items-start justify-center px-4 pt-12\">\n        <div className=\"max-w-3xl w-full bg-white rounded-lg shadow-lg border overflow-auto\" style={{ maxHeight: \"80vh\" }}>\n          <div className=\"flex items-center justify-between p-4 border-b\">\n            <h3 className=\"text-lg font-semibold\">Deal Category</h3>\n            <button onClick={onClose} className=\"text-muted-foreground p-1 rounded hover:bg-slate-100\">\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div className=\"p-6\">\n            {error && <div className=\"text-destructive mb-3\">{error}</div>}\n            <div className=\"rounded-lg border p-4 mb-4\">\n              <div className=\"overflow-auto\">\n                <table className=\"min-w-full text-sm\">\n                  <thead className=\"bg-sky-50 text-left\">\n                    <tr>\n                      <th className=\"px-4 py-2 w-12\">#</th>\n                      <th className=\"px-4 py-2\">Category Name</th>\n                      <th className=\"px-4 py-2 w-24\">Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {loading ? (\n                      <tr><td colSpan={3} className=\"px-4 py-4 text-center text-muted-foreground\">Loadingâ€¦</td></tr>\n                    ) : categories.length === 0 ? (\n                      <tr><td colSpan={3} className=\"px-4 py-4 text-center text-muted-foreground\">No categories.</td></tr>\n                    ) : (\n                      categories.map((c, idx) => (\n                        <tr key={c.id} className=\"border-t\">\n                          <td className=\"px-4 py-3\">{idx + 1}</td>\n                          <td className=\"px-4 py-3\">{c.categoryName}</td>\n                          <td className=\"px-4 py-3\">\n                            <button onClick={() => handleDelete(c.id)} className=\"text-destructive px-2 py-1 rounded border\">ðŸ—‘</button>\n                          </td>\n                        </tr>\n                      ))\n                    )}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            <div className=\"mb-4\">\n              <label className=\"block text-sm text-muted-foreground mb-2\">Deal Category Name *</label>\n              <input value={newName} onChange={(e) => setNewName(e.target.value)} className=\"w-full p-2 border rounded-md\" />\n            </div>\n\n            <div className=\"flex items-center justify-center gap-6\">\n              <button onClick={onClose} className=\"px-6 py-2 border rounded-full text-blue-600 hover:bg-blue-50\">Cancel</button>\n              <button onClick={handleAdd} className=\"px-6 py-2 rounded-full text-white bg-blue-600 hover:bg-blue-700\">Save</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ---------------- AddDealModal (kept intact) ---------------- */\nfunction AddDealModal({\n  lead,\n  onClose,\n  onCreated,\n  possibleAgents,\n  possibleWatchers,\n}: {\n  lead: Lead;\n  onClose: () => void;\n  onCreated: (d: Deal) => void;\n  possibleAgents: EmployeeMeta[];\n  possibleWatchers: EmployeeMeta[];\n}) {\n  const [form, setForm] = useState({\n    leadContact: lead?.id ?? \"\",\n    title: \"\",\n    pipeline: \"\",\n    dealStage: \"Qualified\",\n    dealCategory: \"\",\n    dealAgent: \"\",\n    dealWatchers: [] as string[],\n    value: \"\",\n    closeDate: \"\",\n  });\n\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const [watchersOpen, setWatchersOpen] = useState(false);\n  const watchersButtonRef = useRef<HTMLButtonElement | null>(null);\n  const [panelPos, setPanelPos] = useState<{ top: number; left: number; width: number } | null>(null);\n\n  const [categories, setCategories] = useState<DealCategory[]>([]);\n  const [catsLoading, setCatsLoading] = useState(true);\n  const [catModalOpen, setCatModalOpen] = useState(false);\n\n  const update = (k: keyof typeof form, v: any) => setForm((s) => ({ ...s, [k]: v }));\n\n  useEffect(() => {\n    const onKey = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") onClose();\n    };\n    document.addEventListener(\"keydown\", onKey);\n    return () => document.removeEventListener(\"keydown\", onKey);\n  }, [onClose]);\n\n  const loadCategories = async () => {\n    setCatsLoading(true);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const res = await fetch(CAT_API, { headers: { Authorization: `Bearer ${token}` } });\n      if (!res.ok) throw new Error(await res.text());\n      const json: DealCategory[] = await res.json();\n      setCategories(json);\n      if (!form.dealCategory && json.length > 0) {\n        setForm((s) => ({ ...s, dealCategory: json[0].categoryName }));\n      }\n    } catch (err: any) {\n      console.error(\"Failed to load categories\", err);\n    } finally {\n      setCatsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const validate = () => {\n    if (!form.title.trim()) return \"Deal Name is required.\";\n    if (!form.pipeline.trim()) return \"Pipeline is required.\";\n    if (!form.dealStage.trim()) return \"Deal stage is required.\";\n    if (!form.closeDate.trim()) return \"Close date is required.\";\n    return null;\n  };\n\n  const toggleWatcher = (employeeId: string, checked: boolean) => {\n    setForm((s) => {\n      const curr = s.dealWatchers || [];\n      const updated = checked ? [...curr, employeeId] : curr.filter((id) => id !== employeeId);\n      return { ...s, dealWatchers: updated };\n    });\n  };\n\n  const submit = async (e?: React.FormEvent) => {\n    e?.preventDefault();\n    const v = validate();\n    if (v) {\n      setError(v);\n      return;\n    }\n    setError(null);\n    setSubmitting(true);\n\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n\n      const body: any = {\n        title: form.title,\n        pipeline: form.pipeline || undefined,\n        dealStage: form.dealStage || undefined,\n        dealCategory: form.dealCategory || undefined,\n        dealAgent: form.dealAgent || undefined,\n        dealWatchers: form.dealWatchers && form.dealWatchers.length ? form.dealWatchers : undefined,\n        value: form.value ? Number(form.value) : undefined,\n        closeDate: form.closeDate || undefined,\n        leadId: lead.id,\n      };\n\n      const res = await fetch(CREATE_URL, {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${token}`, \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body),\n      });\n\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\");\n        throw new Error(txt || \"Failed to create deal.\");\n      }\n\n      const createdDeal = await res.json();\n      onCreated(createdDeal as Deal);\n      onClose();\n    } catch (err: any) {\n      setError(err?.message ?? \"Failed to create deal.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const openWatchers = () => {\n    const btn = watchersButtonRef.current;\n    if (!btn) {\n      setWatchersOpen(true);\n      return;\n    }\n    const rect = btn.getBoundingClientRect();\n    const top = rect.bottom + 8;\n    const left = rect.left;\n    const width = rect.width;\n    setPanelPos({ top, left, width });\n    setWatchersOpen((s) => !s);\n  };\n\n  const selectedWatcherNames = () => {\n    const selected = possibleWatchers.filter((w) => form.dealWatchers.includes(w.employeeId || \"\"));\n    if (selected.length === 0) return \"--\";\n    return selected.map((s) => s.name).join(\", \");\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50\">\n      <div className=\"absolute inset-0 bg-black/30\" onClick={onClose} />\n      <div className=\"fixed inset-0 flex items-start justify-center px-4 pt-12\">\n        <div className=\"max-w-4xl w-full bg-white rounded-lg shadow-lg border overflow-auto\" style={{ maxHeight: \"92vh\" }}>\n          <div className=\"flex items-center justify-between p-4 border-b\">\n            <h3 className=\"text-lg font-semibold\">Add Deal Information</h3>\n            <button onClick={onClose} className=\"text-muted-foreground p-1 rounded hover:bg-slate-100\">\n              <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <form onSubmit={submit} className=\"p-6\">\n            {error && <div className=\"text-destructive text-sm mb-3\">{error}</div>}\n\n            <div className=\"rounded-lg border p-6\">\n              <h4 className=\"font-medium mb-4\">Deal Details</h4>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Lead Contact *</label>\n                  <select\n                    className=\"w-full p-2 border rounded-md bg-white text-sm\"\n                    value={String(form.leadContact)}\n                    onChange={(e) => update(\"leadContact\", Number(e.target.value))}\n                  >\n                    <option value=\"\">{lead?.name ?? \"--\"}</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Deal Name *</label>\n                  <input\n                    className=\"w-full p-2 border rounded-md text-sm\"\n                    value={form.title}\n                    onChange={(e) => update(\"title\", e.target.value)}\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Pipeline *</label>\n                  <select\n                    className=\"w-full p-2 border rounded-md bg-white text-sm\"\n                    value={form.pipeline}\n                    onChange={(e) => update(\"pipeline\", e.target.value)}\n                  >\n                    <option value=\"\">--</option>\n                    <option>Default Pipeline</option>\n                    <option>Sales</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Deal Stages *</label>\n                  <div className=\"relative\">\n                    <select\n                      className=\"w-full p-2 border rounded-md bg-white text-sm\"\n                      value={form.dealStage}\n                      onChange={(e) => update(\"dealStage\", e.target.value)}\n                    >\n                      <option>Qualified</option>\n                      <option>Generated</option>\n                      <option>Proposal</option>\n                      <option>Won</option>\n                      <option>Lost</option>\n                    </select>\n                    <div className=\"absolute left-3 top-3 w-2 h-2 rounded-full bg-sky-600\"></div>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Deal Category</label>\n                  <div className=\"flex\">\n                    <select\n                      className=\"flex-1 p-2 border rounded-l-md bg-white text-sm\"\n                      value={form.dealCategory}\n                      onChange={(e) => update(\"dealCategory\", e.target.value)}\n                    >\n                      <option value=\"\">--</option>\n                      {!catsLoading && categories.map((c) => (\n                        <option key={c.id} value={c.categoryName}>{c.categoryName}</option>\n                      ))}\n                    </select>\n                    <button\n                      type=\"button\"\n                      onClick={() => setCatModalOpen(true)}\n                      className=\"px-3 py-2 border rounded-r-md bg-gray-200 text-sm\"\n                    >\n                      Add\n                    </button>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Deal Agent</label>\n                  <select\n                    className=\"w-full p-2 border rounded-md bg-white text-sm\"\n                    value={form.dealAgent}\n                    onChange={(e) => update(\"dealAgent\", e.target.value)}\n                  >\n                    <option value=\"\">--</option>\n                    {possibleAgents.map((a) => (\n                      <option key={a.employeeId} value={a.employeeId}>{a.name}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Deal Value</label>\n                  <div className=\"flex items-stretch\">\n                    <span className=\"inline-flex items-center px-3 rounded-l-md border bg-slate-100 text-sm\">USD $</span>\n                    <input\n                      type=\"number\"\n                      className=\"w-full p-2 border rounded-r-md text-sm\"\n                      value={form.value}\n                      onChange={(e) => update(\"value\", e.target.value)}\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Close Date *</label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full p-2 border rounded-md text-sm\"\n                    value={form.closeDate}\n                    onChange={(e) => update(\"closeDate\", e.target.value)}\n                  />\n                </div>\n\n                <div className=\"relative\">\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Deal Watcher</label>\n\n                  <button\n                    type=\"button\"\n                    ref={watchersButtonRef}\n                    onClick={openWatchers}\n                    className=\"w-full p-2 border rounded-md text-left bg-white text-sm flex items-center justify-between\"\n                  >\n                    <span className=\"truncate\">{selectedWatcherNames()}</span>\n                    <svg className={`w-4 h-4 transform ${watchersOpen ? \"rotate-180\" : \"\"}`} viewBox=\"0 0 20 20\" fill=\"none\" stroke=\"currentColor\">\n                      <path d=\"M6 8l4 4 4-4\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                    </svg>\n                  </button>\n\n                  {watchersOpen && panelPos && (\n                    <div\n                      style={{\n                        position: \"fixed\",\n                        top: panelPos.top + window.scrollY,\n                        left: panelPos.left,\n                        width: panelPos.width,\n                        zIndex: 60,\n                      }}\n                    >\n                      <div className=\"bg-white border rounded-md shadow-lg p-3 max-h-[60vh] overflow-auto\">\n                        {possibleWatchers.length === 0 ? (\n                          <div className=\"text-sm text-muted-foreground\">No employees</div>\n                        ) : (\n                          <div className=\"grid gap-2\">\n                            {possibleWatchers.map((w) => (\n                              <label key={w.employeeId} className=\"flex items-start gap-2 text-sm\">\n                                <input\n                                  type=\"checkbox\"\n                                  className=\"mt-1\"\n                                  checked={form.dealWatchers.includes(w.employeeId || \"\")}\n                                  onChange={(e) => toggleWatcher(w.employeeId || \"\", e.target.checked)}\n                                />\n                                <div>\n                                  <div className=\"text-sm\">{w.name}</div>\n                                  {w.designation && <div className=\"text-xs text-muted-foreground\">{w.designation}</div>}\n                                </div>\n                              </label>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"text-xs text-muted-foreground mt-1\">Click to open and select watchers</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"mt-6 flex items-center justify-center gap-6\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-6 py-2 border rounded-full text-blue-600 hover:bg-blue-50\"\n                disabled={submitting}\n              >\n                Cancel\n              </button>\n\n              <button\n                type=\"submit\"\n                disabled={submitting}\n                className={`px-6 py-2 rounded-full text-white ${submitting ? \"bg-blue-400 cursor-not-allowed\" : \"bg-blue-600 hover:bg-blue-700\"}`}\n              >\n                {submitting ? \"Creating...\" : \"Create\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      {catModalOpen && (\n        <DealCategoryModal\n          onClose={() => { setCatModalOpen(false); }}\n          onSaved={() => { loadCategories(); }}\n        />\n      )}\n    </div>\n  );\n}\n\n/* ---------------- EditModal (kept intact) ---------------- */\nfunction EditModal({ lead, onClose, onSaved }: { lead: Lead; onClose: () => void; onSaved: () => void }) {\n  const [form, setForm] = useState({\n    name: lead?.name ?? \"\",\n    email: lead?.email ?? \"\",\n    clientCategory: lead?.clientCategory ?? \"\",\n    leadSource: lead?.leadSource ?? \"\",\n    leadOwner: lead?.leadOwner ?? \"\",\n    addedBy: lead?.addedBy ?? \"\",\n    autoConvertToClient: !!lead?.autoConvertToClient,\n    companyName: lead?.companyName ?? \"\",\n    officialWebsite: lead?.officialWebsite ?? \"\",\n    mobileNumber: String(lead?.mobileNumber ?? \"\"),\n    officePhone: lead?.officePhone ?? \"\",\n    city: lead?.city ?? \"\",\n    state: lead?.state ?? \"\",\n    postalCode: lead?.postalCode ?? \"\",\n    country: lead?.country ?? \"\",\n    companyAddress: lead?.companyAddress ?? \"\",\n  });\n\n  const [submitting, setSubmitting] = useState(false);\n  const [errorMsg, setErrorMsg] = useState<string | null>(null);\n\n  useEffect(() => {\n    const onKey = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") onClose();\n    };\n    document.addEventListener(\"keydown\", onKey);\n    return () => document.removeEventListener(\"keydown\", onKey);\n  }, [onClose]);\n\n  const update = (k: keyof typeof form, v: any) => setForm((s) => ({ ...s, [k]: v }));\n\n  const validate = () => {\n    if (!form.name.trim() || !form.email.trim()) return \"Name and Email are required.\";\n    return null;\n  };\n\n  const submit = async (e?: React.FormEvent) => {\n    e?.preventDefault();\n    const v = validate();\n    if (v) {\n      setErrorMsg(v);\n      return;\n    }\n    setErrorMsg(null);\n    setSubmitting(true);\n\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n\n      const body: any = {\n        name: form.name,\n        email: form.email,\n        clientCategory: form.clientCategory || undefined,\n        leadSource: form.leadSource || undefined,\n        leadOwner: form.leadOwner || undefined,\n        addedBy: form.addedBy || undefined,\n        autoConvertToClient: !!form.autoConvertToClient,\n        companyName: form.companyName || undefined,\n        officialWebsite: form.officialWebsite || undefined,\n        mobileNumber: form.mobileNumber ? Number(form.mobileNumber) : undefined,\n        officePhone: form.officePhone || undefined,\n        city: form.city || undefined,\n        state: form.state || undefined,\n        postalCode: form.postalCode || undefined,\n        country: form.country || undefined,\n        companyAddress: form.companyAddress || undefined,\n      };\n\n      const res = await fetch(`${BASE}/leads/${lead.id}`, {\n        method: \"PUT\",\n        headers: { Authorization: `Bearer ${token}`, \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body),\n      });\n\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\");\n        throw new Error(txt || \"Update failed\");\n      }\n\n      await res.json();\n      alert(\"Lead updated successfully.\");\n      await onSaved();\n    } catch (err: any) {\n      setErrorMsg(err?.message ?? \"Failed to update lead.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50\">\n      <div className=\"absolute inset-0 bg-black/30\" onClick={onClose} />\n\n      <div className=\"fixed inset-0 flex items-start justify-center px-4 pt-12\">\n        <div className=\"max-w-4xl w-full bg-white rounded-lg shadow-lg border overflow-auto\" style={{ maxHeight: \"92vh\" }}>\n          <div className=\"flex items-center justify-between p-4 border-b\">\n            <h3 className=\"text-lg font-semibold\">Update Lead Contact</h3>\n            <button onClick={onClose} className=\"text-muted-foreground p-1 rounded hover:bg-slate-100\">\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <form onSubmit={submit} className=\"p-6 space-y-6\">\n            {errorMsg && <div className=\"text-destructive text-sm\">{errorMsg}</div>}\n\n            <div className=\"rounded-lg border p-4\">\n              <h4 className=\"font-medium mb-3\">Contact Details</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Name *</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.name} onChange={(e) => update(\"name\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Email *</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.email} onChange={(e) => update(\"email\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Lead Source</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.leadSource} onChange={(e) => update(\"leadSource\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Lead Owner</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.leadOwner} onChange={(e) => update(\"leadOwner\", e.target.value)} />\n                </div>\n\n                <div className=\"flex items-center gap-2 md:col-span-2\">\n                  <input type=\"checkbox\" id=\"autoConvert\" checked={!!form.autoConvertToClient} onChange={(e) => update(\"autoConvertToClient\", e.target.checked)} />\n                  <label htmlFor=\"autoConvert\" className=\"text-sm\">Auto Convert lead to client when the deal stage is set to \"WIN\".</label>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"rounded-lg border p-4\">\n              <h4 className=\"font-medium mb-3\">Company Details</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Company Name</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.companyName} onChange={(e) => update(\"companyName\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Official Website</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.officialWebsite} onChange={(e) => update(\"officialWebsite\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Mobile Number</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.mobileNumber} onChange={(e) => update(\"mobileNumber\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Office Phone No.</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.officePhone} onChange={(e) => update(\"officePhone\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">City</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.city} onChange={(e) => update(\"city\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">State</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.state} onChange={(e) => update(\"state\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Postal Code</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.postalCode} onChange={(e) => update(\"postalCode\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Country</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.country} onChange={(e) => update(\"country\", e.target.value)} />\n                </div>\n\n                <div className=\"md:col-span-3\">\n                  <label className=\"text-sm text-muted-foreground\">Company Address</label>\n                  <textarea className=\"w-full border rounded-md p-2 h-28\" value={form.companyAddress} onChange={(e) => update(\"companyAddress\", e.target.value)} />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex justify-end gap-3\">\n              <Button variant=\"outline\" onClick={onClose} disabled={submitting}>Cancel</Button>\n              <Button type=\"submit\" onClick={submit} disabled={submitting}>{submitting ? \"Updating...\" : \"Update\"}</Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ---------------- Add/Edit Note Modal (kept intact) ---------------- */\nfunction AddEditNoteModal({\n  leadId,\n  initial,\n  onClose,\n  onSaved,\n}: {\n  leadId: number;\n  initial?: Note | null;\n  onClose: () => void;\n  onSaved: (note?: Note) => void;\n}) {\n  const isEdit = !!initial?.id;\n  const [form, setForm] = useState<Note>({\n    noteTitle: initial?.noteTitle ?? \"\",\n    noteType: (initial?.noteType as \"PUBLIC\" | \"PRIVATE\") ?? \"PUBLIC\",\n    noteDetails: initial?.noteDetails ?? \"\",\n  });\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const onKey = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") onClose();\n    };\n    document.addEventListener(\"keydown\", onKey);\n    return () => document.removeEventListener(\"keydown\", onKey);\n  }, [onClose]);\n\n  const update = (k: keyof Note, v: any) => setForm((s) => ({ ...s, [k]: v }));\n\n  const validate = () => {\n    if (!form.noteTitle.trim()) return \"Note Title is required.\";\n    return null;\n  };\n\n  const submit = async (e?: React.FormEvent) => {\n    e?.preventDefault();\n    const v = validate();\n    if (v) {\n      setError(v);\n      return;\n    }\n    setError(null);\n    setSubmitting(true);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const url = isEdit\n        ? `${BASE}/leads/${leadId}/notes/${initial?.id}`\n        : `${BASE}/leads/${leadId}/notes`;\n      const method = isEdit ? \"PUT\" : \"POST\";\n      const res = await fetch(url, {\n        method,\n        headers: { Authorization: `Bearer ${token}`, \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          noteTitle: form.noteTitle,\n          noteType: form.noteType,\n          noteDetails: form.noteDetails,\n        }),\n      });\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\");\n        throw new Error(txt || \"Failed to save note.\");\n      }\n      const saved = await res.json();\n      onSaved(saved);\n    } catch (err: any) {\n      setError(err?.message ?? \"Save failed\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50\">\n      <div className=\"absolute inset-0 bg-black/30\" onClick={onClose} />\n      <div className=\"fixed inset-0 flex items-start justify-center px-4 pt-12\">\n        <div className=\"max-w-3xl w-full bg-white rounded-lg shadow-lg border overflow-auto\" style={{ maxHeight: \"90vh\" }}>\n          <div className=\"flex items-center justify-between p-4 border-b\">\n            <h3 className=\"text-lg font-semibold\">{isEdit ? \"Edit Lead Note\" : \"Add Lead Note\"}</h3>\n            <button onClick={onClose} className=\"text-muted-foreground p-1 rounded hover:bg-slate-100\">\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <form onSubmit={submit} className=\"p-6\">\n            {error && <div className=\"text-destructive text-sm mb-3\">{error}</div>}\n            <div className=\"rounded-lg border p-6\">\n              <h4 className=\"font-medium mb-4\">Lead Note Details</h4>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Note Title *</label>\n                  <input\n                    className=\"w-full p-2 border rounded-md text-sm\"\n                    value={form.noteTitle}\n                    onChange={(e) => update(\"noteTitle\", e.target.value)}\n                    placeholder=\"Enter Note Title\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Note Type</label>\n                  <div className=\"flex items-center gap-4 mt-2\">\n                    <label className=\"flex items-center gap-2 text-sm\">\n                      <input type=\"radio\" checked={form.noteType === \"PUBLIC\"} onChange={() => update(\"noteType\", \"PUBLIC\")} />\n                      <span>Public</span>\n                    </label>\n                    <label className=\"flex items-center gap-2 text-sm\">\n                      <input type=\"radio\" checked={form.noteType === \"PRIVATE\"} onChange={() => update(\"noteType\", \"PRIVATE\")} />\n                      <span>Private</span>\n                    </label>\n                  </div>\n                </div>\n\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-xs text-muted-foreground mb-2\">Note Detail</label>\n                  <textarea\n                    className=\"w-full p-3 border rounded-md text-sm h-36\"\n                    value={form.noteDetails}\n                    onChange={(e) => update(\"noteDetails\", e.target.value)}\n                    placeholder=\"Enter details...\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"mt-6 flex items-center justify-center gap-6\">\n              <button type=\"button\" onClick={onClose} className=\"px-6 py-2 border rounded-full text-blue-600 hover:bg-blue-50\" disabled={submitting}>\n                Cancel\n              </button>\n\n              <button type=\"submit\" disabled={submitting} className={`px-6 py-2 rounded-full text-white ${submitting ? \"bg-blue-400\" : \"bg-blue-600 hover:bg-blue-700\"}`}>\n                {submitting ? \"Saving...\" : \"Save\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ---------------- NEW: ViewNoteModal (keeps same UI) ---------------- */\nfunction ViewNoteModal({ note, onClose }: { note: Note; onClose: () => void }) {\n  return (\n    <div className=\"fixed inset-0 z-50\">\n      <div className=\"absolute inset-0 bg-black/30\" onClick={onClose} />\n      <div className=\"fixed inset-0 flex items-start justify-center px-4 pt-12\">\n        <div className=\"max-w-3xl w-full bg-white rounded-lg shadow-lg border overflow-auto\" style={{ maxHeight: \"90vh\" }}>\n          <div className=\"flex items-center justify-between p-4 border-b\">\n            <h3 className=\"text-lg font-semibold\">{note.noteTitle ?? \"My Note\"}</h3>\n            <button onClick={onClose} className=\"text-muted-foreground p-1 rounded hover:bg-slate-100\">\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div className=\"p-6\">\n            <div className=\"rounded-lg border p-6\">\n              <h4 className=\"font-medium mb-4\">Project Note Details</h4>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                <div className=\"text-muted-foreground\">Note Title</div>\n                <div className=\"md:col-span-2\">{note.noteTitle ?? \"--\"}</div>\n\n                <div className=\"text-muted-foreground\">Note Type</div>\n                <div className=\"md:col-span-2\">{note.noteType === \"PUBLIC\" ? \"Public\" : \"Private\"}</div>\n\n                <div className=\"text-muted-foreground\">Note Detail</div>\n                <div className=\"md:col-span-2\">{note.noteDetails ? note.noteDetails : \"---\"}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ---------------- Main Page Component (updated: notes popup fixed positioning) ---------------- */\n\nexport default function LeadDetailPage({ params }: { params: { id: string } }) {\n  const router = useRouter();\n  const { data, error, isLoading, mutate } = useSWR<Lead>(`/api/leads/admin/get/${params.id}`, fetcher, {\n    refreshInterval: 30000,\n    revalidateOnFocus: true,\n  });\n\n  const [activeTab, setActiveTab] = useState<\"profile\" | \"deals\" | \"notes\">(\"profile\");\n  const [menuOpen, setMenuOpen] = useState(false);\n  const menuRef = useRef<HTMLDivElement | null>(null);\n\n  const [editOpen, setEditOpen] = useState(false);\n\n  const { data: dealsData, error: dealsError, isLoading: dealsLoading, mutate: mutateDeals } = useSWR<Deal[]>(\n    activeTab === \"deals\" ? `${BASE}/deals/lead/${params.id}` : null,\n    fetcher,\n    { refreshInterval: 30000, revalidateOnFocus: true }\n  );\n\n  const { data: empResp } = useSWR(EMP_API, fetcher, { refreshInterval: 0 });\n  const employees: EmployeeMeta[] = (empResp && Array.isArray(empResp.content) ? empResp.content.map((e: any) => ({\n    employeeId: e.employeeId,\n    name: e.name,\n    designation: e.designationName ?? null,\n    department: e.departmentName ?? null,\n    profileUrl: e.profilePictureUrl ?? null,\n  })) : []);\n\n  const [addDealOpen, setAddDealOpen] = useState(false);\n\n  // NEW: pass lead to view modal\n  const [viewDeal, setViewDeal] = useState<Deal | null>(null);\n  const [viewLead, setViewLead] = useState<Lead | null>(null);\n\n  useEffect(() => {\n    const onDoc = (e: MouseEvent) => {\n      if (!menuRef.current) return;\n      const t = e.target as Node;\n      if (menuOpen && !menuRef.current.contains(t)) setMenuOpen(false);\n    };\n    document.addEventListener(\"mousedown\", onDoc);\n    return () => document.removeEventListener(\"mousedown\", onDoc);\n  }, [menuOpen]);\n\n  const goEdit = () => {\n    setMenuOpen(false);\n    router.push(`/leads/admin/edit/${params.id}`);\n  };\n\n  // const handleMove = () => {\n  // setMenuOpen(false);\n  //   router.push(`/clients/new`);\n  // };\n\n\n  const convertToClient = async () => {\n    setMenuOpen(false);\n    //router.push(`/clients/new`);\n    if (!confirm(\"Convert this lead to client?\")) return;\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const res = await fetch(`${BASE}/leads/${params.id}/convert`, {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(await res.text());\n      alert(\"Converted to client.\");\n      await mutate();\n      router.push(\"/leads\");\n    } catch (err: any) {\n      alert(\"Error: \" + (err?.message ?? err));\n    }\n  };\n\n  const remove = async () => {\n    setMenuOpen(false);\n    if (!confirm(\"Delete this lead?\")) return;\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const res = await fetch(`${BASE}/leads/${params.id}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(await res.text());\n      alert(\"Deleted.\");\n      router.push(\"/leads\");\n    } catch (err: any) {\n      alert(\"Error: \" + (err?.message ?? err));\n    }\n  };\n\n  const handleCreatedDeal = async (created: Deal) => {\n    if (mutateDeals) {\n      mutateDeals((curr: Deal[] | undefined) => (curr ? [created, ...curr] : [created]), false);\n    }\n  };\n\n  const agents = employees;\n  const watchers = employees;\n\n  /* ---------------- Notes state & functions ---------------- */\n  const [notes, setNotes] = useState<Note[]>([]);\n  const [notesLoading, setNotesLoading] = useState(false);\n  const [notesError, setNotesError] = useState<string | null>(null);\n  const [noteModalOpen, setNoteModalOpen] = useState(false);\n  const [editNote, setEditNote] = useState<Note | null>(null);\n\n  // openNoteMenuId stays the id; menuPos holds fixed coordinates for popup\n  const [openNoteMenuId, setOpenNoteMenuId] = useState<number | null>(null);\n  const [noteMenuPos, setNoteMenuPos] = useState<{ top: number; left: number } | null>(null);\n  const menuContainerRef = useRef<HTMLDivElement | null>(null);\n\n  const [viewNote, setViewNote] = useState<Note | null>(null); // for view modal\n\n  const NOTES_API = (leadId: string | number) => `${BASE}/leads/${leadId}/notes`;\n\n  const loadNotes = async () => {\n    setNotesLoading(true);\n    setNotesError(null);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const res = await fetch(NOTES_API(params.id), { headers: { Authorization: `Bearer ${token}` } });\n      if (!res.ok) throw new Error(await res.text());\n      const json = await res.json();\n      setNotes(Array.isArray(json) ? json : []);\n    } catch (err: any) {\n      setNotesError(err?.message ?? \"Failed to load notes\");\n    } finally {\n      setNotesLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (activeTab === \"notes\") {\n      loadNotes();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeTab, params.id]);\n\n  const openAddNote = () => {\n    setEditNote(null);\n    setNoteModalOpen(true);\n  };\n\n  const handleNoteSaved = (saved?: Note) => {\n    setNoteModalOpen(false);\n    setEditNote(null);\n    setOpenNoteMenuId(null);\n    if (saved) {\n      loadNotes();\n    } else {\n      loadNotes();\n    }\n  };\n\n  const handleDeleteNote = async (noteId?: number) => {\n    if (!noteId) return;\n    if (!confirm(\"Delete this note?\")) return;\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const res = await fetch(`${NOTES_API(params.id)}/${noteId}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(await res.text());\n      setNotes((s) => s.filter((n) => n.id !== noteId));\n      setOpenNoteMenuId(null);\n      setNoteMenuPos(null);\n    } catch (err: any) {\n      alert(\"Error: \" + (err?.message ?? err));\n    }\n  };\n\n  // open fixed menu popup near button\n  const onOpenNoteMenu = (e: React.MouseEvent, noteId?: number) => {\n    e.stopPropagation();\n    if (!noteId) return;\n    const btn = e.currentTarget as HTMLElement;\n    const rect = btn.getBoundingClientRect();\n    // compute top/left for fixed positioned popup\n    const top = rect.bottom + 8 + window.scrollY; // include scrollY to position correctly\n    const left = rect.right - 160; // align right edge of popup near button (popup width ~ 160)\n    setOpenNoteMenuId((prev) => (prev === noteId ? null : noteId));\n    setNoteMenuPos({ top, left: Math.max(left, 8) });\n  };\n\n  // close popup on outside click / scroll / resize\n  useEffect(() => {\n    if (openNoteMenuId == null) return;\n    const onDocClick = (ev: MouseEvent) => {\n      const t = ev.target as Node;\n      if (!menuContainerRef.current) return;\n      if (!menuContainerRef.current.contains(t)) {\n        setOpenNoteMenuId(null);\n        setNoteMenuPos(null);\n      }\n    };\n    const onScroll = () => {\n      setOpenNoteMenuId(null);\n      setNoteMenuPos(null);\n    };\n    const onResize = () => {\n      setOpenNoteMenuId(null);\n      setNoteMenuPos(null);\n    };\n    document.addEventListener(\"mousedown\", onDocClick);\n    window.addEventListener(\"scroll\", onScroll, true);\n    window.addEventListener(\"resize\", onResize);\n    return () => {\n      document.removeEventListener(\"mousedown\", onDocClick);\n      window.removeEventListener(\"scroll\", onScroll, true);\n      window.removeEventListener(\"resize\", onResize);\n    };\n  }, [openNoteMenuId]);\n\n  return (\n    <main className=\"min-h-screen bg-gray-50\">\n      <div className=\"container mx-auto max-w-6xl px-4 py-8\">\n        {/* Header */}\n        <div className=\"flex items-center gap-4 mb-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => router.back()} aria-label=\"Back\">\n            <ArrowLeft className=\"h-5 w-5\" />\n          </Button>\n          <div>\n            <h1 className=\"text-2xl md:text-3xl font-semibold\">{data?.name ?? \"â€”\"}</h1>\n            <p className=\"text-sm text-muted-foreground mt-1\">Detailed information about the selected lead.</p>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"mb-4 border-b bg-white rounded-t\">\n          <nav className=\"flex items-center gap-6 px-4\">\n            <button\n              onClick={() => setActiveTab(\"profile\")}\n              className={`py-3 text-sm ${activeTab === \"profile\" ? \"border-b-2 border-sky-600 text-sky-600\" : \"text-muted-foreground\"}`}\n            >\n              Profile\n            </button>\n            <button\n              onClick={() => setActiveTab(\"deals\")}\n              className={`py-3 text-sm ${activeTab === \"deals\" ? \"border-b-2 border-sky-600 text-sky-600\" : \"text-muted-foreground\"}`}\n            >\n              Deals\n            </button>\n            <button\n              onClick={() => setActiveTab(\"notes\")}\n              className={`py-3 text-sm ${activeTab === \"notes\" ? \"border-b-2 border-sky-600 text-sky-600\" : \"text-muted-foreground\"}`}\n            >\n              Notes\n            </button>\n          </nav>\n        </div>\n\n        {/* Card */}\n        <Card className=\"p-6\">\n          {isLoading ? (\n            <div className=\"py-12 text-center text-muted-foreground\">Loading lead detailsâ€¦</div>\n          ) : error ? (\n            <div className=\"py-12 text-center\">\n              <p className=\"text-destructive\">Failed to load lead details.</p>\n              <p className=\"text-sm text-muted-foreground mt-2\">{(error as Error)?.message}</p>\n              <div className=\"mt-4\">\n                <Button variant=\"ghost\" onClick={() => router.back()}>\n                  Back to Leads\n                </Button>\n              </div>\n            </div>\n          ) : !data ? (\n            <div className=\"py-12 text-center text-muted-foreground\">No lead found.</div>\n          ) : (\n            <div>\n              <div className=\"flex items-start justify-between mb-6\">\n                <h3 className=\"text-lg font-semibold\">{activeTab === \"profile\" ? \"Profile Information\" : activeTab === \"deals\" ? \"Deals\" : \"Notes\"}</h3>\n\n                <div className=\"relative\" ref={menuRef}>\n                  <button\n                    onClick={() => setMenuOpen((s) => !s)}\n                    className=\"p-2 rounded hover:bg-slate-100\"\n                    aria-label=\"More actions\"\n                  >\n                    <svg className=\"w-5 h-5 text-muted-foreground\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      <circle cx=\"5\" cy=\"12\" r=\"1.5\" />\n                      <circle cx=\"12\" cy=\"12\" r=\"1.5\" />\n                      <circle cx=\"19\" cy=\"12\" r=\"1.5\" />\n                    </svg>\n                  </button>\n\n                  {menuOpen && (\n                    <div className=\"absolute right-0 mt-2 w-44 rounded-md border bg-white shadow-lg z-30\">\n                      <ul className=\"py-1\">\n                        <li>\n                          <button\n                            onClick={() => {\n                              setMenuOpen(false);\n                              setEditOpen(true);\n                            }}\n                            className=\"w-full text-left px-4 py-2 hover:bg-slate-50 flex items-center gap-2 text-sm\"\n                          >\n                            Edit\n                          </button>\n                        </li>\n\n                        <li>\n                          <button\n                            onClick={convertToClient}\n                            className=\"w-full text-left px-4 py-2 hover:bg-slate-50 flex items-center gap-2 text-sm\"\n                          >\n                            Change to Client\n                          </button>\n                        </li>\n\n                        <li>\n                          <button\n                            onClick={remove}\n                            className=\"w-full text-left px-4 py-2 hover:bg-slate-50 flex items-center gap-2 text-sm text-destructive\"\n                          >\n                            Delete\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* PROFILE TAB */}\n              {activeTab === \"profile\" && (\n                <>\n                  <div className=\"rounded-lg border p-4\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                      <dl className=\"hidden md:block md:col-span-1 space-y-4 text-sm text-muted-foreground\">\n                        <dt>Name</dt>\n                        <dt>Email</dt>\n                        <dt>Lead Owner</dt>\n                        <dt>Source</dt>\n                        <dt>Company Name</dt>\n                        <dt>Website</dt>\n                        <dt>Mobile</dt>\n                        <dt>Office Phone Number</dt>\n                        <dt>City</dt>\n                        <dt>State</dt>\n                        <dt>Country</dt>\n                        <dt>Postal Code</dt>\n                        <dt>Address</dt>\n                      </dl>\n\n                      <div className=\"md:col-span-2\">\n                        <div className=\"grid gap-y-3\">\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Name</div>\n                            <div className=\"text-sm\">{fmt(data?.name)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Email</div>\n                            <div className=\"text-sm\">{fmt(data?.email)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Lead Owner</div>\n                            <div className=\"text-sm\">{data?.leadOwnerMeta?.name ?? data?.leadOwner ?? \"--\"}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Source</div>\n                            <div className=\"text-sm\">{fmt(data?.leadSource)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Company Name</div>\n                            <div className=\"text-sm\">{fmt(data?.companyName)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Website</div>\n                            <div className=\"text-sm\">{fmt((data as any)?.officialWebsite)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Mobile</div>\n                            <div className=\"text-sm\">{fmt(data?.mobileNumber)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Office Phone Number</div>\n                            <div className=\"text-sm\">{fmt(data?.officePhone)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">City</div>\n                            <div className=\"text-sm\">{fmt(data?.city)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">State</div>\n                            <div className=\"text-sm\">{fmt(data?.state)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Country</div>\n                            <div className=\"text-sm\">{fmt(data?.country)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Postal Code</div>\n                            <div className=\"text-sm\">{fmt(data?.postalCode)}</div>\n                          </div>\n\n                          <div className=\"flex items-start gap-6\">\n                            <div className=\"w-48 md:hidden text-sm text-muted-foreground\">Address</div>\n                            <div className=\"text-sm\">{fmt(data?.companyAddress)}</div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"mt-6 text-sm text-muted-foreground grid md:grid-cols-2 gap-2\">\n                    <div>Created: {fmtDate(data?.createdAt)}</div>\n                    <div className=\"text-right\">\n                      Status: <Badge variant=\"secondary\">{data?.status ?? \"--\"}</Badge>\n                    </div>\n                  </div>\n                </>\n              )}\n\n              {/* DEALS TAB (kept intact) */}\n              {activeTab === \"deals\" && (\n                <>\n                  <div className=\"mb-4 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-4\">\n                      <Button onClick={() => setAddDealOpen(true)}>+ Add Deal</Button>\n                      <div>\n                        <label className=\"text-sm text-muted-foreground mr-2\">Pipeline</label>\n                        <select className=\"border rounded p-2 text-sm\">\n                          <option>{data?.deals && (data as any).deals?.length ? data?.deals : data?.pipeline ?? \"Default Pipeline\"}</option>\n                          <option>Sales</option>\n                          <option>Default Pipeline </option>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div className=\"text-sm text-muted-foreground\">Result per page - 8</div>\n                  </div>\n\n                  <div className=\"rounded-lg border overflow-auto\">\n                    <table className=\"min-w-full text-sm\">\n                      <thead className=\"bg-sky-50 text-left\">\n                        <tr>\n                          <th className=\"px-4 py-2\">Deal Name</th>\n                          <th className=\"px-4 py-2\">Lead Name</th>\n                          <th className=\"px-4 py-2\">Contact Details</th>\n                          <th className=\"px-4 py-2\">Value</th>\n                          <th className=\"px-4 py-2\">Close Date</th>\n                          <th className=\"px-4 py-2\">Follow Up</th>\n                          <th className=\"px-4 py-2\">Deal Agent</th>\n                          <th className=\"px-4 py-2\">Deal Watcher</th>\n                          <th className=\"px-4 py-2\">Stage</th>\n                          <th className=\"px-4 py-2\">Action</th>\n                        </tr>\n                      </thead>\n\n                      <tbody>\n                        {dealsLoading ? (\n                          <tr>\n                            <td colSpan={10} className=\"px-4 py-6 text-center text-muted-foreground\">Loading dealsâ€¦</td>\n                          </tr>\n                        ) : dealsError ? (\n                          <tr>\n                            <td colSpan={10} className=\"px-4 py-6 text-center text-destructive\">Failed to load deals: {(dealsError as Error)?.message}</td>\n                          </tr>\n                        ) : !dealsData || dealsData.length === 0 ? (\n                          <tr>\n                            <td colSpan={10} className=\"px-4 py-6 text-center text-muted-foreground\">No deals found for this lead.</td>\n                          </tr>\n                        ) : (\n                          dealsData.map((d) => (\n                            <tr key={d.id} className=\"border-t\">\n                              <td className=\"px-4 py-3\">\n                                <div className=\"font-medium\">{d.title ?? `Deal ${d.id}`}</div>\n                                <div className=\"text-muted-foreground text-xs\">{d.dealCategory ?? \"--\"}</div>\n                              </td>\n\n                              <td className=\"px-4 py-3\">{d.leadName ?? data?.name ?? \"--\"}</td>\n\n                              <td className=\"px-4 py-3\">\n                                <div className=\"text-xs\">{fmt(d.leadMobile as any)}</div>\n                                <div className=\"text-muted-foreground text-xs\">{(data?.email as string) ?? \"--\"}</div>\n                              </td>\n\n                              <td className=\"px-4 py-3\">{fmtCurrency(d.value ?? 0)}</td>\n\n                              <td className=\"px-4 py-3\">{d.expectedCloseDate ? fmtShortDate(d.expectedCloseDate) : d.updatedAt ? fmtShortDate(d.updatedAt) : \"--\"}</td>\n\n                              <td className=\"px-4 py-3\">\n                                {d.followups && d.followups.length > 0 ? (\n                                  <div className=\"text-sm\">{fmtShortDate(d.followups[0].nextDate)}</div>\n                                ) : (\n                                  <div className=\"text-muted-foreground\">------</div>\n                                )}\n                              </td>\n\n                              <td className=\"px-4 py-3\">\n                                <div className=\"text-sm\">{d.dealAgentMeta?.name ?? d.dealAgent ?? \"--\"}</div>\n                                <div className=\"text-muted-foreground text-xs\">{d.dealAgentMeta?.designation ?? \"\"}</div>\n                              </td>\n\n                              <td className=\"px-4 py-3\">\n                                {d.dealWatchersMeta && d.dealWatchersMeta.length > 0 ? (\n                                  <div>\n                                    <div className=\"text-sm\">{d.dealWatchersMeta[0].name}</div>\n                                    <div className=\"text-muted-foreground text-xs\">{d.dealWatchersMeta[0].designation}</div>\n                                  </div>\n                                ) : (\n                                  <div className=\"text-muted-foreground\">--</div>\n                                )}\n                              </td>\n\n                              <td className=\"px-4 py-3\">\n                                <select defaultValue={d.dealStage} className=\"border rounded p-1 text-sm\">\n                                  <option>{d.dealStage ?? \"Generated\"}</option>\n                                  <option>Generated </option>\n                                  <option>Qualified</option>\n                                  <option>Proposal</option>\n                                  <option>Won</option>\n                                  <option>Lost</option>\n                                </select>\n                              </td>\n\n                              <td className=\"px-4 py-3\">\n                                <div className=\"flex items-center gap-2\">\n                                  <button\n                                    onClick={() => {\n                                      setViewDeal(d);\n                                      setViewLead(data ?? null);\n                                    }}\n                                    className=\"text-sm px-2 py-1 border rounded hover:bg-slate-50\"\n                                  >\n                                    {/* View */}\n                                    <Link href={`/deals/get/${d.id}`}>View</Link>\n                                  </button>\n                                  {/* <Link href={`/deals/get/${deal.id}`}>View</Link> */}\n\n                                  {/* EDIT BUTTON - navigates to /deals/[id]/edit */}\n                                  <button\n                                    onClick={() => {\n                                      // navigate to edit page within the app\n                                      //router.push(`/deals/${d.id}/edit`);\n                                      router.push(`/deals/create/DealEdit/${d.id}`);\n                                      //router.push(`/deals/create/[id]/DealEdit${d.id}`);\n                                    }}\n                                    className=\"text-sm px-2 py-1 border rounded hover:bg-slate-50\"\n                                  >\n                                    Edit\n                                  </button>\n\n\n\n\n                                  <button\n                                    onClick={async () => {\n                                      if (!confirm(\"Delete this deal?\")) return;\n                                      try {\n                                        const token = localStorage.getItem(\"accessToken\");\n                                        if (!token) throw new Error(\"No access token.\");\n                                        const res = await fetch(`${BASE}/deals/${d.id}`, {\n                                          method: \"DELETE\",\n                                          headers: { Authorization: `Bearer ${token}` },\n                                        });\n                                        if (!res.ok) throw new Error(await res.text());\n                                        alert(\"Deal deleted.\");\n                                        await mutateDeals();\n                                      } catch (err: any) {\n                                        alert(\"Error: \" + (err?.message ?? err));\n                                      }\n                                    }}\n                                    className=\"text-sm px-2 py-1 border rounded text-destructive hover:bg-slate-50\"\n                                  >\n                                    Delete\n                                  </button>\n                                </div>\n                              </td>\n                            </tr>\n                          ))\n                        )}\n                      </tbody>\n                    </table>\n                  </div>\n\n                  <div className=\"mt-4 flex items-center justify-between text-sm text-muted-foreground\">\n                    <div>Page 1 of 1 </div>\n                    <div className=\"flex items-center gap-2\">\n                      <button className=\"px-2 py-1\" disabled>â€¹</button>\n                      <button className=\"px-2 py-1\" disabled>â€º</button>\n                    </div>\n                  </div>\n                </>\n              )}\n\n              {/* NOTES TAB (updated: popup fixed positioning with no scroll lag) */}\n              {activeTab === \"notes\" && (\n                <>\n                  <div className=\"mb-4 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-4\">\n                      <button onClick={openAddNote} className=\"px-4 py-2 bg-blue-600 text-white rounded\">+ Add Note</button>\n                    </div>\n\n                    <div className=\"text-sm text-muted-foreground\">Result per page - 8</div>\n                  </div>\n\n                  <div className=\"rounded-lg border overflow-auto\">\n                    <table className=\"min-w-full text-sm\">\n                      <thead className=\"bg-sky-50 text-left\">\n                        <tr>\n                          <th className=\"px-4 py-2\">Note Title</th>\n                          <th className=\"px-4 py-2\">Note Type</th>\n                          <th className=\"px-4 py-2\">Created</th>\n                          <th className=\"px-4 py-2\">Action</th>\n                        </tr>\n                      </thead>\n\n                      <tbody>\n                        {notesLoading ? (\n                          <tr>\n                            <td colSpan={4} className=\"px-4 py-6 text-center text-muted-foreground\">Loading notesâ€¦</td>\n                          </tr>\n                        ) : notesError ? (\n                          <tr>\n                            <td colSpan={4} className=\"px-4 py-6 text-center text-destructive\">Failed to load notes: {notesError}</td>\n                          </tr>\n                        ) : !notes || notes.length === 0 ? (\n                          <tr>\n                            <td colSpan={4} className=\"px-4 py-6 text-center text-muted-foreground\">No notes found for this lead.</td>\n                          </tr>\n                        ) : (\n                          notes.map((n) => (\n                            <tr key={n.id} className=\"border-t\">\n                              <td className=\"px-4 py-3\">\n                                <div className=\"font-medium\">{n.noteTitle}</div>\n                                {n.noteDetails && <div className=\"text-muted-foreground text-xs truncate max-w-xl\">{n.noteDetails}</div>}\n                              </td>\n\n                              <td className=\"px-4 py-3\">\n                                <div className=\"flex items-center gap-2 text-sm\">\n                                  {n.noteType === \"PUBLIC\" ? (\n                                    <div className=\"inline-flex items-center gap-2\">\n                                      <svg className=\"w-4 h-4 text-sky-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                                        <circle cx=\"12\" cy=\"12\" r=\"3\" strokeWidth=\"1.5\" />\n                                      </svg>\n                                      <span>Public</span>\n                                    </div>\n                                  ) : (\n                                    <div className=\"inline-flex items-center gap-2 text-muted-foreground\">\n                                      <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n                                        <path d=\"M12 2v6\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                                      </svg>\n                                      <span>Private</span>\n                                    </div>\n                                  )}\n                                </div>\n                              </td>\n\n                              <td className=\"px-4 py-3\">{fmtDate(n.createdAt)}</td>\n\n                              <td className=\"px-4 py-3\">\n                                {/* 3-dot button (we compute a fixed popup position) */}\n                                <button\n                                  onClick={(e) => onOpenNoteMenu(e, n.id)}\n                                  className=\"p-1 rounded hover:bg-slate-100\"\n                                  aria-label=\"Note actions\"\n                                >\n                                  <svg className=\"w-5 h-5 text-muted-foreground\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                                    <circle cx=\"5\" cy=\"12\" r=\"1.5\" />\n                                    <circle cx=\"12\" cy=\"12\" r=\"1.5\" />\n                                    <circle cx=\"19\" cy=\"12\" r=\"1.5\" />\n                                  </svg>\n                                </button>\n                              </td>\n                            </tr>\n                          ))\n                        )}\n                      </tbody>\n                    </table>\n                  </div>\n\n                  <div className=\"mt-4 flex items-center justify-between text-sm text-muted-foreground\">\n                    <div>Page 1 of 1</div>\n                    <div className=\"flex items-center gap-2\">\n                      <button className=\"px-2 py-1\" disabled>â€¹</button>\n                      <button className=\"px-2 py-1\" disabled>â€º</button>\n                    </div>\n                  </div>\n\n                  {/* Fixed-position popup (rendered outside the table so scrolling doesn't affect it) */}\n                  {openNoteMenuId != null && noteMenuPos && (\n                    <div\n                      ref={menuContainerRef}\n                      style={{\n                        position: \"fixed\",\n                        top: noteMenuPos.top,\n                        left: noteMenuPos.left,\n                        zIndex: 70,\n                        minWidth: 160,\n                      }}\n                    >\n                      <div className=\"rounded-md border bg-white shadow-lg\">\n                        <ul className=\"py-1\">\n                          <li>\n                            <button\n                              onClick={() => {\n                                const n = notes.find((x) => x.id === openNoteMenuId) ?? null;\n                                if (n) setViewNote(n);\n                                setOpenNoteMenuId(null);\n                                setNoteMenuPos(null);\n                              }}\n                              className=\"w-full text-left px-4 py-2 hover:bg-slate-50 text-sm\"\n                            >\n                              View\n                            </button>\n                          </li>\n                          <li>\n                            <button\n                              onClick={() => {\n                                const n = notes.find((x) => x.id === openNoteMenuId) ?? null;\n                                if (n) {\n                                  setEditNote(n);\n                                  setNoteModalOpen(true);\n                                }\n                                setOpenNoteMenuId(null);\n                                setNoteMenuPos(null);\n                              }}\n                              className=\"w-full text-left px-4 py-2 hover:bg-slate-50 text-sm\"\n                            >\n                              Edit\n                            </button>\n                          </li>\n                          <li>\n                            <button\n                              onClick={() => {\n                                handleDeleteNote(openNoteMenuId ?? undefined);\n                                setOpenNoteMenuId(null);\n                                setNoteMenuPos(null);\n                              }}\n                              className=\"w-full text-left px-4 py-2 hover:bg-slate-50 text-sm text-destructive\"\n                            >\n                              Delete\n                            </button>\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n          )}\n        </Card>\n      </div>\n\n      {/* Edit Modal */}\n      {editOpen && data && (\n        <EditModal\n          lead={data}\n          onClose={() => setEditOpen(false)}\n          onSaved={async () => {\n            setEditOpen(false);\n            await mutate();\n          }}\n        />\n      )}\n\n      {/* Add Deal Modal */}\n      {addDealOpen && data && (\n        <AddDealModal\n          lead={data}\n          onClose={() => setAddDealOpen(false)}\n          onCreated={handleCreatedDeal}\n          possibleAgents={agents}\n          possibleWatchers={watchers}\n        />\n      )}\n\n      {/* Deal View Modal */}\n      {viewDeal && (\n        <DealViewModal\n          deal={viewDeal}\n          lead={viewLead}\n          onClose={() => {\n            setViewDeal(null);\n            setViewLead(null);\n          }}\n        />\n      )}\n\n      {/* Notes Add/Edit Modal */}\n      {noteModalOpen && data && (\n        <AddEditNoteModal\n          leadId={data.id}\n          initial={editNote}\n          onClose={() => {\n            setNoteModalOpen(false);\n            setEditNote(null);\n          }}\n          onSaved={(saved?: Note) => {\n            handleNoteSaved(saved);\n          }}\n        />\n      )}\n\n      {/* Notes View Modal */}\n      {viewNote && (\n        <ViewNoteModal\n          note={viewNote}\n          onClose={() => {\n            setViewNote(null);\n          }}\n        />\n      )}\n    </main>\n  );\n}\n\n\n\n\n\n\n\n"],"names":[],"mappings":"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"}