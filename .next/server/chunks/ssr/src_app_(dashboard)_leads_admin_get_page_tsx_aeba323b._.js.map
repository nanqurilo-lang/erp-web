{"version":3,"sources":["turbopack:///[project]/src/app/(dashboard)/leads/admin/get/page.tsx"],"sourcesContent":["\"use client\";\n\nimport useSWR from \"swr\";\nimport { useMemo, useState, useCallback, useRef, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\n\nimport { Card } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\n\n/* =======================\n   Types & constants\n   ======================= */\nconst BASE =  `${process.env.NEXT_PUBLIC_MAIN}`;\n\ntype EmployeeMeta = {\n  employeeId: string;\n  name: string;\n  designation: string;\n  department?: string;\n  profileUrl?: string;\n};\n\ntype Employee = { employeeId: string; name: string; designation?: string };\n\ntype Lead = {\n  id: number;\n  name: string;\n  email: string;\n  companyName?: string;\n  mobileNumber?: string;\n  city?: string;\n  country?: string;\n  status?: string;\n  leadOwner?: string;\n  addedBy?: string;\n  leadOwnerMeta?: EmployeeMeta;\n  addedByMeta?: EmployeeMeta;\n  createdAt?: string;\n  updatedAt?: string;\n};\n\n/* =======================\n   fetcher\n   ======================= */\nconst fetcher = async (url: string) => {\n  const accessToken = localStorage.getItem(\"accessToken\");\n  if (!accessToken) {\n    throw new Error(\"No access token found. Please log in.\");\n  }\n  const res = await fetch(url, {\n    cache: \"no-store\",\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n      Accept: \"application/json\",\n    },\n  });\n  if (!res.ok) {\n    let errorMessage = \"Failed to load.\";\n    try {\n      const j = await res.json();\n      errorMessage = j.message || errorMessage;\n    } catch {\n      errorMessage = (await res.text()) || errorMessage;\n    }\n    throw new Error(errorMessage);\n  }\n  return res.json();\n};\n\n/* =======================\n   OwnerCell helper\n   ======================= */\nfunction OwnerCell({ meta, fallback }: { meta?: EmployeeMeta; fallback?: string }) {\n  const src = meta?.profileUrl || \"/placeholder.svg?height=32&width=32&query=profile-avatar\";\n  return (\n    <div className=\"flex items-center gap-3\">\n      <img\n        src={src}\n        alt={meta?.name ? `Profile photo of ${meta.name}` : \"Profile avatar\"}\n        className=\"h-8 w-8 rounded-full object-cover border\"\n        crossOrigin=\"anonymous\"\n      />\n      <div className=\"flex flex-col\">\n        <span className=\"text-sm font-medium\">{meta?.name || fallback || \"â€”\"}</span>\n        <span className=\"text-xs text-muted-foreground\">{meta?.designation || \"â€”\"}</span>\n      </div>\n    </div>\n  );\n}\n\n/* =======================\n   AddLeadModal (your working implementation)\n   - Slightly trimmed comments but unchanged logic\n   ======================= */\n\ntype DealCategoryItem = { id: number; categoryName: string };\ntype LeadSourceItem = { id: number; name: string };\n\ntype DealPayload = {\n  title: string;\n  pipeline: string;\n  dealStage: string;\n  dealCategory: string;\n  value: number | \"\";\n  expectedCloseDate: string;\n  dealAgent: string;\n  dealWatchers: string[];\n};\n\nexport function AddLeadModal({\n  onClose,\n  onCreated,\n  employees,\n}: {\n  onClose: () => void;\n  onCreated: () => void;\n  employees: Employee[];\n}) {\n  const defaultPipelines = [\"Default Pipeline\", \"Sales Pipeline\", \"Enterprise Pipeline\"];\n  const defaultDealStages = [\"Generated\", \"Qualification\", \"Proposal\", \"Win\", \"Lost\"];\n\n  const [dealCategories, setDealCategories] = useState<DealCategoryItem[]>([]);\n  const [leadSources, setLeadSources] = useState<LeadSourceItem[]>([]);\n  const [clientCategories, setClientCategories] = useState<DealCategoryItem[]>([]);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"accessToken\");\n    if (!token) return;\n    (async () => {\n      try {\n        const res1 = await fetch(`${BASE}/deals/dealCategory`, { headers: { Authorization: `Bearer ${token}` } });\n        if (res1.ok) {\n          const json = await res1.json();\n          if (Array.isArray(json)) {\n            setDealCategories(json);\n            setClientCategories(json);\n          }\n        }\n        const res2 = await fetch(`${BASE}/deals/dealCategory/LeadSource`, { headers: { Authorization: `Bearer ${token}` } });\n        if (res2.ok) {\n          const json2 = await res2.json();\n          if (Array.isArray(json2)) setLeadSources(json2);\n        }\n      } catch {\n        // ignore\n      }\n    })();\n  }, []);\n\n  const emptyDeal: DealPayload = {\n    title: \"\",\n    pipeline: defaultPipelines[0],\n    dealStage: defaultDealStages[0],\n    dealCategory: \"\",\n    value: \"\" as unknown as number,\n    expectedCloseDate: \"\",\n    dealAgent: \"\",\n    dealWatchers: [],\n  };\n\n  const [payload, setPayload] = useState({\n    name: \"\",\n    email: \"\",\n    mobileNumber: \"\",\n    clientCategory: \"\",\n    leadSource: \"\",\n    addedBy: \"\",\n    leadOwner: \"\",\n    createDeal: true,\n    autoConvertToClient: true,\n    deal: emptyDeal,\n    companyName: \"\",\n    officialWebsite: \"\",\n    officePhone: \"\",\n    city: \"\",\n    state: \"\",\n    postalCode: \"\",\n    country: \"\",\n    companyAddress: \"\",\n  });\n\n  const [addModalOpen, setAddModalOpen] = useState<null | \"clientCategory\" | \"leadSource\" | \"dealCategory\">(null);\n  const [addName, setAddName] = useState(\"\");\n  const [loadingAddList, setLoadingAddList] = useState(false);\n  const [addListItems, setAddListItems] = useState<any[]>([]);\n  const [error, setError] = useState<string | null>(null);\n  const [submitting, setSubmitting] = useState(false);\n\n  // watcher dropdown\n  const [watcherDropdownOpen, setWatcherDropdownOpen] = useState(false);\n  const [watcherFilter, setWatcherFilter] = useState(\"\");\n  const watcherRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    const onDoc = (e: MouseEvent) => {\n      const t = e.target as HTMLElement;\n      if (watcherDropdownOpen && watcherRef.current && !watcherRef.current.contains(t)) {\n        setWatcherDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", onDoc);\n    return () => document.removeEventListener(\"mousedown\", onDoc);\n  }, [watcherDropdownOpen]);\n\n  // slide + focus + prevent background scroll\n  const [visible, setVisible] = useState(false);\n  const firstInputRef = useRef<HTMLInputElement | null>(null);\n  useEffect(() => {\n    requestAnimationFrame(() => setVisible(true));\n    const t = setTimeout(() => firstInputRef.current?.focus(), 120);\n    const prev = document.body.style.overflow;\n    document.body.style.overflow = \"hidden\";\n    const onKey = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") onClose();\n    };\n    document.addEventListener(\"keydown\", onKey);\n    return () => {\n      clearTimeout(t);\n      document.body.style.overflow = prev;\n      document.removeEventListener(\"keydown\", onKey);\n    };\n  }, [onClose]);\n\n  const update = (k: string, v: any) => setPayload((p) => ({ ...p, [k]: v }));\n  const updateDeal = (k: keyof DealPayload, v: any) => setPayload((p) => ({ ...p, deal: { ...(p.deal as DealPayload), [k]: v } }));\n\n  const toggleWatcher = (id: string) => {\n    setPayload((p) => {\n      const s = new Set(p.deal!.dealWatchers || []);\n      if (s.has(id)) s.delete(id);\n      else s.add(id);\n      return { ...p, deal: { ...(p.deal as DealPayload), dealWatchers: Array.from(s) } };\n    });\n  };\n\n  const clearWatchers = () => setPayload((p) => ({ ...p, deal: { ...(p.deal as DealPayload), dealWatchers: [] } }));\n\n  const validate = () => {\n    if (!payload.name?.trim() || !payload.email?.trim() || !payload.companyName?.trim()) {\n      return \"Name, Email and Company Name are required.\";\n    }\n    if (payload.createDeal || payload.autoConvertToClient) {\n      const d = payload.deal!;\n      if (!d.title?.trim() || !d.value || !d.expectedCloseDate || !d.dealAgent) {\n        return \"Deal title, value, expected close date and deal agent are required when creating a deal.\";\n      }\n    }\n    return null;\n  };\n\n  const submit = async (e?: React.FormEvent) => {\n    e?.preventDefault();\n    const v = validate();\n    if (v) {\n      setError(v);\n      return;\n    }\n    setError(null);\n    setSubmitting(true);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token found.\");\n      const body: any = {\n        name: payload.name,\n        email: payload.email,\n        mobileNumber: payload.mobileNumber || undefined,\n        clientCategory: payload.clientCategory || undefined,\n        leadSource: payload.leadSource || undefined,\n        addedBy: payload.addedBy || undefined,\n        leadOwner: payload.leadOwner || undefined,\n        createDeal: !!payload.createDeal,\n        autoConvertToClient: !!payload.autoConvertToClient,\n        deal:\n          payload.createDeal || payload.autoConvertToClient\n            ? {\n                title: payload.deal!.title,\n                pipeline: payload.deal!.pipeline,\n                dealStage: payload.deal!.dealStage,\n                dealCategory: payload.deal!.dealCategory,\n                value: Number(payload.deal!.value),\n                expectedCloseDate: payload.deal!.expectedCloseDate,\n                dealAgent: payload.deal!.dealAgent,\n                dealWatchers: payload.deal!.dealWatchers || [],\n              }\n            : undefined,\n        companyName: payload.companyName,\n        officialWebsite: payload.officialWebsite || undefined,\n        officePhone: payload.officePhone || undefined,\n        city: payload.city || undefined,\n        state: payload.state || undefined,\n        postalCode: payload.postalCode || undefined,\n        country: payload.country || undefined,\n        companyAddress: payload.companyAddress || undefined,\n      };\n\n      const res = await fetch(`${BASE}/leads`, {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${token}`, \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body),\n      });\n\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\");\n        throw new Error(txt || \"Failed to create lead\");\n      }\n\n      onCreated();\n      alert(\"Lead created successfully.\");\n    } catch (err: any) {\n      setError(err?.message || \"Failed to create lead.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const openAddModal = async (type: \"clientCategory\" | \"leadSource\" | \"dealCategory\") => {\n    setAddModalOpen(type);\n    setAddName(\"\");\n    setLoadingAddList(true);\n    setAddListItems([]);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No token\");\n      if (type === \"leadSource\") {\n        const res = await fetch(`${BASE}/deals/dealCategory/LeadSource`, { headers: { Authorization: `Bearer ${token}` } });\n        if (res.ok) {\n          const json = await res.json();\n          if (Array.isArray(json)) setAddListItems(json);\n        }\n      } else {\n        const res = await fetch(`${BASE}/deals/dealCategory`, { headers: { Authorization: `Bearer ${token}` } });\n        if (res.ok) {\n          const json = await res.json();\n          if (Array.isArray(json)) setAddListItems(json);\n        }\n      }\n    } catch {\n      // ignore\n    } finally {\n      setLoadingAddList(false);\n    }\n  };\n\n  const addItem = async (type: \"clientCategory\" | \"leadSource\" | \"dealCategory\") => {\n    if (!addName.trim()) return alert(\"Please enter a name.\");\n    setLoadingAddList(true);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No token\");\n      let url = \"\";\n      let body: any = {};\n      if (type === \"leadSource\") {\n        url = `${BASE}/deals/dealCategory/LeadSource`;\n        body = { name: addName.trim() };\n      } else {\n        url = `${BASE}/deals/dealCategory`;\n        body = { categoryName: addName.trim() };\n      }\n      const res = await fetch(url, {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${token}`, \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body),\n      });\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\");\n        throw new Error(txt || \"Failed to add\");\n      }\n      const created = await res.json();\n      if (type === \"leadSource\") {\n        setLeadSources((prev) => [{ id: created.id, name: created.name || addName.trim() }, ...prev]);\n        setPayload((p) => ({ ...p, leadSource: created.name || addName.trim() }));\n      } else {\n        setDealCategories((prev) => [{ id: created.id, categoryName: created.categoryName || addName.trim() }, ...prev]);\n        setClientCategories((prev) => [{ id: created.id, categoryName: created.categoryName || addName.trim() }, ...prev]);\n        setPayload((p) => ({ ...p, deal: { ...(p.deal as DealPayload), dealCategory: created.categoryName || addName.trim() }, clientCategory: created.categoryName || addName.trim() }));\n      }\n      setAddName(\"\");\n      setAddModalOpen(null);\n      alert(\"Added successfully.\");\n    } catch (err: any) {\n      alert(\"Error: \" + (err?.message || err));\n    } finally {\n      setLoadingAddList(false);\n    }\n  };\n\n  const deleteItem = async (type: \"clientCategory\" | \"leadSource\" | \"dealCategory\", id: number) => {\n    if (!confirm(\"Are you sure you want to delete this item?\")) return;\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No token\");\n      let url = \"\";\n      if (type === \"leadSource\") {\n        url = `${BASE}/deals/dealCategory/LeadSource/${id}`;\n      } else {\n        url = `${BASE}/deals/dealCategory/${id}`;\n      }\n      const res = await fetch(url, { method: \"DELETE\", headers: { Authorization: `Bearer ${token}` } });\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\");\n        throw new Error(txt || \"Delete failed\");\n      }\n      if (type === \"leadSource\") setLeadSources((s) => s.filter((x) => x.id !== id));\n      else {\n        setDealCategories((s) => s.filter((x) => x.id !== id));\n        setClientCategories((s) => s.filter((x) => x.id !== id));\n      }\n      alert(\"Deleted successfully.\");\n    } catch (err: any) {\n      alert(\"Error deleting: \" + (err?.message || err));\n    }\n  };\n\n  /* ---------------- UI: compact + left-aligned titles ---------------- */\n  const FormContent = (\n    <form onSubmit={submit} className=\"space-y-6\">\n      {error && <div className=\"text-destructive text-sm\">{error}</div>}\n\n      {/* Contact Card */}\n      <div className=\"bg-white rounded-lg border p-6 shadow-sm flex flex-col\">\n        <h4 className=\"text-sm font-medium mb-4 text-left order-first\">Lead Contact Detail</h4>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Name *</label>\n            <input ref={firstInputRef} className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.name} onChange={(e) => update(\"name\", e.target.value)} />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Email *</label>\n            <input className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.email} type=\"email\" onChange={(e) => update(\"email\", e.target.value)} />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Client Category</label>\n            <div className=\"flex gap-2\">\n              <select className=\"flex-1 border rounded-md px-3 py-2 text-sm\" value={payload.clientCategory} onChange={(e) => update(\"clientCategory\", e.target.value)}>\n                <option value=\"\">--</option>\n                {clientCategories.map((c) => <option key={c.id} value={c.categoryName}>{c.categoryName}</option>)}\n              </select>\n              <button type=\"button\" onClick={() => openAddModal(\"clientCategory\")} className=\"px-3 py-2 rounded border text-sm\">Add</button>\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Lead Source</label>\n            <div className=\"flex gap-2\">\n              <select className=\"flex-1 border  rounded-md px-3 py-2 text-sm\" value={payload.leadSource} onChange={(e) => update(\"leadSource\", e.target.value)}>\n                <option value=\"\">--</option>\n                {leadSources.map((s) => <option key={s.id} value={s.name}>{s.name}</option>)}\n              </select>\n              <button type=\"button\" onClick={() => openAddModal(\"leadSource\")} className=\"px-3 py-2 rounded border text-sm\">Add</button>\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Added By</label>\n            <select className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.addedBy} onChange={(e) => update(\"addedBy\", e.target.value)}>\n              <option value=\"\">--</option>\n              {employees.map((emp) => <option key={emp.employeeId} value={emp.employeeId}>{emp.name} ({emp.employeeId})</option>)}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Lead Owner</label>\n            <select className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.leadOwner} onChange={(e) => update(\"leadOwner\", e.target.value)}>\n              <option value=\"\">--</option>\n              {employees.map((emp) => <option key={emp.employeeId} value={emp.employeeId}>{emp.name} ({emp.employeeId})</option>)}\n            </select>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <input id=\"createDeal\" type=\"checkbox\" checked={!!payload.createDeal} onChange={(e) => update(\"createDeal\", e.target.checked)} />\n            <label htmlFor=\"createDeal\" className=\"text-sm\">Create Deal</label>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <input id=\"autoConvert\" type=\"checkbox\" checked={!!payload.autoConvertToClient} onChange={(e) => update(\"autoConvertToClient\", e.target.checked)} />\n            <label htmlFor=\"autoConvert\" className=\"text-sm\">Auto convert on WIN</label>\n          </div>\n        </div>\n      </div>\n\n      {/* Deal Card */}\n      {(payload.createDeal || payload.autoConvertToClient) && (\n        <div className=\"bg-white rounded-lg border p-5 shadow-sm flex flex-col\">\n          <h4 className=\"text-sm font-medium mb-4 text-left order-first\">Deal Details</h4>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-xs text-left text-muted-foreground mb-1\">Deal Name *</label>\n              <input className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.deal!.title} onChange={(e) => updateDeal(\"title\", e.target.value)} />\n            </div>\n\n            <div>\n              <label className=\"block text-xs text-left text-muted-foreground mb-1\">Pipeline *</label>\n              <select className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.deal!.pipeline} onChange={(e) => updateDeal(\"pipeline\", e.target.value)}>\n                {defaultPipelines.map((p) => <option key={p} value={p}>{p}</option>)}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-xs text-left text-muted-foreground mb-1\">Deal Stage *</label>\n              <select className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.deal!.dealStage} onChange={(e) => updateDeal(\"dealStage\", e.target.value)}>\n                {defaultDealStages.map((s) => <option key={s} value={s}>{s}</option>)}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-xs text-left text-muted-foreground mb-1\">Deal Value *</label>\n              <div className=\"flex\">\n                <div className=\"px-3 py-2 bg-gray-100 rounded-l text-sm\">USD $</div>\n                <input className=\"flex-1 border rounded-r px-3 py-2 text-sm\" type=\"number\" value={payload.deal!.value as any} onChange={(e) => updateDeal(\"value\", e.target.value)} />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-xs text-left text-muted-foreground mb-1\">Close Date *</label>\n              <input className=\"w-full border rounded-md px-3 py-2 text-sm\" type=\"date\" value={payload.deal!.expectedCloseDate} onChange={(e) => updateDeal(\"expectedCloseDate\", e.target.value)} />\n            </div>\n\n            <div>\n              <label className=\"block text-xs text-left text-muted-foreground mb-1\">Deal Category</label>\n              <div className=\"flex gap-2\">\n                <select className=\"flex-1 border rounded-md px-3 py-2 text-sm\" value={payload.deal!.dealCategory} onChange={(e) => updateDeal(\"dealCategory\", e.target.value)}>\n                  <option value=\"\">--</option>\n                  {dealCategories.map((d) => <option key={d.id} value={d.categoryName}>{d.categoryName}</option>)}\n                </select>\n                <button type=\"button\" onClick={() => openAddModal(\"dealCategory\")} className=\"px-3 py-2 rounded border text-sm\">Add</button>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-xs text-left text-muted-foreground mb-1\">Deal Agent *</label>\n              <select className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.deal!.dealAgent} onChange={(e) => updateDeal(\"dealAgent\", e.target.value)}>\n                <option value=\"\">--</option>\n                {employees.map((emp) => <option key={emp.employeeId} value={emp.employeeId}>{emp.name} ({emp.employeeId})</option>)}\n              </select>\n            </div>\n\n            <div className=\"md:col-span-3\">\n              <label className=\"block text-xs text-left text-muted-foreground mb-1\">Deal Watcher(s)</label>\n              <div ref={watcherRef} className=\"relative\">\n                <button type=\"button\" onClick={() => setWatcherDropdownOpen((s) => !s)} className=\"w-full flex items-center justify-between border rounded-md px-3 py-2 text-sm bg-white\">\n                  <div className=\"truncate\">\n                    {payload.deal!.dealWatchers.length === 0 ? \"-- select --\" : payload.deal!.dealWatchers.map((id) => employees.find((emp) => emp.employeeId === id)?.name ?? id).join(\", \")}\n                  </div>\n                  <div className=\"ml-2\">\n                    {payload.deal!.dealWatchers.length > 0 && (<button type=\"button\" onClick={(e) => { e.stopPropagation(); clearWatchers(); }} className=\"text-xs px-2 py-1 rounded hover:bg-slate-100\">Clear</button>)}\n                  </div>\n                </button>\n\n                {watcherDropdownOpen && (\n                  <div className=\"absolute left-0 right-0 mt-2 z-40 rounded-md bg-white border shadow-lg max-h-60 overflow-auto\">\n                    <div className=\"p-2 border-b\">\n                      <input className=\"w-full border rounded-md p-2 text-sm\" placeholder=\"Search employees...\" value={watcherFilter} onChange={(e) => setWatcherFilter(e.target.value)} />\n                    </div>\n                    <ul className=\"p-2 space-y-1\">\n                      {employees.filter((emp) => emp.name.toLowerCase().includes(watcherFilter.trim().toLowerCase()) || emp.employeeId.toLowerCase().includes(watcherFilter.trim().toLowerCase())).map((emp) => {\n                        const checked = payload.deal!.dealWatchers.includes(emp.employeeId);\n                        return (\n                          <li key={emp.employeeId}>\n                            <label className=\"flex items-center gap-2 p-2 rounded hover:bg-slate-50 cursor-pointer text-sm\">\n                              <input type=\"checkbox\" checked={checked} onChange={() => toggleWatcher(emp.employeeId)} />\n                              <span>{emp.name} <span className=\"text-xs text-muted-foreground\">({emp.employeeId})</span></span>\n                            </label>\n                          </li>\n                        );\n                      })}\n                      {employees.length === 0 && <li className=\"p-2 text-sm text-muted-foreground\">No employees</li>}\n                    </ul>\n                    <div className=\"p-2 border-t flex justify-end gap-2\">\n                      <button type=\"button\" onClick={() => setWatcherDropdownOpen(false)} className=\"rounded-md px-3 py-1 border text-sm\">Done</button>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mt-2 text-sm text-muted-foreground\">Selected: {payload.deal!.dealWatchers.length === 0 ? \"â€”\" : payload.deal!.dealWatchers.map((id) => employees.find((emp) => emp.employeeId === id)?.name ?? id).join(\", \")}</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Company */}\n      <div className=\"bg-white rounded-lg border p-5 shadow-sm flex flex-col\">\n        <h4 className=\"text-sm font-medium mb-4 text-left order-first\">Company Details</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          <div >\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Company Name *</label>\n            <input className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.companyName} onChange={(e) => update(\"companyName\", e.target.value)} />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Official Website</label>\n            <input className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.officialWebsite} onChange={(e) => update(\"officialWebsite\", e.target.value)} />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Mobile Number</label>\n            <input className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.mobileNumber} onChange={(e) => update(\"mobileNumber\", e.target.value)} />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Office Phone No.</label>\n            <input className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.officePhone} onChange={(e) => update(\"officePhone\", e.target.value)} />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">City</label>\n            <input className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.city} onChange={(e) => update(\"city\", e.target.value)} />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">State</label>\n            <input className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.state} onChange={(e) => update(\"state\", e.target.value)} />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Postal Code</label>\n            <input className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.postalCode} onChange={(e) => update(\"postalCode\", e.target.value)} />\n          </div>\n\n          <div>\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Country</label>\n            <input className=\"w-full border rounded-md px-3 py-2 text-sm\" value={payload.country} onChange={(e) => update(\"country\", e.target.value)} />\n          </div>\n\n          <div className=\"md:col-span-3\">\n            <label className=\"block text-xs text-left text-muted-foreground mb-1\">Company Address</label>\n            <textarea className=\"w-full border rounded-md p-3 text-sm h-28\" value={payload.companyAddress} onChange={(e) => update(\"companyAddress\", e.target.value)} />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center justify-end gap-3 pt-2\">\n        <button type=\"button\" onClick={onClose} className=\"px-4 py-2 rounded-md border text-sm\" disabled={submitting}>Cancel</button>\n        <button type=\"button\" onClick={submit} className=\"px-4 py-2 rounded-md bg-sky-600 text-white text-sm\" disabled={submitting}>{submitting ? \"Saving...\" : \"Save\"}</button>\n      </div>\n    </form>\n  );\n\n  /* -------- Small add-list modal (unchanged logic) -------- */\n  const SmallAddListModal = addModalOpen ? (\n    <div className=\"fixed inset-0 z-50\">\n      <div className=\"absolute inset-0 bg-black/20\" onClick={() => setAddModalOpen(null)} />\n      <div className=\"fixed inset-0 flex items-start justify-center px-4 pt-20\">\n        <div className=\"max-w-2xl w-full bg-white rounded-lg shadow-lg border overflow-auto\">\n          <div className=\"flex items-center justify-between p-4 border-b\">\n            <h3 className=\"text-lg font-semibold\">\n              {addModalOpen === \"clientCategory\" ? \"Client Category\" : addModalOpen === \"leadSource\" ? \"Lead Source\" : \"Deal Category\"}\n            </h3>\n            <button onClick={() => setAddModalOpen(null)} className=\"text-muted-foreground p-1 rounded hover:bg-slate-100\">âœ•</button>\n          </div>\n\n          <div className=\"p-4\">\n            <div className=\"mb-4\">\n              <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full text-sm\">\n                  <thead>\n                    <tr className=\"bg-blue-50\">\n                      <th className=\"p-2 text-left\">#</th>\n                      <th className=\"p-2 text-left\">Name</th>\n                      <th className=\"p-2 text-left\">Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {(addListItems.length ? addListItems : addModalOpen === \"clientCategory\" ? clientCategories : addModalOpen === \"leadSource\" ? leadSources : dealCategories).map((item: any, i: number) => (\n                      <tr key={i} className=\"border-t\">\n                        <td className=\"p-2\">{i + 1}</td>\n                        <td className=\"p-2\">{item.categoryName || item.name}</td>\n                        <td className=\"p-2\">\n                          <button onClick={() => deleteItem(addModalOpen === \"leadSource\" ? \"leadSource\" : addModalOpen === \"clientCategory\" ? \"clientCategory\" : \"dealCategory\", item.id)} className=\"text-destructive\">ðŸ—‘</button>\n                        </td>\n                      </tr>\n                    ))}\n                    {(!addListItems.length && !(addModalOpen === \"clientCategory\" ? clientCategories.length : addModalOpen === \"leadSource\" ? leadSources.length : dealCategories.length)) && (\n                      <tr>\n                        <td colSpan={3} className=\"p-4 text-sm text-muted-foreground\">No items found.</td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            <div className=\"mb-4\">\n              <label className=\"block text-sm text-muted-foreground mb-1\">Name *</label>\n              <input value={addName} onChange={(e) => setAddName(e.target.value)} className=\"w-full border rounded-md p-2\" placeholder=\"Enter name\" />\n            </div>\n\n            <div className=\"flex justify-end gap-2\">\n              <button onClick={() => setAddModalOpen(null)} className=\"rounded-md px-4 py-2 border\">Cancel</button>\n              <button onClick={() => addItem(addModalOpen)} disabled={loadingAddList} className=\"rounded-md bg-sky-600 text-white px-4 py-2\">\n                {loadingAddList ? \"Saving...\" : \"Save\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  ) : null;\n\n  /* ---------------- final render of AddLeadModal ---------------- */\n  return (\n    <>\n      <div className=\"fixed inset-0 z-50\" aria-modal=\"true\" role=\"dialog\">\n        <div className=\"absolute inset-0 bg-black/30\" onClick={onClose} />\n\n        <aside\n          className={[\n            \"absolute right-0 top-0 h-full bg-gray-50 flex flex-col\",\n            \"w-full sm:w-[80vw] max-w-full\",\n            \"transform transition-transform duration-300 ease-out\",\n            visible ? \"translate-x-0\" : \"translate-x-full\",\n          ].join(\" \")}\n          style={{ willChange: \"transform\" }}\n        >\n          <div className=\"flex items-start justify-between p-4 border-b bg-white sticky top-0 z-10\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-left\">Add Lead Contact Information </h3>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button onClick={onClose} className=\"p-2 rounded hover:bg-slate-100\">âœ•</button>\n            </div>\n          </div>\n\n          <div className=\"p-6 overflow-auto flex-1\">\n            {FormContent}\n          </div>\n        </aside>\n      </div>\n\n      {SmallAddListModal} \n    </>\n  );\n}\n\n/* =======================\n   LeadRow component (per-row menu, local open ref to avoid collisions)\n   ======================= */\n// function LeadRow({\n//   lead,\n//   idx,\n//   mutate,\n//   onEdit,\n//   onView,\n// }: {\n//   lead: Lead;\n//   idx: number;\n//   mutate: () => Promise<any>;\n//   onEdit: (id: number) => void;\n//   onView: (id: number) => void;\n// }) {\n//   const [open, setOpen] = useState(false);\n//   const rowRef = useRef<HTMLTableRowElement | null>(null);\n\n//   useEffect(() => {\n//     if (!open) return;\n//     const onDoc = (e: MouseEvent) => {\n//       const t = e.target as Node;\n//       if (rowRef.current && !rowRef.current.contains(t)) setOpen(false);\n//     };\n//     document.addEventListener(\"mousedown\", onDoc);\n//     return () => document.removeEventListener(\"mousedown\", onDoc);\n//   }, [open]);\n \n//   const convert = async () => {\n    \n//     if (!confirm(\"Convert this lead to client?\")) return;\n//     try {\n//       const token = localStorage.getItem(\"accessToken\");\n//       const res = await fetch(`${BASE}/leads/${lead.id}/convert`, {\n//         method: \"POST\",\n//         headers: { Authorization: `Bearer ${token}` },\n//       });\n//       if (!res.ok) throw new Error(await res.text());\n//       alert(\"Converted to client\");\n//       await mutate();\n//     } catch (e: any) {\n//       alert(\"Error: \" + (e.message || e));\n//     } finally {\n//       setOpen(false);\n//     }\n//   };\n\n\n  \n\n//   const remove = async () => {\n//     if (!confirm(\"Delete this lead?\")) return;\n//     try {\n//       const token = localStorage.getItem(\"accessToken\");\n//       const res = await fetch(`${BASE}/leads/${lead.id}`, {\n//         method: \"DELETE\",\n//         headers: { Authorization: `Bearer ${token}` },\n//       });\n//       if (!res.ok) throw new Error(await res.text());\n//       alert(\"Deleted\");\n//       await mutate();\n//     } catch (e: any) {\n//       alert(\"Error: \" + (e.message || e));\n//     } finally {\n//       setOpen(false);\n//     }\n//   };\n\n//   return (\n//     <TableRow ref={rowRef}>\n//       <TableCell>{idx + 1}</TableCell>\n//       <TableCell>\n//         <Link href={`/leads/${lead.id}`}>\n//           <div className=\"flex flex-col\">\n//             <span className=\"font-medium\">{lead.name}</span>\n//             <span className=\"text-xs text-muted-foreground\">{lead.companyName || \"â€”\"}</span>\n//           </div>\n//         </Link>\n//       </TableCell>\n//       <TableCell>\n//         <div className=\"flex flex-col\">\n//           <span className=\"text-sm\">{lead.email || \"â€”\"}</span>\n//           <span className=\"text-xs text-muted-foreground\">{lead.mobileNumber || \"â€”\"}</span>\n//         </div>\n//       </TableCell>\n//       <TableCell>\n//         <OwnerCell meta={lead.leadOwnerMeta} fallback={lead.leadOwner} />\n//       </TableCell>\n//       <TableCell>\n//         <OwnerCell meta={lead.addedByMeta} fallback={lead.addedBy} />\n//       </TableCell>\n//       <TableCell>\n//         <span className=\"text-sm\">\n//           {lead.createdAt ? new Date(lead.createdAt).toLocaleDateString() : \"â€”\"}\n//         </span>\n//       </TableCell>\n\n//       <TableCell className=\"relative text-right\">\n//         <button onClick={() => setOpen((s) => !s)} className=\"inline-flex items-center rounded-full p-2 hover:bg-slate-100\">\n//           <svg className=\"w-5 h-5 text-muted-foreground\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n//             <circle cx=\"5\" cy=\"12\" r=\"1.5\" />\n//             <circle cx=\"12\" cy=\"12\" r=\"1.5\" />\n//             <circle cx=\"19\" cy=\"12\" r=\"1.5\" />\n//           </svg>\n//         </button>\n\n//         {open && (\n//           <div className=\"absolute right-0 z-30 mt-2 w-56 rounded-md bg-white shadow-lg border\">\n//             <ul className=\"py-1\">\n//               <li>\n//                 <button\n//                   onClick={() => { setOpen(false); onView(lead.id); }}\n//                   className=\"w-full flex items-center gap-3 px-4 py-3 text-sm hover:bg-slate-50\"\n//                 >\n//                   <svg className=\"w-5 h-5 text-muted-foreground\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n//                     <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12z\" />\n//                     <circle cx=\"12\" cy=\"12\" r=\"3\" strokeWidth=\"1.5\" />\n//                   </svg>\n//                   View\n//                 </button>\n//               </li>\n\n//               <li>\n//                 <button\n//                   onClick={() => { setOpen(false); onEdit(lead.id); }}\n//                   className=\"w-full flex items-center gap-3 px-4 py-3 text-sm hover:bg-slate-50\"\n//                 >\n//                   <svg className=\"w-5 h-5 text-muted-foreground\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n//                     <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.232 5.232l3.536 3.536M9 11l6-6L20 10M3 21h6l11-11a2 2 0 00-2-2L7 19v2z\" />\n//                   </svg>\n//                   Edit\n//                 </button>\n//               </li>\n\n//               <li>\n//                 <button onClick={convert} className=\"w-full flex items-center gap-3 px-4 py-3 text-sm hover:bg-slate-50\">\n//                   <svg className=\"w-5 h-5 text-muted-foreground\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n//                     <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 11c2.21 0 4-1.79 4-4S14.21 3 12 3 8 4.79 8 7s1.79 4 4 4z\" />\n//                     <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 20v-1a4 4 0 014-4h4a4 4 0 014 4v1\" />\n//                   </svg>\n//                   Change to Client\n//                 </button>\n//               </li>\n\n//               <li>\n//                 <button onClick={remove} className=\"w-full flex items-center gap-3 px-4 py-3 text-sm text-destructive hover:bg-slate-50\">\n//                   <svg className=\"w-5 h-5 text-destructive\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n//                     <path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 6h18M8 6v12a2 2 0 002 2h4a2 2 0 002-2V6M10 6V4a2 2 0 012-2h0a2 2 0 012 2v2\" />\n//                   </svg>\n//                   Delete\n//                 </button>\n//               </li>\n//             </ul>\n//           </div>\n//         )}\n//       </TableCell>\n//     </TableRow>\n//   );\n// }\n\nfunction LeadRow({\n  lead,\n  idx,\n  mutate,\n  onEdit,\n  onView,\n  onChangeToClient, // NEW\n}: {\n  lead: Lead;\n  idx: number;\n  mutate: () => Promise<any>;\n  onEdit: (id: number) => void;\n  onView: (id: number) => void;\n  onChangeToClient: (id: number) => void; // NEW\n}) {\n  const [open, setOpen] = useState(false);\n  const rowRef = useRef<HTMLTableRowElement | null>(null);\n\n  useEffect(() => {\n    if (!open) return;\n    const onDoc = (e: MouseEvent) => {\n      const t = e.target as Node;\n      if (rowRef.current && !rowRef.current.contains(t)) setOpen(false);\n    };\n    document.addEventListener(\"mousedown\", onDoc);\n    return () => document.removeEventListener(\"mousedown\", onDoc);\n  }, [open]);\n\n  const remove = async () => {\n    if (!confirm(\"Delete this lead?\")) return;\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      const res = await fetch(`${BASE}/leads/${lead.id}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(await res.text());\n      alert(\"Deleted\");\n      await mutate();\n    } catch (e: any) {\n      alert(\"Error: \" + (e.message || e));\n    } finally {\n      setOpen(false);\n    }\n  };\n\n  return (\n    <TableRow ref={rowRef}>\n      <TableCell>{idx + 1}</TableCell>\n      <TableCell>\n        <Link href={`/leads/${lead.id}`}>\n          <div className=\"flex flex-col\">\n            <span className=\"font-medium\">{lead.name}</span>\n            <span className=\"text-xs text-muted-foreground\">{lead.companyName || \"â€”\"}</span>\n          </div>\n        </Link>\n      </TableCell>\n      <TableCell>\n        <div className=\"flex flex-col\">\n          <span className=\"text-sm\">{lead.email || \"â€”\"}</span>\n          <span className=\"text-xs text-muted-foreground\">{lead.mobileNumber || \"â€”\"}</span>\n        </div>\n      </TableCell>\n      <TableCell>\n        <OwnerCell meta={lead.leadOwnerMeta} fallback={lead.leadOwner} />\n      </TableCell>\n      <TableCell>\n        <OwnerCell meta={lead.addedByMeta} fallback={lead.addedBy} />\n      </TableCell>\n      <TableCell>\n        <span className=\"text-sm\">\n          {lead.createdAt ? new Date(lead.createdAt).toLocaleDateString() : \"â€”\"}\n        </span>\n      </TableCell>\n\n      <TableCell className=\"relative text-right\">\n        <button\n          onClick={() => setOpen((s) => !s)}\n          className=\"inline-flex items-center rounded-full p-2 hover:bg-slate-100\"\n        >\n          <svg className=\"w-5 h-5 text-muted-foreground\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n            <circle cx=\"5\" cy=\"12\" r=\"1.5\" />\n            <circle cx=\"12\" cy=\"12\" r=\"1.5\" />\n            <circle cx=\"19\" cy=\"12\" r=\"1.5\" />\n          </svg>\n        </button>\n\n        {open && (\n          <div className=\"absolute right-0 z-30 mt-2 w-56 rounded-md bg-white shadow-lg border\">\n            <ul className=\"py-1\">\n              <li>\n                <button\n                  onClick={() => {\n                    setOpen(false);\n                    onView(lead.id);\n                  }}\n                  className=\"w-full flex items-center gap-3 px-4 py-3 text-sm hover:bg-slate-50\"\n                >\n                  <svg\n                    className=\"w-5 h-5 text-muted-foreground\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12z\"\n                    />\n                    <circle cx=\"12\" cy=\"12\" r=\"3\" strokeWidth=\"1.5\" />\n                  </svg>\n                  View\n                </button>\n              </li>\n\n              <li>\n                <button\n                  onClick={() => {\n                    setOpen(false);\n                    onEdit(lead.id);\n                  }}\n                  className=\"w-full flex items-center gap-3 px-4 py-3 text-sm hover:bg-slate-50\"\n                >\n                  <svg\n                    className=\"w-5 h-5 text-muted-foreground\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M15.232 5.232l3.536 3.536M9 11l6-6L20 10M3 21h6l11-11a2 2 0 00-2-2L7 19v2z\"\n                    />\n                  </svg>\n                  Edit\n                </button>\n              </li>\n\n              {/* ðŸ”´ This is now just UI â†’ it calls the callback */}\n              {/* <li>\n                <button\n                  onClick={() => {\n                    setOpen(false);\n                    onChangeToClient(lead.id);\n                  }}\n                  className=\"w-full flex items-center gap-3 px-4 py-3 text-sm hover:bg-slate-50\"\n                >\n                  <svg\n                    className=\"w-5 h-5 text-muted-foreground\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M12 11c2.21 0 4-1.79 4-4S14.21 3 12 3 8 4.79 8 7s1.79 4 4 4z\"\n                    />\n                    <path\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M6 20v-1a4 4 0 014-4h4a4 4 0 014 4v1\"\n                    />\n                  </svg>\n                  Change to Client\n                </button>\n              </li> */}\n\n              <li>\n  {(() => {\n    const isConverted = lead.status === \"CONVERTED\";\n\n    return (\n      <button\n        disabled={isConverted}\n        onClick={() => {\n          if (isConverted) return; // safety\n          setOpen(false);\n          onChangeToClient(lead.id);\n        }}\n        className={`w-full flex items-center gap-3 px-4 py-3 text-sm ${\n          isConverted\n            ? \"cursor-not-allowed text-muted-foreground opacity-50\"\n            : \"hover:bg-slate-50\"\n        }`}\n      >\n        <svg\n          className=\"w-5 h-5 text-muted-foreground\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeWidth=\"1.5\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            d=\"M12 11c2.21 0 4-1.79 4-4S14.21 3 12 3 8 4.79 8 7s1.79 4 4 4z\"\n          />\n          <path\n            strokeWidth=\"1.5\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            d=\"M6 20v-1a4 4 0 014-4h4a4 4 0 014 4v1\"\n          />\n        </svg>\n        {isConverted ? \"Already Client\" : \"Change to Client\"}\n      </button>\n    );\n  })()}\n</li>\n\n\n              <li>\n                <button\n                  onClick={remove}\n                  className=\"w-full flex items-center gap-3 px-4 py-3 text-sm text-destructive hover:bg-slate-50\"\n                >\n                  <svg\n                    className=\"w-5 h-5 text-destructive\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M3 6h18M8 6v12a2 2 0 002 2h4a2 2 0 002-2V6M10 6V4a2 2 0 012-2h0a2 2 0 012 2v2\"\n                    />\n                  </svg>\n                  Delete\n                </button>\n              </li>\n            </ul>\n          </div>\n        )}\n      </TableCell>\n    </TableRow>\n  );\n}\n\n\n/* =======================\n   Main Page\n   ======================= */\nexport default function LeadsAdminPage() {\n  const router = useRouter();\n  const { data, error, isLoading, mutate } = useSWR<Lead[]>(\"/api/leads/admin/get\", fetcher, {\n    refreshInterval: 30000,\n    revalidateOnFocus: true,\n  });\n\n  const { data: employeesData } = useSWR<{ content?: Employee[] }>(`${BASE}/employee/all?page=0&size=20`, fetcher, {\n    revalidateOnFocus: false,\n  });\n  const employees = (employeesData && (employeesData as any).content) ? (employeesData as any).content : (employeesData as unknown as Employee[]) || [];\n\n  // UI state\n  const [query, setQuery] = useState(\"\");\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [dateFilterOn, setDateFilterOn] = useState<\"created\" | \"updated\">(\"created\");\n  const [startDate, setStartDate] = useState<string>(\"\");\n  const [endDate, setEndDate] = useState<string>(\"\");\n  const [selectedLeadOwner, setSelectedLeadOwner] = useState<string>(\"All\");\n  const [selectedAddedBy, setSelectedAddedBy] = useState<string>(\"All\");\n\n  const [addModalOpen, setAddModalOpen] = useState(false);\n  const [editModalLeadId, setEditModalLeadId] = useState<number | null>(null);\n  const [viewLeadId, setViewLeadId] = useState<number | null>(null);\n\n  const leads = data || [];\n\n  const leadOwners = useMemo(() => {\n    const s = new Set<string>();\n    leads.forEach((l) => {\n      if (l.leadOwner) s.add(l.leadOwner);\n      if (l.leadOwnerMeta?.name) s.add(l.leadOwnerMeta.name);\n    });\n    return [\"All\", ...Array.from(s).sort()];\n  }, [leads]);\n\n  const addedByOptions = useMemo(() => {\n    const s = new Set<string>();\n    leads.forEach((l) => {\n      if (l.addedBy) s.add(l.addedBy);\n      if (l.addedByMeta?.name) s.add(l.addedByMeta.name);\n    });\n    return [\"All\", ...Array.from(s).sort()];\n  }, [leads]);\n\n  const parseDate = (s?: string) => {\n    if (!s) return null;\n    const d = new Date(s);\n    if (isNaN(d.getTime())) return null;\n    return d;\n  };\n\n  const filtered = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    return (leads || []).filter((l) => {\n      if (q) {\n        const fields = [\n          l.name,\n          l.email,\n          l.companyName,\n          l.city,\n          l.country,\n          l.status,\n          l.leadOwner,\n          l.addedBy,\n          l.mobileNumber,\n        ];\n        const matchSearch = fields.some((f) => !!f && f.toLowerCase().includes(q));\n        if (!matchSearch) return false;\n      }\n      if (selectedLeadOwner !== \"All\") {\n        const ownerName = l.leadOwnerMeta?.name || l.leadOwner || \"\";\n        if (ownerName !== selectedLeadOwner) return false;\n      }\n      if (selectedAddedBy !== \"All\") {\n        const addedByName = l.addedByMeta?.name || l.addedBy || \"\";\n        if (addedByName !== selectedAddedBy) return false;\n      }\n      if (startDate || endDate) {\n        const target = dateFilterOn === \"created\" ? l.createdAt : l.updatedAt;\n        const parsed = parseDate(target);\n        if (!parsed) return false;\n        if (startDate) {\n          const sDate = parseDate(startDate);\n          if (!sDate) return false;\n          if (parsed < sDate) return false;\n        }\n        if (endDate) {\n          const eDate = parseDate(endDate);\n          if (!eDate) return false;\n          eDate.setHours(23, 59, 59, 999);\n          if (parsed > eDate) return false;\n        }\n      }\n      return true;\n    });\n  }, [leads, query, selectedLeadOwner, selectedAddedBy, startDate, endDate, dateFilterOn]);\n\n  // open edit modal by id (fetch lead in modal)\n  const handleEdit = (id: number) => {\n    setEditModalLeadId(id);\n  };\n\n  const handleChangeToClient = (id: number) => {\n  router.push(`/clients/changeToClient?leadId=${id}`);\n};\n\n  const handleView = (id: number) => {\n    // navigate to view page or open view modal â€” here we navigate\n    router.push(`/leads/admin/get/${id}`);\n  };\n\n  const handleConvert = async (id: number) => {\n    if (!confirm(\"Are you sure you want to convert this lead to a client?\")) return;\n    try {\n      const accessToken = localStorage.getItem(\"accessToken\");\n      const res = await fetch(`/api/leads/admin/${id}/convert`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      if (!res.ok) throw new Error(await res.text());\n      alert(\"Lead converted to client.\");\n      await mutate();\n    } catch (err: any) {\n      alert(\"Error: \" + (err?.message || err));\n    }\n  };\n\n  const handleDelete = async (id: number) => {\n    if (!confirm(\"Are you sure you want to delete this lead? This action cannot be undone.\")) return;\n    try {\n      const accessToken = localStorage.getItem(\"accessToken\");\n      const res = await fetch(`/api/leads/admin/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n          Accept: \"application/json\",\n        },\n      });\n      if (!res.ok) throw new Error(await res.text());\n      await mutate((current) => (current ? current.filter((l) => l.id !== id) : current), { revalidate: true });\n      alert(\"Lead deleted.\");\n    } catch (err: any) {\n      alert(\"Error: \" + (err?.message || err));\n    }\n  };\n\n  const applyFilters = () => setDrawerOpen(false);\n  const clearFilters = () => {\n    setDateFilterOn(\"created\");\n    setStartDate(\"\");\n    setEndDate(\"\");\n    setSelectedLeadOwner(\"All\");\n    setSelectedAddedBy(\"All\");\n  };\n\n//   const handleChangeToClient = (id: number) => {\n//   router.push(`/clients/add?leadId=${id}`);\n// };\n\n  return (\n    <main className=\"container mx-auto max-w-6xl px-4 py-8\">\n      {/* header */}\n      <div className=\"mb-6 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between py-3\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-sm text-muted-foreground\">Duration</div>\n            <div className=\"text-sm text-muted-foreground underline\">Start Date to End Date</div>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <button onClick={() => setDrawerOpen(true)} className=\"flex items-center gap-2 text-sm text-muted-foreground hover:text-slate-700\">\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"><path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 6h16M6 12h12M10 18h4\" /></svg>\n              <span className=\"hidden sm:inline\">Filters</span>\n            </button>\n            <div className=\"w-9 h-9 rounded-full bg-gray-200\" />\n          </div>\n        </div>\n      </div>\n\n      <Card className=\"p-4 md:p-6\">\n        {/* controls */}\n        <div className=\"flex items-start md:items-center justify-between mb-4 gap-3\">\n          <div className=\"flex items-center gap-3\">\n            <button onClick={() => setAddModalOpen(true)} className=\"inline-flex items-center gap-2 rounded-md bg-sky-600 px-4 py-2 text-white text-sm font-medium shadow-sm hover:bg-sky-700\">\n              + Add Lead\n            </button>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <div className=\"flex items-center gap-2 rounded-md border bg-white px-3 py-2\">\n              <Input value={query} onChange={(e) => setQuery(e.target.value)} placeholder=\"Search\" aria-label=\"Search leads\" className=\"border-0 p-0 focus:ring-0\" />\n            </div>\n            <Button variant=\"secondary\" onClick={() => mutate()}>Refresh</Button>\n          </div>\n        </div>\n\n        {isLoading ? (\n          <div className=\"py-10 text-center text-muted-foreground\">Loading leadsâ€¦</div>\n        ) : error ? (\n          <div className=\"py-10 text-center\">\n            <p className=\"text-destructive\">Failed to load leads.</p>\n            <p className=\"text-sm text-muted-foreground mt-1\">{(error as Error).message}</p>\n            <Button className=\"mt-4\" onClick={() => mutate()}>Retry</Button>\n          </div>\n        ) : filtered.length === 0 ? (\n          <div className=\"py-10 text-center text-muted-foreground\">No leads found.</div>\n        ) : (\n          <>\n            <div className=\"mt-4 overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead className=\"w-16\">S.No.</TableHead>\n                    <TableHead className=\"min-w-[220px]\">Lead Name</TableHead>\n                    <TableHead>Contact Details</TableHead>\n                    <TableHead>Lead Owner</TableHead>\n                    <TableHead>Added By</TableHead>\n                    <TableHead>Created On</TableHead>\n                    <TableHead className=\"text-right\">Action</TableHead>\n                  </TableRow>\n                </TableHeader>\n\n                {/* <TableBody>\n                  {filtered.map((lead, idx) => (\n                    <LeadRow\n                      key={lead.id}\n                      lead={lead}\n                      idx={idx}\n                      mutate={() => mutate()}\n                      onEdit={(id) => handleEdit(id)}\n                      onView={(id) => handleView(id)}\n                    />\n                  ))}\n                </TableBody> */}\n\n                {/* devesh */}\n                <TableBody>\n  {filtered.map((lead, idx) => (\n    <LeadRow\n      key={lead.id}\n      lead={lead}\n      idx={idx}\n      mutate={() => mutate()}\n      onEdit={(id) => handleEdit(id)}\n      onView={(id) => handleView(id)}\n      onChangeToClient={handleChangeToClient}   // ðŸ‘ˆ added\n    />\n  ))}\n</TableBody>\n\n              </Table>\n            </div>\n\n            {/* Footer */}\n            <div className=\"mt-6 flex items-center justify-between text-sm text-muted-foreground\">\n              <div>Result per page-8</div>\n              <div>Page 1 of 1 </div>\n              <div className=\"flex items-center gap-3\">\n                <button className=\"p-2 rounded hover:bg-slate-100\">\n                  <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"><path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19l-7-7 7-7\" /></svg>\n                </button>\n                <button className=\"p-2 rounded hover:bg-slate-100\">\n                  <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"><path strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 5l7 7-7 7\" /></svg>\n                </button>\n              </div>\n            </div>\n          </>\n        )}\n      </Card>\n\n      {/* Right-side Filters Drawer (same as earlier) */}\n      {drawerOpen && (\n        <div className=\"fixed inset-0 z-40\">\n          <div className=\"absolute inset-0 bg-black/20\" />\n          <aside className=\"absolute right-0 top-0 h-full w-80 bg-white border-l shadow-lg p-6 overflow-auto\" role=\"dialog\" aria-label=\"Filters\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold\">Filters</h3>\n              <button onClick={() => setDrawerOpen(false)} aria-label=\"Close filters\" className=\"p-1 rounded hover:bg-slate-100\">âœ•</button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm text-muted-foreground mb-1\">Date Filter On</label>\n                <select value={dateFilterOn} onChange={(e) => setDateFilterOn(e.target.value as \"created\" | \"updated\")} className=\"block w-full rounded-md border px-3 py-2\">\n                  <option value=\"created\">Created</option>\n                  <option value=\"updated\">Updated</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-muted-foreground mb-1\">Start Date</label>\n                <input type=\"date\" value={startDate} onChange={(e) => setStartDate(e.target.value)} className=\"block w-full rounded-md border px-3 py-2\" />\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-muted-foreground mb-1\">End Date</label>\n                <input type=\"date\" value={endDate} onChange={(e) => setEndDate(e.target.value)} className=\"block w-full rounded-md border px-3 py-2\" />\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-muted-foreground mb-1\">Lead Owner</label>\n                <select value={selectedLeadOwner} onChange={(e) => setSelectedLeadOwner(e.target.value)} className=\"block w-full rounded-md border px-3 py-2\">\n                  {leadOwners.map((o) => <option key={o} value={o}>{o}</option>)}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm text-muted-foreground mb-1\">Added by</label>\n                <select value={selectedAddedBy} onChange={(e) => setSelectedAddedBy(e.target.value)} className=\"block w-full rounded-md border px-3 py-2\">\n                  {addedByOptions.map((o) => <option key={o} value={o}>{o}</option>)}\n                </select>\n              </div>\n\n              <div className=\"mt-6 flex items-center justify-between\">\n                <button onClick={clearFilters} className=\"rounded-md px-4 py-2 border\">Clear</button>\n                <div className=\"flex items-center gap-2\">\n                  <Button variant=\"secondary\" onClick={() => setDrawerOpen(false)}>Cancel</Button>\n                  <Button onClick={applyFilters}>Apply</Button>\n                </div>\n              </div>\n            </div>\n          </aside>\n        </div>\n      )}\n\n      {/* Add Lead Modal (rendered at top level â€” outside table) */}\n      {addModalOpen && (\n        <AddLeadModal\n          onClose={() => setAddModalOpen(false)}\n          onCreated={async () => {\n            setAddModalOpen(false);\n            await mutate();\n          }}\n          employees={employees}\n        />\n      )}\n\n      {/* Edit modal: fetch lead and render edit UI (reusing your EditModal from earlier file) */}\n      {editModalLeadId !== null && (\n        <EditLeadModal\n          leadId={editModalLeadId}\n          onClose={() => setEditModalLeadId(null)}\n          onSaved={async () => {\n            setEditModalLeadId(null);\n            await mutate();\n          }}\n        />\n      )}\n    </main>\n  );\n}\n\n/* =======================\n   EditLeadModal (simple wrapper that fetches a lead and renders the existing Update form you had)\n   This keeps your edit behavior â€” fetches the single lead and uses the Update form previously posted.\n   (I included a compact in-file version so this single file works.)\n   ======================= */\n\nfunction EditLeadModal({ leadId, onClose, onSaved }: { leadId: number; onClose: () => void; onSaved: () => void }) {\n  const [lead, setLead] = useState<Lead | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      try {\n        const token = localStorage.getItem(\"accessToken\");\n        const res = await fetch(`${BASE}/leads/${leadId}`, { headers: { Authorization: `Bearer ${token}` } });\n        if (!res.ok) throw new Error(await res.text());\n        const j = await res.json();\n        if (mounted) setLead(j);\n      } catch (err) {\n        alert(\"Failed to load lead: \" + (err as any)?.message);\n        onClose();\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    })();\n    return () => { mounted = false; };\n  }, [leadId, onClose]);\n\n  if (loading || !lead) {\n    return (\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n        <div className=\"bg-white p-6 rounded shadow\">Loadingâ€¦</div>\n      </div>\n    );\n  }\n\n  // Reuse your earlier EditModal UI (the one you posted) â€” slightly adapted to accept `lead`\n  // For brevity, we call the component UpdateLeadForm which we define below.\n  return (\n    <UpdateLeadForm lead={lead} onClose={onClose} onSaved={onSaved} />\n  );\n}\n\n/* UpdateLeadForm: copy of your EditModal form (keeps all fields and logic you posted earlier) */\nfunction UpdateLeadForm({ lead, onClose, onSaved }: { lead: Lead; onClose: () => void; onSaved: () => void }) {\n  const [form, setForm] = useState({\n    name: lead?.name ?? \"\",\n    email: lead?.email ?? \"\",\n    clientCategory: (lead as any)?.clientCategory ?? \"\",\n    leadSource: (lead as any)?.leadSource ?? \"\",\n    leadOwner: lead?.leadOwner ?? \"\",\n    addedBy: lead?.addedBy ?? \"\",\n    autoConvertToClient: !!(lead as any)?.autoConvertToClient,\n    companyName: lead?.companyName ?? \"\",\n    officialWebsite: (lead as any)?.officialWebsite ?? \"\",\n    mobileNumber: String(lead?.mobileNumber ?? \"\"),\n    officePhone: lead?.officePhone ?? \"\",\n    city: lead?.city ?? \"\",\n    state: lead?.state ?? \"\",\n    postalCode: lead?.postalCode ?? \"\",\n    country: lead?.country ?? \"\",\n    companyAddress: lead?.companyAddress ?? \"\",\n  });\n  const [submitting, setSubmitting] = useState(false);\n  const [errorMsg, setErrorMsg] = useState<string | null>(null);\n\n  useEffect(() => {\n    const onKey = (e: KeyboardEvent) => { if (e.key === \"Escape\") onClose(); };\n    document.addEventListener(\"keydown\", onKey);\n    return () => document.removeEventListener(\"keydown\", onKey);\n  }, [onClose]);\n\n  const update = (k: keyof typeof form, v: any) => setForm((s) => ({ ...s, [k]: v }));\n\n  const validate = () => {\n    if (!form.name.trim() || !form.email.trim()) return \"Name and Email are required.\";\n    return null;\n  };\n\n  const submit = async (e?: React.FormEvent) => {\n    e?.preventDefault();\n    const v = validate();\n    if (v) {\n      setErrorMsg(v);\n      return;\n    }\n    setErrorMsg(null);\n    setSubmitting(true);\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"No access token.\");\n      const body: any = {\n        name: form.name,\n        email: form.email,\n        clientCategory: form.clientCategory || undefined,\n        leadSource: form.leadSource || undefined,\n        leadOwner: form.leadOwner || undefined,\n        addedBy: form.addedBy || undefined,\n        autoConvertToClient: !!form.autoConvertToClient,\n        companyName: form.companyName || undefined,\n        officialWebsite: form.officialWebsite || undefined,\n        mobileNumber: form.mobileNumber ? Number(form.mobileNumber) : undefined,\n        officePhone: form.officePhone || undefined,\n        city: form.city || undefined,\n        state: form.state || undefined,\n        postalCode: form.postalCode || undefined,\n        country: form.country || undefined,\n        companyAddress: form.companyAddress || undefined,\n      };\n      const res = await fetch(`${BASE}/leads/${lead.id}`, {\n        method: \"PUT\",\n        headers: { Authorization: `Bearer ${token}`, \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body),\n      });\n      if (!res.ok) {\n        const txt = await res.text().catch(() => \"\");\n        throw new Error(txt || \"Update failed\");\n      }\n      alert(\"Lead updated successfully.\");\n      await onSaved();\n    } catch (err: any) {\n      setErrorMsg(err?.message ?? \"Failed to update lead.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50\">\n      <div className=\"absolute inset-0 bg-black/30\" onClick={onClose} />\n      <div className=\"fixed inset-0 flex items-start justify-center px-4 pt-12\">\n        <div className=\"max-w-4xl w-full bg-white rounded-lg shadow-lg border overflow-auto\" style={{ maxHeight: \"92vh\" }}>\n          <div className=\"flex items-center justify-between p-4 border-b\">\n            <h3 className=\"text-lg font-semibold\">Update Lead Contact</h3>\n            <button onClick={onClose} className=\"text-muted-foreground p-1 rounded hover:bg-slate-100\">âœ•</button>\n          </div>\n\n          <form onSubmit={submit} className=\"p-6 space-y-6\">\n            {errorMsg && <div className=\"text-destructive text-sm\">{errorMsg}</div>}\n\n            <div className=\"rounded-lg border p-4\">\n              <h4 className=\"font-medium mb-3\">Contact Details</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Name *</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.name} onChange={(e) => update(\"name\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Email *</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.email} onChange={(e) => update(\"email\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Lead Source</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.leadSource} onChange={(e) => update(\"leadSource\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Lead Owner</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.leadOwner} onChange={(e) => update(\"leadOwner\", e.target.value)} />\n                </div>\n\n                <div className=\"flex items-center gap-2 md:col-span-2\">\n                  <input type=\"checkbox\" id=\"autoConvert\" checked={!!form.autoConvertToClient} onChange={(e) => update(\"autoConvertToClient\", e.target.checked)} />\n                  <label htmlFor=\"autoConvert\" className=\"text-sm\">Auto Convert lead to client when the deal stage is set to \"WIN\".</label>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"rounded-lg border p-4\">\n              <h4 className=\"font-medium mb-3\">Company Details</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-left\">\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Company Name</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.companyName} onChange={(e) => update(\"companyName\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Official Website</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.officialWebsite} onChange={(e) => update(\"officialWebsite\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground \">Mobile Number</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.mobileNumber} onChange={(e) => update(\"mobileNumber\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Office Phone No.</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.officePhone} onChange={(e) => update(\"officePhone\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">City</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.city} onChange={(e) => update(\"city\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">State</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.state} onChange={(e) => update(\"state\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Postal Code</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.postalCode} onChange={(e) => update(\"postalCode\", e.target.value)} />\n                </div>\n\n                <div>\n                  <label className=\"text-sm text-muted-foreground\">Country</label>\n                  <input className=\"w-full border rounded-md p-2\" value={form.country} onChange={(e) => update(\"country\", e.target.value)} />\n                </div>\n\n                <div className=\"md:col-span-3\">\n                  <label className=\"text-sm text-muted-foreground\">Company Address</label>\n                  <textarea className=\"w-full border rounded-md p-2 h-28\" value={form.companyAddress} onChange={(e) => update(\"companyAddress\", e.target.value)} />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex justify-end gap-3\">\n              <Button variant=\"outline\" onClick={onClose} disabled={submitting}>Cancel</Button>\n              <Button type=\"submit\" onClick={submit} disabled={submitting}>{submitting ? \"Updating...\" : \"Update\"}</Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n\n\n\n\n\n\n\n"],"names":[],"mappings":"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"}