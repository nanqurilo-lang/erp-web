module.exports=[879949,a=>{"use strict";a.s(["default",()=>u],879949);var b=a.i(187924),c=a.i(572131),d=a.i(238246),e=a.i(596221),f=a.i(114548),g=a.i(773320),h=a.i(533441),i=a.i(781560),j=a.i(284505),k=a.i(699570),l=a.i(866718),m=a.i(429246),n=a.i(124348),o=a.i(915618),p=a.i(417755);let q="https://6jnqmj85-80.inc1.devtunnels.ms";function r({employeeId:a}){let[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(null),[j,n]=(0,c.useState)(null),[r,t]=(0,c.useState)(null),[u,v]=(0,c.useState)({name:"",email:"",mobile:"",address:"",relationship:""}),w=()=>localStorage.getItem("accessToken")||"";(0,c.useEffect)(()=>{a&&fetch(`${q}/employee/${a}/emergency-contacts`,{headers:{Authorization:`Bearer ${w()}`}}).then(a=>a.json()).then(e).catch(()=>{})},[a]);let x=async()=>{let b=await fetch(`${q}/employee/${a}/emergency-contacts`,{method:"POST",headers:{Authorization:`Bearer ${w()}`,"Content-Type":"application/json"},body:JSON.stringify(u)}),c=await b.json();e(a=>[...a,c]),g(!1),v({name:"",email:"",mobile:"",address:"",relationship:""})},y=async()=>{if(!r?.id)return;let b=await fetch(`${q}/employee/${a}/emergency-contacts/${r.id}`,{method:"PUT",headers:{Authorization:`Bearer ${w()}`,"Content-Type":"application/json"},body:JSON.stringify({name:r.name,mobile:r.mobile,address:r.address,relationship:r.relationship})}),c=await b.json();e(a=>a.map(a=>a.id===c.id?c:a)),t(null)},z=async b=>{b&&confirm("Delete this emergency contact?")&&(await fetch(`${q}/employee/${a}/emergency-contacts/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${w()}`}}),e(a=>a.filter(a=>a.id!==b)))};return(0,b.jsxs)("div",{className:"bg-white border rounded-xl p-6 shadow-sm mt-8",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Emergency Details"}),(0,b.jsxs)(k.Button,{variant:"outline",onClick:()=>g(!0),children:[(0,b.jsx)(o.Plus,{className:"w-4 h-4 mr-2"})," Create New"]})]}),f&&(0,b.jsxs)("div",{className:"border rounded-md p-4 bg-slate-50 mb-4",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,b.jsx)(l.Input,{placeholder:"Name",onChange:a=>v({...u,name:a.target.value})}),(0,b.jsx)(l.Input,{placeholder:"Email",onChange:a=>v({...u,email:a.target.value})}),(0,b.jsx)(l.Input,{placeholder:"Mobile",onChange:a=>v({...u,mobile:a.target.value})}),(0,b.jsx)(l.Input,{placeholder:"Relationship",onChange:a=>v({...u,relationship:a.target.value})}),(0,b.jsx)(m.Textarea,{className:"md:col-span-2",placeholder:"Address",onChange:a=>v({...u,address:a.target.value})})]}),(0,b.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,b.jsx)(k.Button,{onClick:x,children:"Add"}),(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>g(!1),children:"Cancel"})]})]}),(0,b.jsxs)("table",{className:"w-full text-sm border",children:[(0,b.jsx)("thead",{className:"bg-slate-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-3 text-left",children:"Name"}),(0,b.jsx)("th",{className:"p-3",children:"Email"}),(0,b.jsx)("th",{className:"p-3",children:"Mobile"}),(0,b.jsx)("th",{className:"p-3",children:"Relationship"}),(0,b.jsx)("th",{className:"p-3 text-right",children:"Action"})]})}),(0,b.jsx)("tbody",{children:d.map(a=>(0,b.jsxs)("tr",{className:"border-t",children:[(0,b.jsx)("td",{className:"p-3",children:a.name}),(0,b.jsx)("td",{className:"p-3",children:a.email}),(0,b.jsx)("td",{className:"p-3",children:a.mobile}),(0,b.jsx)("td",{className:"p-3",children:a.relationship}),(0,b.jsxs)("td",{className:"p-3 text-right relative",children:[(0,b.jsx)("button",{onClick:()=>i(a.id),children:(0,b.jsx)(p.MoreHorizontal,{})}),h===a.id&&(0,b.jsxs)("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow w-32 z-10",children:[(0,b.jsx)("button",{className:"w-full px-3 py-2 hover:bg-slate-100",onClick:()=>{n(a),i(null)},children:"View"}),(0,b.jsx)("button",{className:"w-full px-3 py-2 hover:bg-slate-100",onClick:()=>{t(a),i(null)},children:"Edit"}),(0,b.jsx)("button",{className:"w-full px-3 py-2 text-red-600 hover:bg-slate-100",onClick:()=>z(a.id),children:"Delete"})]})]})]},a.id))})]}),j&&(0,b.jsx)(s,{title:"View Emergency Contact",onClose:()=>n(null),children:Object.entries(j).map(([a,c])=>"id"!==a&&(0,b.jsxs)("div",{className:"flex mb-2",children:[(0,b.jsx)("div",{className:"w-32 capitalize text-slate-500",children:a}),(0,b.jsx)("div",{children:c||"--"})]},a))}),r&&(0,b.jsxs)(s,{title:"Edit Emergency Contact",onClose:()=>t(null),children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,b.jsx)(l.Input,{value:r.name,onChange:a=>t({...r,name:a.target.value})}),(0,b.jsx)(l.Input,{value:r.email,disabled:!0}),(0,b.jsx)(l.Input,{value:r.mobile,onChange:a=>t({...r,mobile:a.target.value})}),(0,b.jsx)(l.Input,{value:r.relationship,onChange:a=>t({...r,relationship:a.target.value})}),(0,b.jsx)(m.Textarea,{className:"md:col-span-2",value:r.address,onChange:a=>t({...r,address:a.target.value})})]}),(0,b.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>t(null),children:"Cancel"}),(0,b.jsx)(k.Button,{onClick:y,children:"Save"})]})]})]})}function s({title:a,children:c,onClose:d}){return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl w-[520px] p-6",children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:a}),c,(0,b.jsx)("div",{className:"mt-4 text-right",children:(0,b.jsx)(k.Button,{onClick:d,children:"Close"})})]})})}let t="https://6jnqmj85-80.inc1.devtunnels.ms";function u(){let a=(0,c.useRef)(null),o=(0,c.useRef)(null),[p,q]=(0,c.useState)(!0),[s,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)({employeeId:void 0,name:"",email:"",profilePictureUrl:null,gender:"",birthday:"",bloodGroup:"",language:"",country:"usa",mobile:"",address:"",about:"",slackMemberId:"",maritalStatus:""}),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)([]),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)({name:"",email:"",mobile:"",address:"",relationship:""}),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(""),[V,W]=(0,c.useState)(null),[X,Y]=(0,c.useState)(""),[Z,$]=(0,c.useState)([]),[_,aa]=(0,c.useState)("");(0,c.useEffect)(()=>{let a=!0;return(async()=>{try{let b=localStorage.getItem("accessToken")||"",c=await fetch(`${t}/employee/me`,{headers:{Authorization:`Bearer ${b}`,Accept:"application/json"}});if(!c.ok){console.warn("Failed to load profile",c.status),q(!1);return}let d=await c.json();if(!a)return;A({employeeId:d.employeeId??void 0,name:d.name??"",email:d.email??"",profilePictureUrl:d.profilePictureUrl??null,gender:d.gender??"",birthday:d.birthday??"",bloodGroup:d.bloodGroup??"",language:d.language??"",country:d.country??"usa",mobile:d.mobile??"",address:d.address??"",about:d.about??"",slackMemberId:d.slackMemberId??"",maritalStatus:d.maritalStatus??""}),d.profilePictureUrl&&E(d.profilePictureUrl);let e={Authorization:`Bearer ${b}`,Accept:"application/json"};if(d.employeeId){try{let b=await fetch(`${t}/employee/${encodeURIComponent(d.employeeId)}/emergency-contacts`,{headers:e});if(b.ok){let c=await b.json();a&&Array.isArray(c)&&G(c)}else console.warn("Failed to load emergency contacts",b.status)}catch(a){console.warn("Error fetching emergency contacts",a)}try{let b=await fetch(`${t}/employee/${encodeURIComponent(d.employeeId)}/documents`,{headers:e});if(b.ok){let c=await b.json();a&&Array.isArray(c)&&Q(c)}else console.warn("Failed to load documents",b.status)}catch(a){console.warn("Error fetching documents",a)}}}catch(a){console.error("Error loading profile:",a),y("Failed to load profile")}finally{a&&q(!1)}})(),()=>{a=!1}},[]);let ab=(a,b)=>{A(c=>({...c,[a]:b}))},ac=async a=>{if(a&&a.preventDefault(),y(""),w(""),!z.name||!z.email)return void y("Name and Email are required.");u(!0);try{let a=localStorage.getItem("accessToken")||"",b={name:z.name??"",email:z.email??"",gender:z.gender??"",birthday:z.birthday??"",bloodGroup:z.bloodGroup??"",language:z.language??"",country:z.country??"",mobile:z.mobile??"",address:z.address??"",about:z.about??"",slackMemberId:z.slackMemberId??"",maritalStatus:z.maritalStatus??""},c=new FormData;c.append("employee",JSON.stringify(b)),B&&c.append("file",B);let d=await fetch(`${t}/employee/me`,{method:"PUT",headers:{Authorization:`Bearer ${a}`},body:c}),e=await d.json().catch(()=>({}));if(!d.ok){console.error("Save failed:",d.status,e),y(e?.error||`Save failed (${d.status})`),u(!1);return}A(a=>({...a,employeeId:e.employeeId??a.employeeId,profilePictureUrl:e.profilePictureUrl??a.profilePictureUrl,name:e.name??a.name,email:e.email??a.email,gender:e.gender??a.gender,birthday:e.birthday??a.birthday,bloodGroup:e.bloodGroup??a.bloodGroup,language:e.language??a.language,country:e.country??a.country,mobile:e.mobile??a.mobile,address:e.address??a.address,about:e.about??a.about,slackMemberId:e.slackMemberId??a.slackMemberId,maritalStatus:e.maritalStatus??a.maritalStatus})),e.profilePictureUrl&&(E(e.profilePictureUrl),C(null)),w("Profile saved successfully."),setTimeout(()=>w(""),3e3)}catch(a){console.error("Unexpected save error:",a),y("Unexpected error while saving. See console.")}finally{u(!1)}},ad=async()=>{if(U(""),!V)return void U("Please choose a file to upload.");if(!z.employeeId)return void U("Employee ID not known. Save profile first.");S(!0);try{let a=localStorage.getItem("accessToken")||"",b=`${t}/employee/${encodeURIComponent(z.employeeId)}/documents`,c=new FormData;c.append("file",V);let d=await fetch(b,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:c}),e=await d.json().catch(()=>({}));if(!d.ok){console.error("Document upload failed:",d.status,e),U(e?.error||`Upload failed (${d.status})`),S(!1);return}Q(a=>[...a,e]),W(null),Y("")}catch(a){console.error("Unexpected document upload error:",a),U("Unexpected error while uploading document. See console.")}finally{S(!1)}},ae=async a=>{if(aa(""),!a)return void aa("Invalid document id.");if(confirm("Are you sure you want to delete this document?")){if(!z.employeeId)return void aa("Employee ID not known. Save profile first.");$(b=>[...b,a]);try{let b=localStorage.getItem("accessToken")||"",c=`${t}/employee/${encodeURIComponent(z.employeeId)}/documents/${encodeURIComponent(a)}`,d=await fetch(c,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}});if(!d.ok){let b=await d.json().catch(()=>({}));console.error("Delete failed:",d.status,b),aa(b?.error||`Delete failed (${d.status})`),$(b=>b.filter(b=>b!==a));return}Q(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Unexpected delete error:",a),aa("Unexpected error while deleting document. See console.")}finally{$(b=>b.filter(b=>b!==a))}}},af=async(a,b)=>{if(!a)return void aa("No file URL available to download.");aa("");try{let c=localStorage.getItem("accessToken")||"",d=await fetch(a,{headers:c?{Authorization:`Bearer ${c}`}:void 0});if(!d.ok)return void window.open(a,"_blank");let e=await d.blob(),f=URL.createObjectURL(e),g=document.createElement("a");g.href=f,g.download=b||a.split("/").pop()||"download",document.body.appendChild(g),g.click(),g.remove(),setTimeout(()=>URL.revokeObjectURL(f),1500)}catch(b){console.error("Download failed, opening in new tab:",b),window.open(a,"_blank")}};return p?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-8",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(e.Loader2,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-slate-600",children:"Loading profile..."})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-8 px-4",children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Settings"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Profile Details"})]}),(0,b.jsxs)("form",{onSubmit:ac,className:"bg-white border rounded-xl p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-2",children:"Profile Picture"}),(0,b.jsx)("div",{onClick:()=>a.current?.click(),className:"border rounded-md h-36 flex items-center justify-center cursor-pointer bg-white hover:bg-gray-50",children:D?(0,b.jsxs)("div",{className:"flex items-center gap-4 px-4",children:[(0,b.jsx)("img",{src:D,alt:"profile preview",className:"h-24 w-24 object-cover rounded-full border"}),(0,b.jsx)("div",{className:"text-sm text-slate-600",children:"Click to change picture"})]}):(0,b.jsxs)("div",{className:"text-center text-slate-400",children:[(0,b.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",className:"mx-auto mb-2",children:[(0,b.jsx)("path",{d:"M12 3v10",stroke:"#9CA3AF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",stroke:"#9CA3AF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("path",{d:"M7 10l5-5 5 5",stroke:"#9CA3AF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,b.jsx)("div",{className:"text-sm",children:"Choose a file"})]})}),(0,b.jsx)("input",{ref:a,type:"file",accept:"image/*",className:"hidden",onChange:a=>{(a=>{if(!a){C(null),E(z.profilePictureUrl??"");return}C(a),E(URL.createObjectURL(a))})(a.target.files?.[0]??null)}})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-1",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-700",children:["Your Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(l.Input,{value:z.name||"",onChange:a=>ab("name",a.target.value),placeholder:"--",className:"mt-1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Date of Birth"}),(0,b.jsx)(l.Input,{type:"date",value:z.birthday??"",onChange:a=>ab("birthday",a.target.value),className:"mt-1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Gender"}),(0,b.jsxs)("select",{value:z.gender??"",onChange:a=>ab("gender",a.target.value),className:"mt-1 block w-full border rounded-md h-11 px-3",children:[(0,b.jsx)("option",{value:"",children:"--"}),(0,b.jsx)("option",{value:"female",children:"Female"}),(0,b.jsx)("option",{value:"male",children:"Male"}),(0,b.jsx)("option",{value:"other",children:"Other"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Blood Group"}),(0,b.jsxs)("select",{value:z.bloodGroup??"",onChange:a=>ab("bloodGroup",a.target.value),className:"mt-1 block w-full border rounded-md h-11 px-3",children:[(0,b.jsx)("option",{value:"",children:"--"}),(0,b.jsx)("option",{children:"O+"}),(0,b.jsx)("option",{children:"O-"}),(0,b.jsx)("option",{children:"A+"}),(0,b.jsx)("option",{children:"A-"}),(0,b.jsx)("option",{children:"B+"}),(0,b.jsx)("option",{children:"B-"}),(0,b.jsx)("option",{children:"AB+"}),(0,b.jsx)("option",{children:"AB-"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-700",children:["Email Id ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(l.Input,{type:"email",value:z.email||"",onChange:a=>ab("email",a.target.value),placeholder:"--",className:"mt-1"}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Must have at least 8 characters"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Slack Member Id"}),(0,b.jsxs)("div",{className:"flex mt-1",children:[(0,b.jsx)("span",{className:"inline-flex items-center px-3 border border-r-0 rounded-l-md bg-gray-50 text-slate-600",children:"@"}),(0,b.jsx)("input",{value:z.slackMemberId??"",onChange:a=>ab("slackMemberId",a.target.value),className:"border rounded-r-md h-11 px-3 w-full",placeholder:"--"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Marital Status"}),(0,b.jsxs)("select",{value:z.maritalStatus??"",onChange:a=>ab("maritalStatus",a.target.value),className:"mt-1 block w-full border rounded-md h-11 px-3",children:[(0,b.jsx)("option",{value:"",children:"--"}),(0,b.jsx)("option",{value:"single",children:"Single"}),(0,b.jsx)("option",{value:"married",children:"Married"}),(0,b.jsx)("option",{value:"divorced",children:"Divorced"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Language"}),(0,b.jsxs)("select",{value:z.language??"",onChange:a=>ab("language",a.target.value),className:"mt-1 block w-full border rounded-md h-11 px-3",children:[(0,b.jsx)("option",{value:"",children:"--"}),(0,b.jsx)("option",{value:"French",children:"French"}),(0,b.jsx)("option",{value:"English",children:"English"}),(0,b.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Country"}),(0,b.jsxs)("select",{value:z.country??"usa",onChange:a=>ab("country",a.target.value),className:"mt-1 block w-full border rounded-md h-11 px-3",children:[(0,b.jsx)("option",{children:"usa"}),(0,b.jsx)("option",{children:"United States"}),(0,b.jsx)("option",{children:"United Kingdom"}),(0,b.jsx)("option",{children:"Australia"}),(0,b.jsx)("option",{children:"Other"})]})]}),(0,b.jsxs)("div",{className:"col-span-1 md:col-span-1 lg:col-span-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Mobile"}),(0,b.jsxs)("div",{className:"flex mt-1",children:[(0,b.jsx)("div",{className:"inline-flex items-center px-3 border rounded-l-md bg-gray-50 text-slate-600",children:"+370"}),(0,b.jsx)("input",{value:z.mobile??"",onChange:a=>ab("mobile",a.target.value),className:"border rounded-r-md h-11 px-3 w-full",placeholder:"--"})]})]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Address"}),(0,b.jsx)(m.Textarea,{value:z.address??"",onChange:a=>ab("address",a.target.value),className:"mt-1 h-20",placeholder:"--"})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"About"}),(0,b.jsx)(m.Textarea,{value:z.about??"",onChange:a=>ab("about",a.target.value),className:"mt-1 h-28",placeholder:"--"})]}),(0,b.jsxs)("div",{className:"mt-4",children:[v&&(0,b.jsx)(n.Alert,{className:"bg-green-50 border-green-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Check,{className:"w-4 h-4 text-green-600"}),(0,b.jsx)(n.AlertDescription,{className:"text-green-800",children:v})]})}),x&&(0,b.jsx)(n.Alert,{variant:"destructive",className:"mt-2",children:(0,b.jsx)(n.AlertDescription,{children:x})})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-center gap-4",children:[(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>{window.location.href="/settings"},children:"Cancel"}),(0,b.jsx)(k.Button,{type:"submit",onClick:ac,disabled:s,children:s?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Save,{className:"w-4 h-4 mr-2"}),"Save"]})})]})]}),(0,b.jsx)(r,{employeeId:z.employeeId}),(0,b.jsxs)("div",{className:"bg-white border rounded-xl p-6 shadow-sm mt-8",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Documents"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Upload file"})]}),(0,b.jsx)("div",{onClick:()=>o.current?.click(),className:"border rounded-md h-36 flex items-center justify-center cursor-pointer bg-white hover:bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center text-slate-400",children:[(0,b.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",className:"mx-auto mb-2",children:[(0,b.jsx)("path",{d:"M12 3v10",stroke:"#9CA3AF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",stroke:"#9CA3AF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("path",{d:"M7 10l5-5 5 5",stroke:"#9CA3AF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,b.jsx)("div",{className:"text-sm",children:"Choose a file"})]})}),(0,b.jsx)("input",{ref:o,type:"file",className:"hidden",onChange:a=>{let b=a.target.files?.[0]??null;if(!b){W(null),Y("");return}W(b),b.type.startsWith("image/")?Y(URL.createObjectURL(b)):Y("")}}),V&&(0,b.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[X?(0,b.jsx)("img",{src:X,alt:"doc preview",className:"h-20 w-28 object-cover rounded-md border"}):(0,b.jsx)("div",{className:"h-20 w-28 flex items-center justify-center border rounded-md bg-gray-50 text-slate-600",children:(0,b.jsx)(g.Upload,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:V.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:[Math.round(V.size/1024)," KB"]}),(0,b.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,b.jsx)(k.Button,{onClick:ad,disabled:R,children:R?"Uploading...":"Upload"}),(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>{W(null),Y("")},children:"Cancel"})]}),T&&(0,b.jsx)("p",{className:"text-sm text-red-600 mt-2",children:T})]})]}),(0,b.jsx)("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:0===P.length?(0,b.jsx)("div",{className:"col-span-full text-center text-slate-500 py-6",children:"No documents uploaded."}):P.map(a=>{let c=Z.includes(a.id);return(0,b.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,b.jsx)("div",{className:"w-40 h-24 bg-gray-50 rounded-md border overflow-hidden flex items-center justify-center",children:a.mime?.startsWith("image/")&&a.url?(0,b.jsx)("img",{src:a.url,alt:a.filename,className:"object-cover w-full h-full"}):(0,b.jsx)("div",{className:"text-slate-400 text-sm px-2",children:a.filename})}),(0,b.jsx)("div",{className:"text-xs text-slate-600",children:a.filename}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:()=>af(a.url,a.filename),className:"text-xs inline-flex items-center gap-1 underline",type:"button",children:[(0,b.jsx)(j.Download,{className:"w-3 h-3"})," Download"]}),(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noreferrer",className:"text-xs underline",children:"Open"}),(0,b.jsx)("button",{onClick:()=>ae(a.id),className:"text-xs text-red-600 inline-flex items-center gap-1",disabled:c,children:c?(0,b.jsx)("span",{className:"inline-flex items-center gap-1",children:"Deleting..."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Trash2,{className:"w-3 h-3"})," Delete"]})})]})]},a.id)})}),_&&(0,b.jsx)("p",{className:"text-sm text-red-600 mt-3",children:_}),(0,b.jsx)("div",{className:"mt-6 flex justify-center",children:(0,b.jsx)(k.Button,{onClick:()=>{window.location.href="/settings"},children:"Save"})})]}),(0,b.jsx)("div",{className:"mt-6 text-center text-sm text-slate-500",children:(0,b.jsx)(d.default,{href:"/settings",className:"underline",children:"Back to settings"})})]})})}}];

//# sourceMappingURL=src_app_%28dashboard%29_settings_profile-settings_page_tsx_ae361961._.js.map