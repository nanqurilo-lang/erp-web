{"version":3,"sources":["turbopack:///[project]/src/app/(dashboard)/work/roadmap/[id]/edit/page.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useEffect, useRef, useState } from \"react\"\nimport { useParams, useRouter } from \"next/navigation\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { AlertCircle, CheckCircle2, Loader2, Trash, X } from \"lucide-react\"\n\ntype ProjectData = {\n  projectName: string\n  shortCode: string\n  startDate: string\n  deadline: string\n  noDeadline: boolean\n  projectCategory: string // will store category id (string)\n  departmentId: string\n  clientId: string\n  assignedEmployeeIds: string\n  projectSummary: string\n  currency: string\n  projectBudget: string\n  hoursEstimate: string\n  tasksNeedAdminApproval: boolean\n  allowManualTimeLogs: boolean\n  projectStatus?: string | null\n  progressPercent?: number | null\n  calculateProgressThroughTasks?: boolean | null\n  addedBy?: string | null\n}\n\nconst GATEWAY =  `${process.env.NEXT_PUBLIC_MAIN}`\n\n/* -------------------------\n   ProjectCategoryModal (unchanged)\n   ------------------------- */\ntype Category = { id: number; name: string }\n\nfunction ProjectCategoryModal({\n  open,\n  onClose,\n  onAdded,\n}: {\n  open: boolean\n  onClose: () => void\n  onAdded?: (categoryId: string) => void\n}) {\n  const [categories, setCategories] = useState<Category[]>([])\n  const [loadingList, setLoadingList] = useState(false)\n  const [saving, setSaving] = useState(false)\n  const [message, setMessage] = useState<{ type: \"success\" | \"error\"; text: string } | null>(null)\n  const [selectedName, setSelectedName] = useState<string>(\"\")\n\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") : null\n\n  const fetchCategories = async () => {\n    setLoadingList(true)\n    setMessage(null)\n    try {\n      if (!token) {\n        setMessage({ type: \"error\", text: \"No token found (login required).\" })\n        setCategories([])\n        setLoadingList(false)\n        return\n      }\n      const res = await fetch(`${GATEWAY}/api/projects/category`, { headers: { Authorization: `Bearer ${token}` } })\n      let data: any = await res.json().catch(() => null)\n      if (typeof data === \"string\") {\n        try {\n          data = JSON.parse(data)\n        } catch {}\n      }\n      if (!res.ok) {\n        setMessage({ type: \"error\", text: `Failed to load categories (${res.status})` })\n        setCategories([])\n      } else {\n        const list = Array.isArray(data) ? data.map((d: any) => ({ id: Number(d.id), name: String(d.name) })) : []\n        setCategories(list)\n      }\n    } catch (err) {\n      console.error(err)\n      setMessage({ type: \"error\", text: \"Error loading categories\" })\n    } finally {\n      setLoadingList(false)\n    }\n  }\n\n  useEffect(() => {\n    if (open) {\n      fetchCategories()\n      setSelectedName(\"\")\n      setMessage(null)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open])\n\n  const handleSave = async () => {\n    setMessage(null)\n    const name = (selectedName || \"\").trim()\n    if (!name) {\n      setMessage({ type: \"error\", text: \"Please enter a category name.\" })\n      return\n    }\n    if (!token) {\n      setMessage({ type: \"error\", text: \"No token found (login required).\" })\n      return\n    }\n    setSaving(true)\n    try {\n      const res = await fetch(`${GATEWAY}/api/projects/category`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${token}` },\n        body: JSON.stringify({ name }),\n      })\n      const text = await res.text()\n      let data: any = null\n      try {\n        data = JSON.parse(text)\n      } catch {\n        data = text\n      }\n      if (!res.ok) {\n        const errMsg = typeof data === \"string\" ? data : data?.message ?? JSON.stringify(data)\n        setMessage({ type: \"error\", text: `Failed to add: ${errMsg}` })\n      } else {\n        setMessage({ type: \"success\", text: \"Category added.\" })\n        await fetchCategories()\n        setSelectedName(\"\")\n        try {\n          const newId = typeof data === \"object\" && data?.id ? String(data.id) : String((categories.find((c) => c.name === name) || {}).id || \"\")\n          if (newId) onAdded?.(newId)\n        } catch {}\n      }\n    } catch (err) {\n      console.error(err)\n      setMessage({ type: \"error\", text: \"Error while saving category\" })\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const handleDelete = async (id: number, name?: string) => {\n    if (!window.confirm(`Delete category \"${name ?? id}\" ?`)) return\n    if (!token) {\n      setMessage({ type: \"error\", text: \"No token found (login required).\" })\n      return\n    }\n    try {\n      const res = await fetch(`${GATEWAY}/api/projects/category/${id}`, {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"text/plain\", Authorization: `Bearer ${token}` },\n      })\n      const text = await res.text().catch(() => \"\")\n      if (!res.ok) {\n        setMessage({ type: \"error\", text: `Delete failed: ${text || res.statusText}` })\n      } else {\n        setMessage({ type: \"success\", text: \"Deleted successfully.\" })\n        await fetchCategories()\n      }\n    } catch (err) {\n      console.error(err)\n      setMessage({ type: \"error\", text: \"Error deleting category\" })\n    }\n  }\n\n  if (!open) return null\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4\">\n      <div className=\"bg-white rounded-lg w-full max-w-4xl shadow-lg overflow-hidden\">\n        <div className=\"flex items-center justify-between px-6 py-4 border-b\">\n          <h3 className=\"text-lg font-medium\">Project Category</h3>\n          <button aria-label=\"Close\" onClick={onClose} className=\"rounded-full p-1 hover:bg-gray-100\" title=\"Close\">\n            <X className=\"h-5 w-5 text-gray-600\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          <div className=\"rounded-md border overflow-hidden\">\n            <table className=\"min-w-full divide-y\">\n              <thead className=\"bg-blue-50\">\n                <tr className=\"text-sm text-gray-700\">\n                  <th className=\"px-4 py-3 text-left w-12\">#</th>\n                  <th className=\"px-4 py-3 text-left\">Category Name</th>\n                  <th className=\"px-4 py-3 text-left w-28\">Action</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white\">\n                {loadingList ? (\n                  <tr>\n                    <td colSpan={3} className=\"px-4 py-6 text-center text-sm text-gray-500\">\n                      Loading...\n                    </td>\n                  </tr>\n                ) : categories.length === 0 ? (\n                  <tr>\n                    <td colSpan={3} className=\"px-4 py-6 text-center text-sm text-gray-500\">\n                      No categories found.\n                    </td>\n                  </tr>\n                ) : (\n                  categories.map((c, idx) => (\n                    <tr key={c.id} className=\"text-sm text-gray-700 border-t\">\n                      <td className=\"px-4 py-3\">{idx + 1}</td>\n                      <td className=\"px-4 py-3\">{c.name}</td>\n                      <td className=\"px-4 py-3\">\n                        <button\n                          onClick={() => handleDelete(c.id, c.name)}\n                          className=\"inline-flex items-center gap-2 rounded px-2 py-1 text-sm bg-red-50 text-red-600 hover:bg-red-100\"\n                          title=\"Delete\"\n                        >\n                          <Trash className=\"h-4 w-4\" />\n                        </button>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-sm text-gray-700\">Category Name *</label>\n            <Input placeholder=\"--\" value={selectedName} onChange={(e) => setSelectedName(e.target.value)} className=\"w-full\" />\n          </div>\n\n          {message && (\n            <Alert className={`border ${message.type === \"success\" ? \"border-green-300 bg-green-50\" : \"border-red-300 bg-red-50\"}`}>\n              <AlertDescription className={message.type === \"success\" ? \"text-green-800\" : \"text-red-800\"}>{message.text}</AlertDescription>\n            </Alert>\n          )}\n\n          <div className=\"flex items-center justify-end gap-4 pt-2 border-t mt-2\">\n            <button\n              type=\"button\"\n              onClick={() => {\n                setSelectedName(\"\")\n                onClose()\n              }}\n              className=\"px-6 py-2 rounded border border-blue-200 text-blue-600 hover:bg-blue-50\"\n            >\n              Cancel\n            </button>\n\n            <button type=\"button\" onClick={handleSave} disabled={saving} className={`px-6 py-2 rounded text-white ${saving ? \"bg-blue-300\" : \"bg-blue-600 hover:bg-blue-700\"}`}>\n              {saving ? \"Saving...\" : \"Save\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n/* -------------------------\n   MultiSelectEmployeeDropdown (new)\n   - lightweight, used for \"Assigned to\"\n   - exposes selected employeeIds array and writes out hidden input value (comma-separated)\n   ------------------------- */\ntype Employee = { employeeId: string; name: string; profilePictureUrl?: string }\n\nfunction MultiSelectEmployeeDropdown({\n  employees,\n  selected,\n  onChange,\n  placeholder = \"Select employees\",\n}: {\n  employees: Employee[]\n  selected: string[] // employeeId[]\n  onChange: (selectedIds: string[]) => void\n  placeholder?: string\n}) {\n  const [open, setOpen] = useState(false)\n  const ref = useRef<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    const onDoc = (e: MouseEvent) => {\n      if (!ref.current) return\n      if (!ref.current.contains(e.target as Node)) setOpen(false)\n    }\n    document.addEventListener(\"click\", onDoc)\n    return () => document.removeEventListener(\"click\", onDoc)\n  }, [])\n\n  const toggleSelect = (id: string) => {\n    if (selected.includes(id)) onChange(selected.filter((s) => s !== id))\n    else onChange([...selected, id])\n  }\n\n  return (\n    <div ref={ref} className=\"relative\">\n      <div\n        onClick={() => setOpen((s) => !s)}\n        className=\"border rounded-md px-3 py-2 min-h-[44px] flex items-center gap-2 cursor-pointer bg-white\"\n        role=\"button\"\n      >\n        <div className=\"flex-1 flex items-center gap-2 flex-wrap\">\n          {selected.length === 0 ? (\n            <div className=\"text-gray-400 text-sm\">{placeholder}</div>\n          ) : (\n            selected.map((id) => {\n              const emp = employees.find((e) => e.employeeId === id)\n              return (\n                <div key={id} className=\"inline-flex items-center gap-2 bg-gray-100 rounded-full px-2 py-1 text-xs\">\n                  {emp?.profilePictureUrl ? (\n                    <img src={emp.profilePictureUrl} alt={emp?.name} className=\"h-5 w-5 rounded-full object-cover\" />\n                  ) : (\n                    <div className=\"h-5 w-5 rounded-full bg-gray-300 flex items-center justify-center text-xs text-white\">{(emp?.name || \"U\").slice(0, 1)}</div>\n                  )}\n                  <span className=\"whitespace-nowrap\">{emp?.name ?? id}</span>\n                </div>\n              )\n            })\n          )}\n        </div>\n\n        <div className=\"text-sm text-gray-500\">{open ? \"▲\" : \"▼\"}</div>\n      </div>\n\n      {open && (\n        <div className=\"absolute z-40 mt-2 w-full bg-white border rounded-md shadow-lg max-h-60 overflow-auto\">\n          <div className=\"p-2\">\n            {employees.length === 0 ? (\n              <div className=\"text-sm text-gray-500 p-2\">No employees</div>\n            ) : (\n              employees.map((emp) => {\n                const checked = selected.includes(emp.employeeId)\n                return (\n                  <label key={emp.employeeId} className=\"flex items-center gap-2 px-2 py-2 hover:bg-gray-50 cursor-pointer\">\n                    <input type=\"checkbox\" checked={checked} onChange={() => toggleSelect(emp.employeeId)} />\n                    {emp.profilePictureUrl ? (\n                      <img src={emp.profilePictureUrl} alt={emp.name} className=\"h-7 w-7 rounded-full object-cover\" />\n                    ) : (\n                      <div className=\"h-7 w-7 rounded-full bg-gray-200 flex items-center justify-center text-xs\">{emp.name.slice(0, 1)}</div>\n                    )}\n                    <div className=\"flex-1 text-sm\">\n                      <div className=\"font-medium\">{emp.name}</div>\n                      <div className=\"text-xs text-gray-500\">{emp.employeeId}</div>\n                    </div>\n                  </label>\n                )\n              })\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n/* -------------------------\n   Main EditProjectPage\n   ------------------------- */\nexport default function EditProjectPage() {\n  const params = useParams()\n  const router = useRouter()\n  const projectId = params.id as string\n\n  const [loading, setLoading] = useState(false)\n  const [fetching, setFetching] = useState(true)\n  const [message, setMessage] = useState(\"\")\n  const [messageType, setMessageType] = useState<\"success\" | \"error\" | \"\">(\"\")\n  const [projectData, setProjectData] = useState<ProjectData | null>(null)\n\n  // categories, departments, clients\n  const [categories, setCategories] = useState<Category[]>([])\n  const [departments, setDepartments] = useState<Array<{ id: number; departmentName: string }>>([])\n  const [clients, setClients] = useState<Array<{ id: number; name: string }>>([])\n\n  // employees for Assigned to\n  const [employees, setEmployees] = useState<Employee[]>([])\n  const [selectedEmployeeIds, setSelectedEmployeeIds] = useState<string[]>([])\n\n  // controlled selects\n  const [categoryId, setCategoryId] = useState<string>(\"none\")\n  const [departmentId, setDepartmentId] = useState<string>(\"none\")\n  const [clientId, setClientId] = useState<string>(\"none\")\n\n  // status/progress UI state\n  const [projectStatus, setProjectStatus] = useState<string | \"none\">(\"none\")\n  const [progressPercent, setProgressPercent] = useState<number>(0)\n  const [calculateThroughTasks, setCalculateThroughTasks] = useState<boolean>(false)\n  const [addedBy, setAddedBy] = useState<string>(\"you\")\n\n  // modal\n  const [showCategoryModal, setShowCategoryModal] = useState(false)\n\n  // token helper\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"accessToken\") : null\n\n  // fetch project\n  useEffect(() => {\n    const fetchProject = async () => {\n      setFetching(true)\n      try {\n        if (!token) {\n          setMessage(\"No token found!\")\n          setMessageType(\"error\")\n          setFetching(false)\n          return\n        }\n        const res = await fetch(`/api/work/project?id=${projectId}`, { headers: { Authorization: `Bearer ${token}` } })\n        const data = await res.json().catch(() => ({}))\n        if (!res.ok) {\n          const errorMsg = typeof (data as any)?.error === \"string\" ? (data as any).error : (data as any)?.message || \"Failed to fetch project\"\n          setMessage(errorMsg)\n          setMessageType(\"error\")\n        } else {\n          const project = Array.isArray(data) ? data[0] : data\n          const assignedStr = Array.isArray(project.assignedEmployeeIds) ? project.assignedEmployeeIds.join(\",\") : project.assignedEmployeeIds ?? \"\"\n\n          const pd: ProjectData = {\n            projectName: project.projectName || \"\",\n            shortCode: project.shortCode || \"\",\n            startDate: project.startDate ? project.startDate.split(\"T\")[0] : \"\",\n            deadline: project.deadline ? project.deadline.split(\"T\")[0] : \"\",\n            noDeadline: Boolean(project.noDeadline),\n            projectCategory: project.projectCategory ? String(project.projectCategory) : \"\",\n            departmentId: project.departmentId || \"\",\n            clientId: project.clientId || \"\",\n            assignedEmployeeIds: assignedStr,\n            projectSummary: project.projectSummary || \"\",\n            currency: project.currency || \"USD\",\n            projectBudget: project.projectBudget ?? \"\",\n            hoursEstimate: project.hoursEstimate ?? \"\",\n            tasksNeedAdminApproval: Boolean(project.tasksNeedAdminApproval),\n            allowManualTimeLogs: Boolean(project.allowManualTimeLogs),\n            projectStatus: project.projectStatus ?? \"none\",\n            progressPercent: typeof project.progressPercent !== \"undefined\" ? Number(project.progressPercent) : 0,\n            calculateProgressThroughTasks: Boolean(project.calculateProgressThroughTasks ?? false),\n            addedBy: project.addedBy ?? \"you\",\n          }\n\n          setProjectData(pd)\n          setProjectStatus((pd.projectStatus as string) ?? \"none\")\n          setProgressPercent(Number(pd.progressPercent ?? 0))\n          setCalculateThroughTasks(Boolean(pd.calculateProgressThroughTasks ?? false))\n          setAddedBy(pd.addedBy ?? \"you\")\n\n          // controlled selects\n          setCategoryId(pd.projectCategory ?? \"none\")\n          setDepartmentId(pd.departmentId ?? \"none\")\n          setClientId(pd.clientId ?? \"none\")\n\n          // set selected employees from assignedEmployeeIds string\n          const selectedArr = (pd.assignedEmployeeIds || \"\").split(\",\").map((s) => s.trim()).filter(Boolean)\n          setSelectedEmployeeIds(selectedArr)\n        }\n      } catch (err) {\n        console.error(err)\n        setMessage(\"Error fetching project\")\n        setMessageType(\"error\")\n      } finally {\n        setFetching(false)\n      }\n    }\n\n    fetchProject()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [projectId])\n\n  // fetch categories, departments, clients, employees\n  useEffect(() => {\n    if (!token) return\n\n    const fetchCategories = async () => {\n      try {\n        const res = await fetch(`${GATEWAY}/api/projects/category`, { headers: { Authorization: `Bearer ${token}` } })\n        let data: any = await res.json().catch(() => null)\n        if (typeof data === \"string\") {\n          try {\n            data = JSON.parse(data)\n          } catch {}\n        }\n        const list = Array.isArray(data) ? data.map((d: any) => ({ id: Number(d.id), name: String(d.name) })) : []\n        setCategories(list)\n      } catch (err) {\n        console.error(\"Error loading categories\", err)\n      }\n    }\n\n    const fetchDepartments = async () => {\n      try {\n        const res = await fetch(`${GATEWAY}/admin/departments`, { headers: { Authorization: `Bearer ${token}` } })\n        let data: any = await res.json().catch(() => null)\n        if (typeof data === \"string\") {\n          try {\n            data = JSON.parse(data)\n          } catch {}\n        }\n        const list = Array.isArray(data) ? data.map((d: any) => ({ id: Number(d.id), departmentName: d.departmentName })) : []\n        setDepartments(list)\n      } catch (err) {\n        console.error(\"Error loading departments\", err)\n      }\n    }\n\n    const fetchClients = async () => {\n      try {\n        const res = await fetch(`${GATEWAY}/clients`, { headers: { Authorization: `Bearer ${token}` } })\n        let data: any = await res.json().catch(() => null)\n        if (typeof data === \"string\") {\n          try {\n            data = JSON.parse(data)\n          } catch {}\n        }\n        const list = Array.isArray(data) ? data.map((c: any) => ({ id: Number(c.id), name: c.name || c.company?.companyName || `Client ${c.id}` })) : []\n        setClients(list)\n      } catch (err) {\n        console.error(\"Error loading clients\", err)\n      }\n    }\n\n    const fetchEmployees = async () => {\n      try {\n        const res = await fetch(`${GATEWAY}/employee/all?page=0&size=20`, { headers: { Authorization: `Bearer ${token}` } })\n        let data: any = await res.json().catch(() => null)\n        // server returns object with content array\n        if (typeof data === \"string\") {\n          try {\n            data = JSON.parse(data)\n          } catch {}\n        }\n        const content = data?.content ?? data\n        const list = Array.isArray(content)\n          ? content.map((e: any) => ({\n              employeeId: e.employeeId,\n              name: e.name || e.employeeId,\n              profilePictureUrl: e.profilePictureUrl || \"\",\n            }))\n          : []\n        setEmployees(list)\n      } catch (err) {\n        console.error(\"Error loading employees\", err)\n      }\n    }\n\n    fetchCategories()\n    fetchDepartments()\n    fetchClients()\n    fetchEmployees()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [token])\n\n  const memberOptions = projectData ? Array.from(new Set((projectData.assignedEmployeeIds || \"\").split(\",\").map((s) => s.trim()).filter(Boolean))) : []\n\n  const getProgressColor = (p?: number | null) => {\n    if (p === undefined || p === null) return \"bg-gray-300\"\n    if (p < 33) return \"bg-red-500\"\n    if (p < 66) return \"bg-yellow-400\"\n    return \"bg-green-500\"\n  }\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    setLoading(true)\n    setMessage(\"\")\n    setMessageType(\"\")\n\n    const form = e.currentTarget\n    const fd = new FormData(form)\n\n    fd.set(\"noDeadline\", (form as any).noDeadline?.checked ? \"true\" : \"false\")\n    fd.set(\"tasksNeedAdminApproval\", (form as any).tasksNeedAdminApproval?.checked ? \"true\" : \"false\")\n    fd.set(\"allowManualTimeLogs\", (form as any).allowManualTimeLogs?.checked ? \"true\" : \"false\")\n\n    fd.set(\"projectCategory\", categoryId === \"none\" ? \"\" : categoryId)\n    fd.set(\"departmentId\", departmentId === \"none\" ? \"\" : departmentId)\n    fd.set(\"clientId\", clientId === \"none\" ? \"\" : clientId)\n\n    // write assignedEmployeeIds from selectedEmployeeIds array (comma-separated)\n    fd.set(\"assignedEmployeeIds\", selectedEmployeeIds.join(\",\"))\n\n    if (projectStatus && projectStatus !== \"none\") fd.set(\"projectStatus\", String(projectStatus))\n    fd.set(\"progressPercent\", String(Math.max(0, Math.min(100, Math.round(progressPercent || 0)))))\n    fd.set(\"calculateProgressThroughTasks\", String(Boolean(calculateThroughTasks)))\n    fd.set(\"addedBy\", String(addedBy || \"\"))\n\n    if (!token) {\n      setMessage(\"No token found!\")\n      setMessageType(\"error\")\n      setLoading(false)\n      return\n    }\n\n    try {\n      const res = await fetch(`/api/work/project?id=${projectId}`, {\n        method: \"PUT\",\n        headers: { Authorization: `Bearer ${token}` },\n        body: fd,\n      })\n      const data = await res.json().catch(() => ({}))\n      if (!res.ok) {\n        const errorMsg = typeof (data as any)?.error === \"string\" ? (data as any).error : (data as any)?.message || JSON.stringify(data)\n        setMessage(errorMsg)\n        setMessageType(\"error\")\n      } else {\n        setMessage(\"Project updated successfully!\")\n        setMessageType(\"success\")\n        setTimeout(() => router.push(\"/work/project/all\"), 1200)\n      }\n    } catch (err) {\n      console.error(err)\n      setMessage(\"Error submitting form\")\n      setMessageType(\"error\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (fetching) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-background to-muted p-6 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Loader2 className=\"h-8 w-8 animate-spin mx-auto mb-4 text-primary\" />\n          <p className=\"text-muted-foreground\">Loading project...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background to-muted p-6\">\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"mb-6 flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-semibold\">Update Project</h1>\n          </div>\n          <div />\n        </div>\n\n        {message && (\n          <Alert className={`mb-6 ${messageType === \"success\" ? \"border-green-500 bg-green-50\" : \"border-red-500 bg-red-50\"}`}>\n            <div className=\"flex items-center gap-2\">\n              {messageType === \"success\" ? <CheckCircle2 className=\"h-4 w-4 text-green-600\" /> : <AlertCircle className=\"h-4 w-4 text-red-600\" />}\n              <AlertDescription className={messageType === \"success\" ? \"text-green-800\" : \"text-red-800\"}>{message}</AlertDescription>\n            </div>\n          </Alert>\n        )}\n\n        {projectData && (\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Project Details */}\n            <div className=\"bg-white rounded-lg border\">\n              <div className=\"p-4 border-b\">\n                <h3 className=\"font-medium\">Project Details</h3>\n              </div>\n\n              <div className=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">Short Code *</label>\n                  <Input name=\"shortCode\" defaultValue={projectData.shortCode} />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">Project Name *</label>\n                  <Input name=\"projectName\" defaultValue={projectData.projectName} />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">Start Date *</label>\n                  <Input type=\"date\" name=\"startDate\" defaultValue={projectData.startDate} />\n                </div>\n\n                <div>\n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"flex-1\">\n                      <label className=\"block text-sm text-gray-700 mb-2\">Deadline *</label>\n                      <Input type=\"date\" name=\"deadline\" defaultValue={projectData.deadline} />\n                    </div>\n                    <div className=\"pt-6\">\n                      <label className=\"inline-flex items-center gap-2 text-sm text-gray-600\">\n                        <input type=\"checkbox\" name=\"noDeadline\" defaultChecked={projectData.noDeadline} />\n                        <span className=\"text-xs\">There is no project deadline</span>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">Project Category *</label>\n                  <div className=\"flex gap-2\">\n                    <Select value={categoryId} onValueChange={(v) => setCategoryId(v)}>\n                      <SelectTrigger className=\"w-full\">\n                        <SelectValue placeholder=\"--\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"none\">--</SelectItem>\n                        {categories.map((c) => (\n                          <SelectItem key={c.id} value={String(c.id)}>\n                            {c.name}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    <Button variant=\"outline\" onClick={() => setShowCategoryModal(true)}>\n                      Add\n                    </Button>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">Department *</label>\n                  <Select value={departmentId} onValueChange={(v) => setDepartmentId(v)}>\n                    <SelectTrigger className=\"w-full\">\n                      <SelectValue placeholder=\"--\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"none\">--</SelectItem>\n                      {departments.map((d) => (\n                        <SelectItem key={d.id} value={String(d.id)}>\n                          {d.departmentName}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">Client *</label>\n                  <Select value={clientId} onValueChange={(v) => setClientId(v)}>\n                    <SelectTrigger className=\"w-full\">\n                      <SelectValue placeholder=\"--\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"none\">--</SelectItem>\n                      {clients.map((c) => (\n                        <SelectItem key={c.id} value={String(c.id)}>\n                          {c.name}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm text-gray-700 mb-2\">Project Summary</label>\n                  <Textarea name=\"projectSummary\" rows={4} defaultValue={projectData.projectSummary} />\n                </div>\n\n                <div>\n                  <div className=\"text-sm text-gray-600 mb-1\">Tasks needs approval by Admin</div>\n                  <div className=\"flex items-center gap-4\">\n                    <label className=\"inline-flex items-center gap-2\">\n                      <input type=\"radio\" name=\"tasksNeedAdminApproval\" value=\"true\" defaultChecked={projectData.tasksNeedAdminApproval === true} />\n                      <span className=\"text-sm\">Yes</span>\n                    </label>\n                    <label className=\"inline-flex items-center gap-2\">\n                      <input type=\"radio\" name=\"tasksNeedAdminApproval\" value=\"false\" defaultChecked={projectData.tasksNeedAdminApproval === false} />\n                      <span className=\"text-sm\">No</span>\n                    </label>\n                  </div>\n                </div>\n\n                {/* Assigned to -> REPLACED with MultiSelectEmployeeDropdown */}\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">Assigned to *</label>\n\n                  {/* Hidden input to submit assignedEmployeeIds (comma-separated) */}\n                  <input type=\"hidden\" name=\"assignedEmployeeIds\" value={selectedEmployeeIds.join(\",\")} />\n\n                  <MultiSelectEmployeeDropdown\n                    employees={employees}\n                    selected={selectedEmployeeIds}\n                    onChange={(ids) => setSelectedEmployeeIds(ids)}\n                    placeholder=\"Select employees\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Status + Progress */}\n            <div className=\"bg-white rounded-lg border\">\n              <div className=\"p-4 border-b\">\n                <h3 className=\"font-medium\">Project Status</h3>\n              </div>\n              <div className=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-6 items-center\">\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">Project Status</label>\n                  <Select value={projectStatus} onValueChange={(v) => setProjectStatus(v as string | \"none\")}>\n                    <SelectTrigger className=\"w-full\">\n                      <SelectValue placeholder=\"Select status\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"none\">--</SelectItem>\n                      <SelectItem value=\"IN_PROGRESS\">In Progress</SelectItem>\n                      <SelectItem value=\"NOT_STARTED\">Not Started</SelectItem>\n                      <SelectItem value=\"ON_HOLD\">On Hold</SelectItem>\n                      <SelectItem value=\"CANCELLED\">Cancelled</SelectItem>\n                      <SelectItem value=\"FINISHED\">Finished</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-2\">Project Progress Status</label>\n                  <div className=\"space-y-3\">\n                    <div className=\"relative bg-gray-200 h-3 rounded-full overflow-hidden\">\n                      <div className={`${getProgressColor(progressPercent)} h-3 rounded-full`} style={{ width: `${Math.max(0, Math.min(100, progressPercent))}%` }} />\n                      <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none text-xs font-semibold text-white\">\n                        {Math.round(progressPercent)}%\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-3\">\n                      <input type=\"range\" min={0} max={100} value={progressPercent} onChange={(e) => setProgressPercent(Number(e.target.value))} className=\"flex-1\" />\n                      <label className=\"inline-flex items-center gap-2 text-sm\">\n                        <input type=\"checkbox\" checked={calculateThroughTasks} onChange={(e) => setCalculateThroughTasks(e.target.checked)} />\n                        <span className=\"text-xs\">Calculate Progress through tasks</span>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Company Details */}\n            <div className=\"bg-white rounded-lg border\">\n              <div className=\"p-4 border-b\">\n                <h3 className=\"font-medium\">Company Details</h3>\n              </div>\n\n              <div className=\"p-6 space-y-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\n                  <div>\n                    <label className=\"block text-sm text-gray-700 mb-2\">Currency</label>\n                    <Select value={projectData.currency ?? \"USD\"} onValueChange={() => {}}>\n                      <SelectTrigger className=\"w-full\">\n                        <SelectValue placeholder=\"USD $\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"USD\">USD $</SelectItem>\n                        <SelectItem value=\"USD\">USD ₹</SelectItem>\n                        <SelectItem value=\"EUR\">EUR €</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm text-gray-700 mb-2\">Project Budget</label>\n                    <Input type=\"number\" name=\"projectBudget\" defaultValue={projectData.projectBudget} />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm text-gray-700 mb-2\">Hours Estimate (In Hours)</label>\n                    <Input type=\"number\" name=\"hoursEstimate\" defaultValue={projectData.hoursEstimate} />\n                  </div>\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-4\">\n                    <label className=\"inline-flex items-center gap-2\">\n                      <input type=\"checkbox\" name=\"allowManualTimeLogs\" defaultChecked={projectData.allowManualTimeLogs} />\n                      <span className=\"text-sm text-gray-600\">Allow manual time logs</span>\n                    </label>\n                  </div>\n\n                  <div className=\"flex items-center gap-2\">\n                    <label className=\"text-sm text-gray-600 mr-2\">Added by*</label>\n                    <Select value={addedBy} onValueChange={(v) => setAddedBy(v)}>\n                      <SelectTrigger className=\"w-44\">\n                        <SelectValue placeholder=\"You\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"you\">You</SelectItem>\n                        {memberOptions.map((m) => (\n                          <SelectItem key={m} value={m}>\n                            {m}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex items-center justify-end gap-3\">\n              <Button variant=\"outline\" onClick={() => router.back()}>\n                Cancel\n              </Button>\n              <Button className=\"bg-blue-600 text-white\" type=\"submit\" disabled={loading}>\n                {loading ? \"Updating...\" : \"Update\"}\n              </Button>\n            </div>\n          </form>\n        )}\n\n        {/* Category Modal */}\n        <ProjectCategoryModal\n          open={showCategoryModal}\n          onClose={() => setShowCategoryModal(false)}\n          onAdded={(newId) => {\n            ;(async () => {\n              if (!token) return\n              try {\n                const res = await fetch(`${GATEWAY}/api/projects/category`, { headers: { Authorization: `Bearer ${token}` } })\n                let data: any = await res.json().catch(() => null)\n                if (typeof data === \"string\") {\n                  try {\n                    data = JSON.parse(data)\n                  } catch {}\n                }\n                const list = Array.isArray(data) ? data.map((d: any) => ({ id: Number(d.id), name: String(d.name) })) : []\n                setCategories(list)\n                if (newId) setCategoryId(newId)\n              } catch (err) {\n                console.error(err)\n              } finally {\n                setShowCategoryModal(false)\n              }\n            })()\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n\n/* Helper (same as earlier) */\nfunction getProgressColor(p?: number | null) {\n  if (p === undefined || p === null) return \"bg-gray-300\"\n  if (p < 33) return \"bg-red-500\"\n  if (p < 66) return \"bg-yellow-400\"\n  return \"bg-green-500\"\n}\n"],"names":[],"mappings":"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"}