{"version":3,"sources":["turbopack:///[project]/src/app/(employee)/employees/employee/page.tsx","turbopack:///[project]/src/app/(employee)/employees/employee/_components/EmployeeLeaveQuotaTable.tsx"],"sourcesContent":["\n\n\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Clock } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\nimport EmployeeLeaveQuotaTable from \"./_components/EmployeeLeaveQuotaTable\";\n\ntype Employee = {\n  employeeId: string;\n  name: string;\n  departmentName: string;\n  designationName: string;\n  profilePictureUrl?: string;\n};\ntype Appreciation = {\n  id: number;\n  awardTitle: string;\n  givenToEmployeeName: string;\n  date: string;\n  photoUrl?: string;\n  summary?: string;\n};\n\nconst MAIN = process.env.NEXT_PUBLIC_MAIN;\nconst GATEWAY = process.env.NEXT_PUBLIC_MAIN;\nconst URLS = {\n  PROFILE: `${MAIN}/employee/me`,\n  // PROJECT_COUNTS: `${MAIN}/api/projects/counts`,\n  PROJECT_COUNTS: `${MAIN}/projects/counts/me`,\n  //  TASK_COUNTS: `${MAIN}/api/projects/tasks/status/counts`,\n  TASK_COUNTS: `${MAIN}/projects/tasks/counts/me`,\n  DEAL_STATS: `${MAIN}/deals/stats`,\n  FOLLOWUPS: `${MAIN}/deals/followups/summary`,\n  MY_TASKS: `${MAIN}/me/tasks`,\n  TIMESHEET_DAY: (d: string) => `${MAIN}/timesheets/me/day?date=${d}`,\n  ACTIVITIES: (d: string) =>\n    `${MAIN}/employee/attendance/clock/activities?date=${d}`,\n  APPRECIATIONS: `${GATEWAY}/employee/appreciations`,\n  BIRTHDAYS: `${MAIN}/employee/birthdays`,\n  LEAVES_CALENDAR: (d: string) =>\n    `${MAIN}/employee/api/leaves/calendar?date=${d}`,\n  WFH: (d: string) => `${MAIN}/employee/attendance/wfh?date=${d}`,\n  CLOCK_IN: `${GATEWAY}/employee/attendance/clock/in`,\n  CLOCK_OUT: `${GATEWAY}/employee/attendance/clock/out`,\n};\n\nconst LOCKED_KEY = \"erp_clockout_locked_dates\";\n\nfunction getLockedDates(): string[] {\n  try {\n    const raw = localStorage.getItem(LOCKED_KEY);\n    if (!raw) return [];\n    const parsed = JSON.parse(raw);\n    if (Array.isArray(parsed)) return parsed;\n    return [];\n  } catch (e) {\n    return [];\n  }\n}\nfunction isDateLocked(dateIso: string) {\n  return getLockedDates().includes(dateIso);\n}\nfunction lockDate(dateIso: string) {\n  try {\n    const arr = getLockedDates();\n    if (!arr.includes(dateIso)) {\n      arr.push(dateIso);\n      localStorage.setItem(LOCKED_KEY, JSON.stringify(arr));\n    }\n  } catch (e) {\n    // ignore\n  }\n}\n\n\n\n\nfunction unlockDate(dateIso: string) {\n  try {\n    const arr = getLockedDates().filter((d) => d !== dateIso);\n    localStorage.setItem(LOCKED_KEY, JSON.stringify(arr));\n  } catch (e) {\n    // ignore\n  }\n}\n\nexport default function Dashboard() {\n  const [employee, setEmployee] = useState<Employee | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [now, setNow] = useState(\"\");\n  const [isClockedIn, setIsClockedIn] = useState(false);\n  const [hasClockedOut, setHasClockedOut] = useState(false);\n\n  const [showClockModal, setShowClockModal] = useState(false);\n  const [showClockOutModal, setShowClockOutModal] = useState(false);\n  const [tasks, setTasks] = useState<any[]>([]);\n  const [timelog, setTimelog] = useState({ duration: \"0hrs\", progress: 0 });\n  const [activities, setActivities] = useState<any[]>([]);\n  const [appreciations, setAppreciations] = useState<Appreciation[]>([]);\n  const [birthdays, setBirthdays] = useState<any[]>([]);\n  const [leaves, setLeaves] = useState<any[]>([]);\n  const [wfhs, setWfhs] = useState<any[]>([]);\n  const [form, setForm] = useState({\n    clockInLocation: \"Office Gate A\",\n    clockInWorkingFrom: \"Office\",\n  });\n  const [projectsCnt, setProjectsCnt] = useState({ pending: 0, overdue: 0 });\n  const [tasksCnt, setTasksCnt] = useState({ pending: 0, overdue: 0 });\n  const [dealsCnt, setDealsCnt] = useState({\n    totalDeals: 0,\n    convertedDeals: 0,\n  });\n\n\n  const [followUpCnt, setFollowUpCnt] = useState({ pending: 0, upcoming: 0 });\n\n  const fetchedRef = useRef(false);\n  const todayIso = new Date().toISOString().slice(0, 10);\n  const [selectedDay, setSelectedDay] = useState(todayIso);\n\n  const hhmmss = (d = new Date()) => d.toTimeString().slice(0, 8);\n  const pad = (n: number) => n.toString().padStart(2, \"0\");\n  const statusColor = (s = \"\") =>\n    s.includes(\"Incomplete\")\n      ? \"bg-red-100 text-red-800 border-red-200\"\n      : s === \"Doing\"\n        ? \"bg-blue-100 text-blue-800 border-blue-200\"\n        : \"bg-yellow-100 text-yellow-800 border-yellow-200\";\n\n  // fast local read for today's lock so initial render isn't janky\n  useEffect(() => {\n    setHasClockedOut(isDateLocked(todayIso));\n  }, [todayIso]);\n\n  useEffect(() => {\n    if (fetchedRef.current) return;\n    fetchedRef.current = true;\n    (async () => {\n      try {\n        const token = localStorage.getItem(\"accessToken\");\n        if (!token) throw new Error(\"no token\");\n        const headers = { Authorization: `Bearer ${token}` };\n        const [\n          pRes,\n          tRes,\n          prRes,\n          tkRes,\n          dRes,\n          fRes,\n          tsRes,\n          actRes,\n          appRes,\n          birthRes,\n          leaveRes,\n          wfhRes,\n        ] = await Promise.all([\n          fetch(URLS.PROFILE, { headers }),\n          fetch(URLS.MY_TASKS, { headers }),\n          fetch(URLS.PROJECT_COUNTS, { headers }),\n          fetch(URLS.TASK_COUNTS, { headers }),\n          fetch(URLS.DEAL_STATS, { headers }),\n          fetch(URLS.FOLLOWUPS, { headers }),\n          fetch(URLS.TIMESHEET_DAY(todayIso), { headers }),\n          fetch(URLS.ACTIVITIES(todayIso), { headers }),\n          fetch(URLS.APPRECIATIONS, { headers }),\n          fetch(URLS.BIRTHDAYS, { headers }),\n          fetch(URLS.LEAVES_CALENDAR(todayIso), { headers }),\n          fetch(URLS.WFH(todayIso), { headers }),\n        ]);\n\n        if (pRes.ok) {\n          const p = await pRes.json();\n          setEmployee({\n            employeeId: p.employeeId,\n            name: p.name,\n            departmentName: p.departmentName,\n            designationName: p.designationName,\n            profilePictureUrl: p.profilePictureUrl,\n          });\n        }\n        if (tRes.ok) {\n          const t = await tRes.json();\n          setTasks(\n            (t || []).map((it: any) => ({\n              id: it.id,\n              title: it.title,\n              status: it.taskStage?.name || \"N/A\",\n              dueDate: it.dueDate || \"-\",\n              priority: it.priority || (it.labels?.[0]?.name ?? \"Low\"),\n            }))\n          );\n        }\n        if (prRes.ok) {\n          const pr = await prRes.json();\n          setProjectsCnt({\n            pending: pr.pendingCount ?? 0,\n            overdue: pr.overdueCount ?? 0,\n          });\n\n\n        }\n        if (tkRes.ok) {\n\n\n          const tk = await tkRes.json();\n          setTasksCnt({\n            pending: tk.pendingCount ?? 0,\n            overdue: tk.overdueCount ?? 0,\n          });\n        }\n        // if (dRes.ok) {\n        //   const d = await dRes.json();\n        //   setDealsCnt({\n        //     totalDeals: d.totalDeals ?? 0,\n        //     convertedDeals: d.convertedDeals ?? 0,\n        //   });\n        // }\n        // if (fRes.ok) {\n        //   const f = await fRes.json();\n        //   setFollowUpCnt({\n        //     pending: f.pendingCount ?? 0,\n        //     upcoming: f.upcomingCount ?? 0,\n        //   });\n        // }\n\n\n        if (tsRes.ok) {\n          const ts = await tsRes.json();\n          const mins =\n            ts?.summary?.totalMinutes ??\n            Math.round((ts?.summary?.totalHours ?? 0) * 60);\n          setTimelog({\n            duration: `${Math.round(mins / 60)}hrs`,\n            progress: mins ? Math.min(100, Math.round((mins / 480) * 100)) : 0,\n          });\n        }\n        if (actRes.ok) {\n          const a = await actRes.json();\n          setActivities(Array.isArray(a) ? a : []);\n\n          // derive server-side flags (careful with field names)\n          const serverHasIn = (a || []).some(\n            (x: any) => x.type === \"IN\" || x.clockInTime || x.clockIn || x.time\n          );\n          const serverHasOut = (a || []).some(\n            (x: any) => x.type === \"OUT\" || x.clockOutTime || x.clockOut\n          );\n          const serverClockedIn = (a || []).some(\n            (x: any) =>\n              (x.type === \"IN\" || x.clockInTime || x.clockIn || x.time) &&\n              !(x.type === \"OUT\" || x.clockOutTime || x.clockOut)\n          );\n\n          setIsClockedIn(Boolean(serverClockedIn));\n\n          // If local lock exists but server shows no activity at all -> treat lock as stale and remove.\n          const localLock = isDateLocked(todayIso);\n          if (localLock && !serverHasIn && !serverHasOut) {\n            unlockDate(todayIso);\n            setHasClockedOut(false);\n          } else {\n            // Persisted-out OR server-out both mean user has clocked out for that day.\n            setHasClockedOut(Boolean(localLock || serverHasOut));\n          }\n        }\n        if (appRes.ok) {\n          const ar = await appRes.json();\n          setAppreciations(\n            (ar || []).map((x: any) => ({\n              id: x.id,\n              awardTitle: x.awardTitle,\n              givenToEmployeeName: x.givenToEmployeeName,\n              date: x.date,\n              photoUrl: x.photoUrl ?? undefined,\n              summary: x.summary ?? \"\",\n            }))\n          );\n        }\n        if (birthRes.ok) {\n          const br = await birthRes.json();\n          setBirthdays(Array.isArray(br) ? br : []);\n        }\n        if (leaveRes.ok) {\n          const lr = await leaveRes.json();\n          const flat = Array.isArray(lr)\n            ? lr.flatMap((entry: any) =>\n              (entry.employeesOnLeave || []).map((e: any) => ({\n                ...e,\n                date: entry.date,\n              }))\n            )\n            : [];\n          setLeaves(flat);\n        }\n        if (wfhRes.ok) {\n          const wr = await wfhRes.json();\n          setWfhs(Array.isArray(wr) ? wr : []);\n        }\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const id = setInterval(() => {\n      setNow(\n        new Date().toLocaleTimeString([], {\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n          hour12: true,\n        })\n      );\n    }, 1000);\n    return () => clearInterval(id);\n  }, []);\n\n  // loadDay respects local lock and also applies the \"clear stale local lock\" rule:\n  const loadDay = async (iso: string) => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) return;\n      const headers = { Authorization: `Bearer ${token}` };\n      const [tsRes, actRes, leaveRes, wfhRes] = await Promise.all([\n        fetch(URLS.TIMESHEET_DAY(iso), { headers }),\n        fetch(URLS.ACTIVITIES(iso), { headers }),\n        fetch(URLS.LEAVES_CALENDAR(iso), { headers }),\n        fetch(URLS.WFH(iso), { headers }),\n      ]);\n      if (tsRes.ok) {\n        const ts = await tsRes.json();\n        const mins =\n          ts?.summary?.totalMinutes ??\n          Math.round((ts?.summary?.totalHours ?? 0) * 60);\n        setTimelog({\n          duration: `${Math.round(mins / 60)}hrs`,\n          progress: mins ? Math.min(100, Math.round((mins / 480) * 100)) : 0,\n        });\n      } else setTimelog({ duration: \"0hrs\", progress: 0 });\n\n      if (actRes.ok) {\n        const a = await actRes.json();\n        setActivities(Array.isArray(a) ? a : []);\n\n        const serverHasIn = (a || []).some(\n          (x: any) =>\n            x.type === \"IN\" || x.clockInTime || x.clockIn || x.time\n        );\n        const serverHasOut = (a || []).some(\n          (x: any) => x.type === \"OUT\" || x.clockOutTime || x.clockOut\n        );\n        const serverClockedIn = (a || []).some(\n          (x: any) =>\n            (x.type === \"IN\" || x.clockInTime || x.clockIn || x.time) &&\n            !(x.type === \"OUT\" || x.clockOutTime || x.clockOut)\n        );\n\n        setIsClockedIn(Boolean(serverClockedIn));\n\n        const localLock = isDateLocked(iso);\n        if (localLock && !serverHasIn && !serverHasOut) {\n          // stale local lock -> remove\n          unlockDate(iso);\n          setHasClockedOut(false);\n        } else {\n          setHasClockedOut(Boolean(localLock || serverHasOut));\n        }\n      } else {\n        setActivities([]);\n        setIsClockedIn(false);\n        // if no server data, fallback to local lock\n        setHasClockedOut(isDateLocked(iso));\n      }\n\n      if (leaveRes.ok) {\n        const lr = await leaveRes.json();\n        const flat = Array.isArray(lr)\n          ? lr.flatMap((entry: any) =>\n            (entry.employeesOnLeave || []).map((e: any) => ({\n              ...e,\n              date: entry.date,\n            }))\n          )\n          : [];\n        setLeaves(flat);\n      } else setLeaves([]);\n\n      if (wfhRes.ok) {\n        const wr = await wfhRes.json();\n        setWfhs(Array.isArray(wr) ? wr : []);\n      } else setWfhs([]);\n    } catch (e) {\n      console.warn(\"loadDay\", e);\n    }\n  };\n  useEffect(() => {\n    // on day change, first apply fast local lock, then load server\n    setHasClockedOut(isDateLocked(selectedDay));\n    loadDay(selectedDay);\n  }, [selectedDay]);\n\n  const weekDates = (refIso: string) => {\n    const ref = new Date(refIso);\n    const dayIdx = ref.getDay();\n    const monday = new Date(ref);\n    monday.setDate(ref.getDate() - ((dayIdx + 6) % 7));\n    return Array.from({ length: 7 }).map((_, i) => {\n      const d = new Date(monday);\n      d.setDate(monday.getDate() + i);\n      return d;\n    });\n  };\n\n  const handleClockIn = async () => {\n    try {\n      // Prevent clock-in if we've confirmed clock-out for the selected day\n      if (hasClockedOut) {\n        alert(\"You have already clocked out for this day and cannot clock in again.\");\n        return;\n      }\n\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"no token\");\n\n      const r = await fetch(URLS.CLOCK_IN, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          clockInTime: hhmmss(new Date()),\n          clockInLocation: form.clockInLocation,\n          clockInWorkingFrom: form.clockInWorkingFrom,\n        }),\n      });\n      if (!r.ok) {\n        const txt = await r.text().catch(() => \"\");\n        throw new Error(\"clock in failed\" + (txt ? `: ${txt}` : \"\"));\n      }\n\n      // on success update UI and refresh day data\n      setIsClockedIn(true);\n      // if previously had a stale lock for this day, clear it (server says IN now)\n      if (isDateLocked(selectedDay)) unlockDate(selectedDay);\n      setHasClockedOut(false);\n      setShowClockModal(false);\n      await loadDay(selectedDay);\n    } catch (e) {\n      alert(String(e));\n    }\n  };\n\n  const handleClockOut = async () => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) throw new Error(\"no token\");\n\n      // Do NOT optimistic-disable clock-in. Wait for server success.\n      const r = await fetch(URLS.CLOCK_OUT, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          clockOutTime: hhmmss(new Date()),\n          clockOutLocation: form.clockInLocation,\n          clockOutWorkingFrom: form.clockInWorkingFrom,\n        }),\n      });\n      if (!r.ok) {\n        const txt = await r.text().catch(() => \"\");\n        throw new Error(\"clock out failed\" + (txt ? `: ${txt}` : \"\"));\n      }\n\n      // on success persist lock in localStorage and update state\n      lockDate(selectedDay);\n      setHasClockedOut(true);\n      setIsClockedIn(false);\n      setShowClockOutModal(false);\n\n      await loadDay(selectedDay);\n    } catch (e) {\n      console.warn(e);\n      alert(String(e));\n      // do not persist lock on failure; keep previous state\n    }\n  };\n\n  if (loading)\n    return (\n      <div className=\"flex items-center justify-center h-56\">Loading…</div>\n    );\n  if (!employee)\n    return <div className=\"p-6 text-muted-foreground\">No profile found</div>;\n\n  const Summary = ({ title, a, aLabel, b, bLabel }: any) => (\n    <div className=\"rounded-lg border p-4 bg-white shadow-sm\">\n      <div className=\"text-sm text-muted-foreground\">{title}</div>\n      <div className=\"flex items-center justify-between mt-2\">\n        <div>\n          <div className=\"text-2xl font-bold\">{a}</div>\n          <div className=\"text-xs text-muted-foreground\">{aLabel}</div>\n        </div>\n        {b !== undefined && (\n          <div className=\"text-right\">\n            <div className=\"text-lg font-semibold text-destructive\">{b}</div>\n            <div className=\"text-xs text-muted-foreground\">{bLabel}</div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  // pick best activity: prefer IN record without OUT, else first item\n  const activity =\n    activities?.find(\n      (x: any) => (x.type === \"IN\" || x.clockInTime || x.clockIn || x.time) && !(x.type === \"OUT\" || x.clockOutTime || x.clockOut)\n    ) ??\n    activities?.[0] ??\n    null;\n\n  // normalize clock in/out times from possible server shapes\n  const clockInTime = activity?.clockInTime ?? activity?.clockIn ?? activity?.time ?? null;\n  const clockOutTime = activity?.clockOutTime ?? activity?.clockOut ?? null;\n\n  const clockInLocation =\n    activity?.clockInLocation ??\n    activity?.clockInLocation ??\n    form.clockInLocation;\n  const clockOutLocation =\n    activity?.clockOutLocation ??\n    activity?.clockOutLocation ??\n    form.clockInLocation;\n\n  const clockInLabel = clockInTime\n    ? new Date(`${selectedDay}T${clockInTime}`).toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: true,\n    })\n    : \"—\";\n\n  const clockOutLabel = clockOutTime\n    ? new Date(`${selectedDay}T${clockOutTime}`).toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: true,\n    })\n    : \"Did not clock out\";\n  const previewClockOutLabel = new Date().toLocaleTimeString([], {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    hour12: true,\n  });\n\n  const durationMs = clockInTime\n    ? clockOutTime\n      ? new Date(`${selectedDay}T${clockOutTime}`).getTime() -\n      new Date(`${selectedDay}T${clockInTime}`).getTime()\n      : Date.now() - new Date(`${selectedDay}T${clockInTime}`).getTime()\n    : 0;\n  const durH = Math.floor(durationMs / 3600000);\n  const durM = Math.floor((durationMs % 3600000) / 60000);\n  const durS = Math.floor((durationMs % 60000) / 1000);\n  const durationLabel = `${durH}h ${durM}m ${durS}s`;\n\n  const headerWeekday = new Date().toLocaleDateString(undefined, {\n    weekday: \"long\",\n  });\n\n  // derived flag: show Clock Out only when server indicates clocked in AND we don't have a clocked-out lock\n  const showClockOutButton = isClockedIn && !hasClockedOut;\n\n  return (\n    <div className=\"max-w-screen-xl p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-start justify-between \">\n        <h2 className=\"text-2xl font-semibold \">Welcome {employee.name}</h2>\n\n        <div className=\"text-sm text-muted-foreground ml-200 mb-2 \">\n          {now}\n          <br />\n          <span className=\"text-xs\">{headerWeekday}</span>\n        </div>\n\n        {!showClockOutButton ? (\n          <Button\n            onClick={() => setShowClockModal(true)}\n            disabled={hasClockedOut}\n            title={\n              hasClockedOut\n                ? \"You have already clocked out for this day\"\n                : undefined\n            }\n          >\n            <Clock className=\"mr-2 h-4 w-4\" /> Clock In\n          </Button>\n        ) : (\n          <Button\n            onClick={() => setShowClockOutModal(true)}\n            variant=\"destructive\"\n          >\n            <Clock className=\"mr-2 h-4 w-4\" /> Clock Out\n          </Button>\n        )}\n      </div>\n\n      {/* Replace your existing fragment with this JSX (keeps all logic/props unchanged) */}\n      <div className=\"mt-4\">\n        {/* Top-level grid: left = profile + tasks (2 cols), right = small summaries + timelogs (1 col) */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n          {/* Left column: Profile card (spans 2 cols on lg) */}\n          <div className=\"lg:col-span-2\">\n            <div className=\" \">\n              <div className=\"flex items-center rounded-lg border bg-white p-6 gap-6\">\n                {/* Avatar */}\n                <div className=\"h-20 w-20 rounded-full overflow-hidden border\">\n                  {employee.profilePictureUrl ? (\n                    <img\n                      src={employee.profilePictureUrl}\n                      alt={employee.name}\n                      className=\"h-full w-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"h-full w-full flex items-center justify-center text-sm text-muted-foreground\">\n                      No Img\n                    </div> \n                  )}\n                </div>\n\n                {/* Profile details */}\n                <div className=\"flex-1\">\n                  <div className=\"text-lg font-medium\">{employee.name}</div>\n                  <div className=\"text-sm text-muted-foreground\">\n                    {employee.designationName} · {employee.departmentName}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground mt-1\">\n                    Employee Code - {employee.employeeId}\n                  </div>\n                </div>\n              </div>\n\n              {/* Stats row under profile (small boxes) */}\n\n\n              {/* My Tasks card (below profile + stats) */}\n              <div className=\"mt-6\">\n                <Card className=\"border-0 shadow-sm\">\n                  <CardContent>\n                    <div className=\"text-lg font-medium mb-3\">My Tasks</div>\n                    <div className=\"border rounded overflow-hidden\">\n                      <table className=\"w-full text-sm\">\n                        <thead className=\"bg-blue-50\">\n                          <tr>\n                            <th className=\"p-3 text-left\">Task #</th>\n                            <th className=\"p-3 text-left\">Task Name</th>\n                            <th className=\"p-3 text-left\">Status</th>\n                            <th className=\"p-3 text-left\">Due Date</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {tasks.map((t, i) => (\n                            <tr key={i} className=\"border-t\">\n                              <td className=\"p-3 text-xs text-muted-foreground\">RTA-40</td>\n                              <td className=\"p-3\">{t.title ?? t.name}</td>\n                              <td className=\"p-3\">\n                                <Badge className={`${statusColor(t.status)} border`}>\n                                  {t.status}\n                                </Badge>\n                              </td>\n                              <td className=\"p-3\">{t.dueDate ?? \"-\"}</td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </div>\n\n          {/* Right column: compact summary cards stacked and Week Timelogs (matches screenshot) */}\n          <div className=\"space-y-4\">\n            {/* Compact summaries row (two columns inside each small card container to match screenshot feel) */}\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div className=\"rounded-lg \">\n                <Summary\n                  title=\"Projects\"\n                  a={pad(projectsCnt.pending)}\n                  aLabel=\"Pending\"\n                  b={pad(projectsCnt.overdue)}\n                  bLabel=\"Overdue\"\n                />\n              </div>\n\n              <div className=\"rounded-lg \">\n                <Summary\n                  title=\"Tasks\"\n                  a={pad(tasksCnt.pending)}\n                  aLabel=\"Pending\"\n                  b={pad(tasksCnt.overdue)}\n                  bLabel=\"Overdue\"\n                />\n              </div>\n            </div>\n\n            {/* Week Timelogs card */}\n            <div className=\"rounded-lg border p-4 bg-white shadow-sm\">\n              <div className=\"text-lg font-medium\">Week Timelogs</div>\n\n              <div className=\"mt-4 flex justify-center gap-3 text-sm\">\n                {weekDates(selectedDay).map((d) => {\n                  const iso = d.toISOString().slice(0, 10);\n                  const sel = iso === selectedDay;\n                  return (\n                    <button\n                      key={iso}\n                      onClick={() => setSelectedDay(iso)}\n                      className={`w-10 h-10 rounded-full flex items-center justify-center text-sm ${sel ? \"bg-primary text-white\" : \"bg-muted text-muted-foreground\"\n                        }`}\n                    >\n                      {d.toLocaleDateString([], { weekday: \"short\" }).slice(0, 2)}\n                    </button>\n                  );\n                })}\n              </div>\n\n              <div className=\"mt-4\">\n                <Progress value={timelog.progress} className=\"h-3 rounded-full\" />\n                <div className=\"text-xs text-muted-foreground mt-2\">Duration: {timelog.duration}</div>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-1 gap-6\">\n              <div className=\"rounded-lg border p-6 h-40 w-full bg-white shadow-sm\">\n                <div className=\"font-medium mb-3\">Birthdays</div>\n                {birthdays.length ? (\n                  <div className=\"overflow-auto space-y-2\">\n                    {birthdays.map((b: any) => (\n                      <div key={b.employeeId} className=\"flex items-center gap-3\">\n                        <div className=\"h-10 w-10 rounded-full bg-muted overflow-hidden\">\n                          {b.profileUrl ? (\n                            <img\n                              src={b.profileUrl}\n                              alt=\"img\"\n                              className=\"h-full w-10 h-10 w-full object-cover\"\n                            />\n                          ) : (\n                            <div className=\"h-full w-full flex items-center justify-center text-xs text-muted-foreground\">\n                              —\n                            </div>\n                          )}\n                        </div>\n                        <div>\n                          <div className=\"text-sm font-medium\">\n                            {b.name || b.employeeName}\n                          </div>\n                          <div className=\"text-xs text-muted-foreground\">\n                            {b.department}\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"text-muted-foreground mt-6\">\n                    — No Record Found —\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div>\n        <Card className=\"border-0 shadow-sm\">\n          <CardContent>\n            <div className=\"text-lg font-medium mb-3\">Appreciations</div>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm\">\n                <thead className=\"bg-blue-50\">\n                  <tr>\n                    <th className=\"p-3 text-left\">Given To</th>\n                    <th className=\"p-3 text-left\">Award Name</th>\n                    <th className=\"p-3 text-left\">Given On</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {appreciations.map((a) => (\n                    <tr key={a.id} className=\"border-b\">\n                      <td className=\"p-3 flex items-center gap-3\">\n                        <div className=\"h-8 w-8 rounded-full overflow-hidden bg-muted\">\n                          {a.photoUrl ? (\n                            <img\n                              src={a.photoUrl}\n                              alt={a.givenToEmployeeName}\n                              className=\"h-full w-full object-cover\"\n                            />\n                          ) : (\n                            <div className=\"h-full w-full flex items-center justify-center text-xs text-muted-foreground\">\n                              No Img\n                            </div>\n                          )}\n                        </div>\n                        <div>\n                          <div className=\"font-medium\">\n                            {a.givenToEmployeeName}\n                          </div>\n                          <div className=\"text-xs text-muted-foreground\">\n                            {a.summary}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"p-3\">{a.awardTitle}</td>\n                      <td className=\"p-3\">{a.date}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <EmployeeLeaveQuotaTable />\n\n\n\n\n      {/* Clock In Modal */}\n      {showClockModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40\">\n          <div className=\"bg-white rounded-lg w-[820px] p-6 relative\">\n            <button\n              className=\"absolute right-4 top-4 text-xl\"\n              onClick={() => setShowClockModal(false)}\n            >\n              ✕\n            </button>\n            <div className=\"flex items-center gap-4 mb-4\">\n              <Clock />\n              <div className=\"font-medium\">\n                {new Date().toLocaleDateString()} |{\" \"}\n                {new Date().toLocaleTimeString([], {\n                  hour: \"2-digit\",\n                  minute: \"2-digit\",\n                  hour12: true,\n                })}\n              </div>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"border rounded p-4\">\n                <label className=\"text-sm text-muted-foreground\">\n                  Location\n                </label>\n                <select\n                  value={form.clockInLocation}\n                  onChange={(e) =>\n                    setForm((s) => ({ ...s, clockInLocation: e.target.value }))\n                  }\n                  className=\"w-full mt-2 p-2 border rounded\"\n                >\n                  <option>Office Gate A</option>\n                  <option>Office Gate B</option>\n                </select>\n              </div>\n              <div className=\"border rounded p-4\">\n                <label className=\"text-sm text-muted-foreground\">\n                  Working From *\n                </label>\n                <select\n                  value={form.clockInWorkingFrom}\n                  onChange={(e) =>\n                    setForm((s) => ({\n                      ...s,\n                      clockInWorkingFrom: e.target.value,\n                    }))\n                  }\n                  className=\"w-full mt-2 p-2 border rounded\"\n                >\n                  <option>Office</option>\n                  <option>Home</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"flex justify-end gap-4 mt-6\">\n              <button\n                className=\"px-4 py-2 border rounded\"\n                onClick={() => setShowClockModal(false)}\n              >\n                Cancel\n              </button>\n              <button\n                className=\"px-4 py-2 bg-blue-600 text-white rounded\"\n                onClick={handleClockIn}\n              >\n                Clock In\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Clock Out Modal */}\n      {showClockOutModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40\">\n          <div className=\"bg-white rounded-lg w-[900px] p-6 relative\">\n            <button\n              className=\"absolute right-4 top-4 text-xl\"\n              onClick={() => setShowClockOutModal(false)}\n            >\n              ✕\n            </button>\n            <h3 className=\"text-lg font-medium mb-4\">Attendance Details</h3>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"rounded border p-4\">\n                <div className=\"text-sm mb-2\">\n                  Date -{\" \"}\n                  {new Date(selectedDay).toLocaleDateString(undefined, {\n                    weekday: \"long\",\n                    day: \"2-digit\",\n                    month: \"short\",\n                    year: \"numeric\",\n                  })}\n                </div>\n\n                <div className=\"bg-gray-50 rounded p-3 mb-4\">\n                  <div className=\"text-sm\">Clock In</div>\n                  <div className=\"text-base font-medium\">{clockInLabel} </div>\n                  <div className=\"text-xs text-muted-foreground mt-1\">\n                    {clockInLocation}\n                  </div>\n                </div>\n\n                <div className=\"flex items-center justify-center my-4\">\n                  <div className=\"h-28 w-28 rounded-full border-4 border-blue-500 flex items-center justify-center text-sm font-medium\">\n                    {durationLabel}\n                  </div>\n                </div>\n\n                <div className=\"bg-gray-50 rounded p-3 mt-4\">\n                  <div className=\"text-sm\">Clock Out</div>\n                  <div className=\"text-base font-medium\">\n                    {clockOutTime ? clockOutLabel : previewClockOutLabel}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground mt-1\">\n                    {clockOutTime ? clockOutLocation : form.clockInLocation}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"rounded border p-4\">\n                <div className=\"text-sm font-medium mb-2\">Activity</div>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"h-3 w-3 rounded-full bg-blue-500 mt-1\" />\n                    <div>\n                      <div className=\"text-sm font-medium\">Clock In</div>\n                      <div className=\"text-xs text-muted-foreground\">\n                        {clockInLabel} • {clockInLocation}{\" \"}\n                        {activity?.late ? \"• Late\" : \"\"}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"h-3 w-3 rounded-full bg-gray-300 mt-1\" />\n                    <div>\n                      <div className=\"text-sm font-medium\">Clock Out</div>\n                      <div className=\"text-xs text-muted-foreground\">\n                        {clockOutTime ? clockOutLabel : \"Will record current time\"}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"mt-6 grid grid-cols-1 gap-3\">\n                  <label className=\"text-sm text-muted-foreground\">\n                    Location\n                  </label>\n                  <select\n                    value={form.clockInLocation}\n                    onChange={(e) =>\n                      setForm((s) => ({\n                        ...s,\n                        clockInLocation: e.target.value,\n                      }))\n                    }\n                    className=\"p-2 border rounded\"\n                  >\n                    <option>Office Gate A</option>\n                    <option>Office Gate B</option>\n                  </select>\n\n                  <label className=\"text-sm text-muted-foreground\">\n                    Working From *\n                  </label>\n                  <select\n                    value={form.clockInWorkingFrom}\n                    onChange={(e) =>\n                      setForm((s) => ({\n                        ...s,\n                        clockInWorkingFrom: e.target.value,\n                      }))\n                    }\n                    className=\"p-2 border rounded\"\n                  >\n                    <option>Office</option>\n                    <option>Home</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex justify-end gap-4 mt-6\">\n              <button\n                className=\"px-4 py-2 border rounded\"\n                onClick={() => setShowClockOutModal(false)}\n              >\n                Cancel\n              </button>\n              <button\n                className=\"px-4 py-2 bg-red-600 text-white rounded\"\n                onClick={handleClockOut}\n              >\n                Clock Out\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\n\ntype LeaveQuota = {\n  id: number;\n  leaveType: \"CASUAL\" | \"SICK\" | \"EARNED\";\n  totalLeaves: number;\n  monthlyLimit: number;\n  totalTaken: number;\n  remainingLeaves: number;\n  overUtilized: number;\n};\n\nconst BASE_URL =  `${process.env.NEXT_PUBLIC_MAIN}`;\n\nexport default function EmployeeLeaveQuotaTable() {\n  const [data, setData] = useState<LeaveQuota[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchLeaveQuota = async () => {\n      try {\n        const token = localStorage.getItem(\"accessToken\");\n\n        const res = await fetch(\n          `${BASE_URL}/employee/leave-quota/me`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          }\n        );\n\n        if (!res.ok) throw new Error(\"Failed to fetch leave quota\");\n\n        const json = await res.json();\n        setData(json);\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchLeaveQuota();\n  }, []);\n\n  const getColorDot = (type: string) => {\n    switch (type) {\n      case \"CASUAL\":\n        return \"bg-blue-500\";\n      case \"SICK\":\n        return \"bg-red-500\";\n      case \"EARNED\":\n        return \"bg-green-500\";\n      default:\n        return \"bg-gray-400\";\n    }\n  };\n\n  const formatType = (type: string) =>\n    type.charAt(0) + type.slice(1).toLowerCase();\n\n  if (loading) {\n    return (\n      <div className=\"p-4 text-sm text-gray-500\">Loading leave quota...</div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg border shadow-sm overflow-hidden\">\n      <div className=\"px-4 py-3 font-medium text-sm border-b\">\n        Leaves Quota\n      </div>\n\n      <table className=\"w-full text-sm\">\n        <thead className=\"bg-blue-50 text-gray-700\">\n          <tr>\n            <th className=\"text-left px-4 py-3 font-medium\">\n              Leave type\n            </th>\n            <th className=\"text-center px-4 py-3 font-medium\">\n              No. of Leaves\n            </th>\n            <th className=\"text-center px-4 py-3 font-medium\">\n              Monthly Limit\n            </th>\n            <th className=\"text-center px-4 py-3 font-medium\">\n              Total Leaves Taken\n            </th>\n            <th className=\"text-center px-4 py-3 font-medium\">\n              Remaining Leaves\n            </th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {data.map((item) => (\n            <tr\n              key={item.id}\n              className=\"border-t last:border-b\"\n            >\n              <td className=\"px-4 py-3 flex items-center gap-2\">\n                <span\n                  className={`h-2 w-2 rounded-full ${getColorDot(\n                    item.leaveType\n                  )}`}\n                />\n                {formatType(item.leaveType)}\n              </td>\n\n              <td className=\"text-center px-4 py-3\">\n                {item.totalLeaves.toString().padStart(2, \"0\")}\n              </td>\n\n              <td className=\"text-center px-4 py-3\">\n                {item.monthlyLimit ?? \"--\"}\n              </td>\n\n              <td className=\"text-center px-4 py-3\">\n                {item.totalTaken ?? \"--\"}\n              </td>\n\n              <td className=\"text-center px-4 py-3\">\n                {item.remainingLeaves ?? \"--\"}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}