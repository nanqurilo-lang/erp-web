module.exports=[497894,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(187924),c=a.i(572131),d=a.i(50944);let e="https://6jnqmj85-80.inc1.devtunnels.ms",f=({label:a,children:c})=>(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-600",children:a}),c]});function g(){let a=(0,d.useRouter)(),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)({employeeId:"",name:"",email:"",password:"",gender:"Male",birthday:"",bloodGroup:"",joiningDate:"",language:"",designationId:"",departmentId:"",reportingToId:"",role:"ROLE_EMPLOYEE",country:"usa",mobile:"",address:"",about:"",loginAllowed:!0,receiveEmailNotification:!1,hourlyRate:"",slackMemberId:"",skills:"",probationEndDate:"",noticePeriodStartDate:"",noticePeriodEndDate:"",employmentType:"Full Time",maritalStatus:"Single",businessAddress:"",officeShift:""});(0,c.useEffect)(()=>{let a=localStorage.getItem("accessToken");if(!a)return;let b={Authorization:`Bearer ${a}`};fetch(`${e}/admin/departments`,{headers:b}).then(a=>a.json()).then(l).catch(console.error),fetch(`${e}/admin/designations`,{headers:b}).then(a=>a.json()).then(n).catch(console.error),fetch(`${e}/employee/all`,{headers:b}).then(a=>a.json()).then(a=>p(a.content.map(a=>({employeeId:a.employeeId,name:a.name})))).catch(console.error)},[]);let s=a=>{let{name:b,value:c,type:d,checked:e}=a.target;r(a=>({...a,[b]:"checkbox"===d?e:c}))},t=async b=>{b.preventDefault(),h(!0);try{let b=localStorage.getItem("accessToken");if(!b)throw Error("No access token");let c={...q,departmentId:Number(q.departmentId),designationId:Number(q.designationId),hourlyRate:Number(q.hourlyRate),skills:q.skills?q.skills.split(",").map(a=>a.trim()):[]},d=new FormData;d.append("employee",JSON.stringify(c)),i&&d.append("file",i);let f=await fetch(`${e}/employee`,{method:"POST",headers:{Authorization:`Bearer ${b}`},body:d});if(!f.ok)throw Error("Failed to create employee");await f.json(),a.push("/hr/employee")}catch(a){alert(a.message)}finally{h(!1)}};return(0,b.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white border rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-6",children:"Account Details"}),(0,b.jsxs)("form",{onSubmit:t,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsx)(f,{label:"Employee ID *",children:(0,b.jsx)("input",{name:"employeeId",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),(0,b.jsx)(f,{label:"Employee Name *",children:(0,b.jsx)("input",{name:"name",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),(0,b.jsxs)("div",{className:"row-span-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Profile Picture"}),(0,b.jsxs)("label",{className:"mt-2 flex flex-col items-center justify-center h-36 border-2 border-dashed rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Choose a file"}),(0,b.jsx)("input",{type:"file",hidden:!0,onChange:a=>j(a.target.files?.[0]||null)})]})]}),(0,b.jsxs)(f,{label:"Employee Email *",children:[(0,b.jsx)("input",{name:"email",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Must have at least 8 characters"})]}),(0,b.jsx)(f,{label:"Password *",children:(0,b.jsx)("input",{type:"password",name:"password",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,b.jsx)(f,{label:"Gender *",children:(0,b.jsxs)("select",{name:"gender",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{children:"Male"}),(0,b.jsx)("option",{children:"Female"})]})}),(0,b.jsx)(f,{label:"Date of Birth *",children:(0,b.jsx)("input",{type:"date",name:"birthday",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsx)(f,{label:"Blood Group *",children:(0,b.jsx)("input",{name:"bloodGroup",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsx)(f,{label:"Joining Date *",children:(0,b.jsx)("input",{type:"date",name:"joiningDate",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsx)(f,{label:"Language *",children:(0,b.jsx)("input",{name:"language",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(f,{label:"Designation *",children:(0,b.jsxs)("select",{name:"designationId",value:q.designationId,onChange:s,className:"border rounded-lg px-3 py-2",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select Designation"}),m.map(a=>(0,b.jsx)("option",{value:a.id,children:a.designationName},a.id))]})}),(0,b.jsx)(f,{label:"Department *",children:(0,b.jsxs)("select",{name:"departmentId",value:q.departmentId,onChange:s,className:"border rounded-lg px-3 py-2",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select Department"}),k.map(a=>(0,b.jsx)("option",{value:a.id,children:a.departmentName},a.id))]})}),(0,b.jsx)(f,{label:"Reporting To *",children:(0,b.jsxs)("select",{name:"reportingToId",value:q.reportingToId,onChange:s,className:"border rounded-lg px-3 py-2",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select Manager"}),o.map(a=>(0,b.jsxs)("option",{value:a.employeeId,children:[a.name," (",a.employeeId,")"]},a.employeeId))]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(f,{label:"User Role *",children:(0,b.jsxs)("select",{name:"role",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"ROLE_EMPLOYEE",children:"Employee"}),(0,b.jsx)("option",{value:"ROLE_ADMIN",children:"Admin"})]})}),(0,b.jsx)(f,{label:"Country",children:(0,b.jsx)("input",{name:"country",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsx)(f,{label:"Mobile",children:(0,b.jsx)("input",{name:"mobile",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,b.jsx)(f,{label:"Address *",children:(0,b.jsx)("input",{name:"address",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsx)(f,{label:"About",children:(0,b.jsx)("textarea",{name:"about",onChange:s,className:"input h-24"})})]})]}),(0,b.jsxs)("div",{className:"bg-white border rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-6",children:"Other Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,b.jsx)(f,{label:"Login Allowed?",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("label",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"radio",checked:q.loginAllowed,onChange:()=>r(a=>({...a,loginAllowed:!0}))}),"Yes"]}),(0,b.jsxs)("label",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"radio",checked:!q.loginAllowed,onChange:()=>r(a=>({...a,loginAllowed:!1}))}),"No"]})]})}),(0,b.jsx)(f,{label:"Receive Email Notifications?",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("label",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"radio",checked:q.receiveEmailNotification,onChange:()=>r(a=>({...a,receiveEmailNotification:!0}))}),"Yes"]}),(0,b.jsxs)("label",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"radio",checked:!q.receiveEmailNotification,onChange:()=>r(a=>({...a,receiveEmailNotification:!1}))}),"No"]})]})}),(0,b.jsx)(f,{label:"Hourly Rate",children:(0,b.jsx)("input",{name:"hourlyRate",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsx)(f,{label:"Slack Member ID",children:(0,b.jsx)("input",{name:"slackMemberId",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,b.jsx)(f,{label:"Skills",children:(0,b.jsx)("input",{name:"skills",onChange:s,placeholder:"Java, Spring Boot",className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[(0,b.jsx)(f,{label:"Probation End Date",children:(0,b.jsx)("input",{type:"date",name:"probationEndDate",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsx)(f,{label:"Notice Period Start Date",children:(0,b.jsx)("input",{type:"date",name:"noticePeriodStartDate",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsx)(f,{label:"Notice Period End Date",children:(0,b.jsx)("input",{type:"date",name:"noticePeriodEndDate",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsx)(f,{label:"Employment Type",children:(0,b.jsxs)("select",{name:"employmentType",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{children:"Full Time"}),(0,b.jsx)("option",{children:"Part Time"}),(0,b.jsx)("option",{children:"Contract"})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[(0,b.jsx)(f,{label:"Marital Status",children:(0,b.jsxs)("select",{name:"maritalStatus",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{children:"Single"}),(0,b.jsx)("option",{children:"Married"})]})}),(0,b.jsx)(f,{label:"Business Address *",children:(0,b.jsx)("input",{name:"businessAddress",onChange:s,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,b.jsx)("button",{onClick:()=>a.back(),className:"px-6 py-2 border rounded-lg",children:"Cancel"}),(0,b.jsx)("button",{disabled:g,onClick:t,className:"px-8 py-2 bg-blue-600 text-white rounded-lg",children:g?"Saving...":"Save"})]})]})}}];

//# sourceMappingURL=src_app_%28employee%29_employees_hr_employee_new_page_tsx_34ff9653._.js.map