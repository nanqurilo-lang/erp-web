{"version":3,"sources":["turbopack:///[project]/src/app/(employee)/employees/leads/employee/get/[id]/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"next/navigation\";\nimport Image from \"next/image\";\n\ninterface EmployeeMeta {\n  employeeId: string;\n  name: string;\n  designation: string;\n  department: string;\n  profileUrl?: string;\n}\n\ninterface LeadDetail {\n  id: number;\n  name: string;\n  email: string;\n  clientCategory: string;\n  leadSource: string;\n  leadOwner: string;\n  addedBy: string;\n  companyName: string;\n  mobileNumber: string;\n  city: string;\n  country: string;\n  status: string;\n  createdAt: string;\n  updatedAt: string;\n  createDeal: boolean;\n  autoConvertToClient: boolean;\n  leadOwnerMeta?: EmployeeMeta;\n  addedByMeta?: EmployeeMeta;\n  notes?: any[];\n  deals?: any[];\n}\n\nexport default function LeadDetailPage() {\n  const { id } = useParams();\n  const [lead, setLead] = useState<LeadDetail | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchLeadDetail = async () => {\n      try {\n        const token = localStorage.getItem(\"accessToken\");\n        if (!token) {\n          setError(\"No access token found. Please log in.\");\n          return;\n        }\n\n        const res = await fetch(`/api/leads/employee/get/${id}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        if (!res.ok) throw new Error(\"Failed to fetch lead details\");\n        const data = await res.json();\n        setLead(data);\n      } catch (err: any) {\n        console.error(err);\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (id) fetchLeadDetail();\n  }, [id]);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center min-h-screen text-lg font-semibold\">\n        Loading lead details...\n      </div>\n    );\n  }\n\n  if (error || !lead) {\n    return (\n      <div className=\"p-6 text-red-500 text-center\">\n        Error: {error || \"Lead not found\"}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 max-w-3xl mx-auto\">\n      <h1 className=\"text-3xl font-bold mb-4\">{lead.name}</h1>\n      <p className=\"text-gray-600 mb-6\">{lead.email}</p>\n\n      <div className=\"grid gap-4 sm:grid-cols-2\">\n        <div className=\"p-4 border rounded-xl bg-white shadow-sm\">\n          <h2 className=\"font-semibold text-lg mb-2\">Lead Details</h2>\n          <div className=\"space-y-1 text-sm text-gray-700\">\n            <p>\n              <span className=\"font-medium\">Company:</span> {lead.companyName}\n            </p>\n            <p>\n              <span className=\"font-medium\">Category:</span>{\" \"}\n              {lead.clientCategory}\n            </p>\n            <p>\n              <span className=\"font-medium\">Source:</span> {lead.leadSource}\n            </p>\n            <p>\n              <span className=\"font-medium\">Status:</span>{\" \"}\n              <span\n                className={`px-2 py-0.5 rounded text-xs ${\n                  lead.status === \"OPEN\"\n                    ? \"bg-green-100 text-green-800\"\n                    : \"bg-gray-200 text-gray-800\"\n                }`}\n              >\n                {lead.status}\n              </span>\n            </p>\n            <p>\n              <span className=\"font-medium\">City:</span> {lead.city},{\" \"}\n              {lead.country}\n            </p>\n            <p>\n              <span className=\"font-medium\">Mobile:</span>{\" \"}\n              {lead.mobileNumber || \"—\"}\n            </p>\n            <p>\n              <span className=\"font-medium\">Created:</span>{\" \"}\n              {new Date(lead.createdAt).toLocaleString()}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"p-4 border rounded-xl bg-white shadow-sm\">\n          <h2 className=\"font-semibold text-lg mb-2\">Owner & Added By</h2>\n\n          <div className=\"flex items-center gap-3 mb-3\">\n            {lead.leadOwnerMeta?.profileUrl ? (\n              <Image\n                src={lead.leadOwnerMeta.profileUrl}\n                alt={lead.leadOwnerMeta.name}\n                width={50}\n                height={50}\n                className=\"rounded-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-[50px] h-[50px] bg-gray-200 rounded-full\" />\n            )}\n            <div>\n              <p className=\"font-medium\">{lead.leadOwnerMeta?.name}</p>\n              <p className=\"text-xs text-gray-500\">\n                {lead.leadOwnerMeta?.designation} —{\" \"}\n                {lead.leadOwnerMeta?.department}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            {lead.addedByMeta?.profileUrl ? (\n              <Image\n                src={lead.addedByMeta.profileUrl}\n                alt={lead.addedByMeta.name}\n                width={50}\n                height={50}\n                className=\"rounded-full object-cover\"\n              />\n            ) : (\n              <div className=\"w-[50px] h-[50px] bg-gray-200 rounded-full\" />\n            )}\n            <div>\n              <p className=\"font-medium\">{lead.addedByMeta?.name}</p>\n              <p className=\"text-xs text-gray-500\">\n                {lead.addedByMeta?.designation} —{\" \"}\n                {lead.addedByMeta?.department}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"mt-6 p-4 border rounded-xl bg-white shadow-sm\">\n        <h2 className=\"font-semibold text-lg mb-2\">Additional Info</h2>\n        <p>\n          <span className=\"font-medium\">Create Deal:</span>{\" \"}\n          {lead.createDeal ? \"Yes\" : \"No\"}\n        </p>\n        <p>\n          <span className=\"font-medium\">Auto Convert to Client:</span>{\" \"}\n          {lead.autoConvertToClient ? \"Yes\" : \"No\"}\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}