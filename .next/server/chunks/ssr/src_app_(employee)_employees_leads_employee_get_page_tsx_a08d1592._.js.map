{"version":3,"sources":["turbopack:///[project]/src/app/(employee)/employees/leads/employee/get/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\n\ninterface Lead {\n  id: number;\n  name: string;\n  email: string;\n  clientCategory: string;\n  leadSource: string;\n  leadOwner: string;\n  addedBy: string;\n  companyName: string;\n  mobileNumber: string;\n  city: string;\n  country: string;\n  status: string;\n  leadOwnerMeta?: {\n    employeeId: string;\n    name: string;\n    designation: string;\n    department: string;\n    profileUrl?: string;\n  };\n  addedByMeta?: {\n    employeeId: string;\n    name: string;\n    designation: string;\n    department: string;\n    profileUrl?: string;\n  };\n}\n\nexport default function EmployeeLeadsPage() {\n  const [leads, setLeads] = useState<Lead[]>([]);\n  const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchLeads = async () => {\n      try {\n        const token = localStorage.getItem(\"accessToken\");\n        if (!token) {\n          setError(\"No access token found. Please log in.\");\n          return;\n        }\n        const res = await fetch(\"/api/leads/employee/get\", {\n            headers: { Authorization: `Bearer ${token}` },\n          });\n        if (!res.ok) throw new Error(\"Failed to fetch leads\");\n        const data = await res.json();\n        setLeads(data);\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchLeads();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center min-h-screen text-lg font-semibold\">\n        Loading leads...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <h1 className=\"text-3xl font-bold mb-6\">Employee Leads</h1>\n\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n        {leads.map((lead) => (\n          <div\n            key={lead.id}\n            className=\"p-4 border rounded-2xl shadow-sm hover:shadow-md transition bg-white\"\n          >\n            <div className=\"flex items-center gap-3 mb-3\">\n              {lead.leadOwnerMeta?.profileUrl ? (\n                <Image\n                  src={lead.leadOwnerMeta.profileUrl}\n                  alt={lead.leadOwnerMeta.name}\n                  width={50}\n                  height={50}\n                  className=\"rounded-full object-cover\"\n                />\n              ) : (\n                <div className=\"w-[50px] h-[50px] bg-gray-200 rounded-full\" />\n              )}\n              <div>\n                <h2 className=\"text-lg font-semibold\">{lead.name}</h2>\n                <p className=\"text-sm text-gray-600\">{lead.email}</p>\n              </div>\n            </div>\n\n            <div className=\"space-y-1 text-sm text-gray-700\">\n              <p>\n                <span className=\"font-medium\">Company:</span>{\" \"}\n                {lead.companyName || \"â€”\"}\n              </p>\n              <p>\n                <span className=\"font-medium\">Category:</span>{\" \"}\n                {lead.clientCategory}\n              </p>\n              <p>\n                <span className=\"font-medium\">Source:</span> {lead.leadSource}\n              </p>\n              <p>\n                <span className=\"font-medium\">Status:</span>{\" \"}\n                <span\n                  className={`px-2 py-0.5 rounded text-xs ${\n                    lead.status === \"OPEN\"\n                      ? \"bg-green-100 text-green-800\"\n                      : \"bg-gray-200 text-gray-800\"\n                  }`}\n                >\n                  {lead.status}\n                </span>\n              </p>\n              <p>\n                <span className=\"font-medium\">City:</span> {lead.city},{\" \"}\n                {lead.country}\n              </p>\n              <p>\n                <span className=\"font-medium\">Lead Owner:</span>{\" \"}\n                {lead.leadOwnerMeta?.name || lead.leadOwner}\n              </p>\n              <p>\n                <span className=\"font-medium\">Added By:</span>{\" \"}\n                {lead.addedByMeta?.name || lead.addedBy}\n              </p>\n              <Link href={`/leads/employee/get/${lead.id}`} className=\"text-blue-600 underline\">\n  View Details\n</Link>\n\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}