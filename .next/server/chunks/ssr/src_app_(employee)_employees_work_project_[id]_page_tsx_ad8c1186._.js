module.exports=[248911,a=>{"use strict";a.s(["default",()=>V],248911);var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(83490),f=a.i(886330);a.i(782066);var g=a.i(89329);function h({open:a,task:d,onClose:e,onMarkComplete:f}){let h,[i,j]=(0,c.useState)("files"),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),o=(0,c.useRef)(null),p=(0,c.useRef)(null),[q,r]=(0,c.useState)(!1),s=(0,c.useRef)(null),t=(0,c.useRef)(null),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),y=(0,c.useRef)(null),z=(0,c.useRef)(null),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(""),[Q,R]=(0,c.useState)(null),[S,T]=(0,c.useState)([{id:1,title:"My Note",type:"public",content:"This is the body of My Note."}]),[U,V]=(0,c.useState)(null),[W,X]=(0,c.useState)(null),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(!1),[ac,ad]=(0,c.useState)(!1),[ae,af]=(0,c.useState)(""),[ag,ah]=(0,c.useState)("public"),[ai,aj]=(0,c.useState)(""),[ak,al]=(0,c.useState)(null),[am,an]=(0,c.useState)(""),[ao,ap]=(0,c.useState)("public"),[aq,ar]=(0,c.useState)(""),[as,at]=(0,c.useState)(!1),[au,av]=(0,c.useState)(""),[aw,ax]=(0,c.useState)(""),[ay,az]=(0,c.useState)(""),[aA,aB]=(0,c.useState)(null),[aC,aD]=(0,c.useState)(null),[aE,aF]=(0,c.useState)(!1),[aG,aH]=(0,c.useState)("Doing"),[aI,aJ]=(0,c.useState)(""),[aK,aL]=(0,c.useState)(""),[aM,aN]=(0,c.useState)(""),[aO,aP]=(0,c.useState)(""),[aQ,aR]=(0,c.useState)("Low"),[aS,aT]=(0,c.useState)(!1),[aU,aV]=(0,c.useState)(!1),[aW,aX]=(0,c.useState)(""),[aY,aZ]=(0,c.useState)(!1),[a$,a_]=(0,c.useState)(""),[a0,a1]=(0,c.useState)(null),[a2,a3]=(0,c.useState)(null),[a4]=(0,c.useState)([{id:1,employee:{employeeId:"u1",name:"Jack Smith",profileUrl:void 0,role:"Trainee"},startTime:"2025-08-02T11:00:00",endTime:"2025-08-02T13:00:00",memo:"---",minutesLogged:480},{id:2,employee:{employeeId:"u1",name:"Jack Smith",profileUrl:void 0,role:"Trainee"},startTime:"2025-08-02T11:00:00",endTime:"2025-08-02T13:00:00",memo:"---",minutesLogged:480},{id:3,employee:{employeeId:"u1",name:"Jack Smith",profileUrl:void 0,role:"Trainee"},startTime:"2025-08-02T11:00:00",endTime:"2025-08-02T13:00:00",memo:"---",minutesLogged:480},{id:4,employee:{employeeId:"u1",name:"Jack Smith",profileUrl:void 0,role:"Trainee"},startTime:"2025-08-02T11:00:00",endTime:"2025-08-02T13:00:00",memo:"---",minutesLogged:480}]);(0,c.useEffect)(()=>{a?l(!0):(l(!1),n(!1),r(!1),x(!1),B(!1),J(!1),L(!1),V(null),Z(!1),_(!1),ab(!1),X(null),ad(!1),at(!1))},[a]),(0,c.useEffect)(()=>{function a(a){if(m&&o.current&&!o.current.contains(a.target)&&p.current&&!p.current.contains(a.target)&&n(!1),w&&y.current&&!y.current.contains(a.target)&&z.current&&!z.current.contains(a.target)&&x(!1),q&&s.current&&!s.current.contains(a.target)&&r(!1),null!==U){let b=a.target.closest("[data-notes-menu]"),c=a.target.closest("[data-notes-menu-btn]");b||c||V(null)}}function b(a){"Escape"===a.key&&(n(!1),x(!1),r(!1),B(!1),J(!1),L(!1),V(null),Z(!1),_(!1),ab(!1),ad(!1),at(!1))}return document.addEventListener("mousedown",a),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",a),document.removeEventListener("keydown",b)}},[m,w,q,U,ac]);let a5=(0,c.useMemo)(()=>{switch((d?.priority||"").toLowerCase()){case"low":return"bg-green-500";case"medium":return"bg-yellow-400";case"high":return"bg-orange-500";case"urgent":return"bg-red-600";default:return"bg-gray-400"}},[d?.priority]);if(!a||!d)return null;let a6=a=>a?new Date(a).toLocaleDateString():"--",a7=a=>{if(!a)return"--";let b=new Date(a),c=String(b.getDate()).padStart(2,"0"),d=String(b.getMonth()+1).padStart(2,"0"),e=b.getFullYear();return`${c}/${d}/${e}`},a8=a=>a?new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--",a9=a=>{if(null==a)return"--";let b=Math.floor((a||0)/60),c=(a||0)%60;return b&&c?`${b}h ${c}m`:b?`${b}h`:`${c}m`},ba=()=>{Z(!1),X(null)};return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end bg-black/0",children:[(0,b.jsxs)("div",{className:["relative h-full w-[83vw] max-w-[83vw] bg-white shadow-xl border-l transform transition-transform duration-300",k?"translate-x-0":"translate-x-full","flex flex-col"].join(" "),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:["Task #",d.projectId?`RTA-${String(d.id).padStart(2,"0")}`:`RTA-${String(d.id)}`]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,b.jsx)("div",{className:"text-lg font-semibold",children:d.title??"Task Name"})]})]}),(0,b.jsx)("button",{"aria-label":"close",onClick:e,className:"p-2 rounded hover:bg-gray-100",title:"Close",children:(0,b.jsx)(g.XMarkIcon,{className:"w-5 h-5 text-gray-600"})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,b.jsxs)("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-white border rounded-lg p-5 relative",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)("button",{onClick:()=>d.id&&f?.(d.id),className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 text-sm",children:"Mark As Complete"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 relative",children:[(0,b.jsx)("button",{ref:p,onClick:()=>n(a=>!a),className:"p-2 rounded hover:bg-gray-100",children:(0,b.jsxs)("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",children:[(0,b.jsx)("circle",{cx:"5",cy:"12",r:"1.5"}),(0,b.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,b.jsx)("circle",{cx:"19",cy:"12",r:"1.5"})]})}),m&&(0,b.jsxs)("div",{ref:o,className:"absolute right-10 top-10 w-48 bg-white border rounded-lg shadow-md p-2 z-50",children:[(0,b.jsx)("button",{onClick:()=>{n(!1),r(!0)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:"ðŸ”” Send Reminder"}),(0,b.jsx)("button",{onClick:()=>{n(!1),av(d.title??""),ax(""),az(d.projectName??""),aB(d.startDate??null),aD(d.dueDate??null),aF(!!d.noDueDate),aH(d.taskStage?.name??"Doing"),aJ((d.assignedEmployees&&d.assignedEmployees.length&&d.assignedEmployees[0].name)??(d.assignedEmployeeIds&&d.assignedEmployeeIds[0])??""),aL(d.description??""),aN((d.labels&&d.labels[0]?.name)??""),aP(d.milestone?.title??""),aR(d.priority?String(d.priority).charAt(0).toUpperCase()+String(d.priority).slice(1):"Low"),aT(!!d.isPrivate),aV(!!d.timeEstimateMinutes),aX(d.timeEstimateMinutes??""),aZ(!!d.isDependent),a_(""),a1(null),a3(null),at(!0)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:"âœï¸ Edit Task"}),(0,b.jsx)("button",{onClick:()=>{n(!1),alert("Pin Task clicked")},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:"ðŸ“Œ Pin Task"}),(0,b.jsx)("button",{onClick:()=>{n(!1);let a=`/tasks/${d.id}`;try{navigator.clipboard?.writeText(a),alert("Task link copied to clipboard")}catch{alert("Task link: "+a)}},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:"ðŸ”— Copy Task Link"})]}),(0,b.jsx)("button",{onClick:e,className:"p-2 rounded hover:bg-gray-100"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-3 mt-6 text-sm",children:[(0,b.jsx)("div",{className:"text-gray-500",children:"Project"}),(0,b.jsx)("div",{className:"font-medium",children:d.projectName??`Project ${d.projectId??"--"}`}),(0,b.jsx)("div",{className:"text-gray-500",children:"Priority"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`w-2 h-2 rounded-full ${a5}`}),(0,b.jsx)("span",{className:"font-medium",children:d.priority??"Low"})]}),(0,b.jsx)("div",{className:"text-gray-500",children:"Assigned to"}),(0,b.jsx)("div",{className:"font-medium",children:d.assignedEmployees&&d.assignedEmployees.length?d.assignedEmployees.map(a=>a.name).join(", "):d.assignedEmployeeIds&&d.assignedEmployeeIds.length?d.assignedEmployeeIds.join(", "):"--"}),(0,b.jsx)("div",{className:"text-gray-500",children:"Project Code"}),(0,b.jsxs)("div",{className:"font-medium",children:["RTA-",String(d.id).padStart(2,"0")]}),(0,b.jsx)("div",{className:"text-gray-500",children:"Milestones"}),(0,b.jsx)("div",{className:"font-medium",children:d.milestone?.title??"----"}),(0,b.jsx)("div",{className:"text-gray-500",children:"Label"}),(0,b.jsx)("div",{className:"font-medium",children:d.labels&&d.labels.length?d.labels.map(a=>a.name).join(", "):"--"}),(0,b.jsx)("div",{className:"text-gray-500",children:"Task Category"}),(0,b.jsx)("div",{className:"font-medium",children:"--"}),(0,b.jsx)("div",{className:"text-gray-500",children:"Description"}),(0,b.jsx)("div",{className:"font-medium whitespace-pre-wrap",children:d.description??"--"})]})]}),(0,b.jsxs)("div",{className:"bg-white border rounded-lg p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,b.jsx)("div",{className:"font-medium",children:d.taskStage?.name??"Doing"})]}),(0,b.jsxs)("div",{className:"mt-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between py-2",children:[(0,b.jsx)("div",{className:"text-gray-500",children:"Created On"}),(0,b.jsx)("div",{className:"font-medium",children:(h=d.createdOn)?new Date(h).toLocaleString():"--"})]}),(0,b.jsxs)("div",{className:"flex justify-between py-2",children:[(0,b.jsx)("div",{className:"text-gray-500",children:"Start Date"}),(0,b.jsx)("div",{className:"font-medium",children:a6(d.startDate)})]}),(0,b.jsxs)("div",{className:"flex justify-between py-2",children:[(0,b.jsx)("div",{className:"text-gray-500",children:"Due Date"}),(0,b.jsx)("div",{className:"font-medium",children:d.noDueDate?"--":a6(d.dueDate)})]}),(0,b.jsxs)("div",{className:"flex justify-between py-2",children:[(0,b.jsx)("div",{className:"text-gray-500",children:"Hours Logged"}),(0,b.jsx)("div",{className:"font-medium",children:a9(d.hoursLoggedMinutes??null)})]})]})]})]}),(0,b.jsx)("div",{className:"px-6 pb-6",children:(0,b.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("button",{onClick:()=>j("files"),className:`pb-2 ${"files"===i?"border-b-2 border-blue-600 font-medium":"text-gray-500"}`,children:"Files"}),(0,b.jsx)("button",{onClick:()=>j("subtask"),className:`pb-2 ${"subtask"===i?"border-b-2 border-blue-600 font-medium":"text-gray-500"}`,children:"Sub Task"}),(0,b.jsx)("button",{onClick:()=>j("timesheet"),className:`pb-2 ${"timesheet"===i?"border-b-2 border-blue-600 font-medium":"text-gray-500"}`,children:"Timesheet"}),(0,b.jsx)("button",{onClick:()=>j("notes"),className:`pb-2 ${"notes"===i?"border-b-2 border-blue-600 font-medium":"text-gray-500"}`,children:"Notes"})]}),(0,b.jsx)("div",{})]}),(0,b.jsxs)("div",{className:"mt-4 border rounded-lg p-4 bg-white h-60 overflow-auto",children:[(0,b.jsx)("input",{ref:t,type:"file",className:"hidden",onChange:a=>{let b=a.target.files;b&&0!==b.length&&(alert(`${b.length} file(s) selected. Integrate your upload handler to actually send files to server.`),a.currentTarget.value="")},multiple:!0}),"files"===i&&(0,b.jsxs)("div",{className:"h-full flex flex-col",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("button",{onClick:()=>t.current?.click(),className:"inline-flex items-center gap-2 text-blue-600 text-sm font-medium hover:underline","aria-label":"Upload File",title:"Upload File",children:[(0,b.jsx)("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white border border-blue-600 text-blue-600 text-xs",children:"+"}),(0,b.jsx)("span",{children:"Upload File"})]})}),(0,b.jsx)("div",{className:"mt-3 flex-1 overflow-auto",children:d.attachments&&d.attachments.length?(0,b.jsx)("ul",{className:"space-y-2 text-sm",children:d.attachments.map((a,c)=>{let d=a.name??(a=>{if(!a)return"attachment";try{let b=a.split("/").pop()||a;return decodeURIComponent(b.split("?")[0])}catch{return a}})(a.url);return(0,b.jsxs)("li",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"truncate max-w-[80%]",children:d}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.url?(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noreferrer",className:"underline",children:"Download"}):null})]},c)})}):(0,b.jsx)("div",{className:"text-gray-500"})})]}),"subtask"===i&&(0,b.jsxs)("div",{className:"h-full flex flex-col",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("button",{onClick:()=>{D(""),F(""),H(null),B(!0)},className:"inline-flex items-center gap-2 text-blue-600 text-sm font-medium hover:underline","aria-label":"Add a Sub Task",title:"Add a Sub Task",children:[(0,b.jsx)("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white border border-blue-600 text-blue-600 text-xs",children:"+"}),(0,b.jsx)("span",{children:"Add a Sub Task"})]})}),(0,b.jsx)("div",{className:"mt-4 flex-1 overflow-auto",children:(0,b.jsx)("ul",{className:"space-y-3",children:(0,b.jsxs)("li",{className:"flex items-center justify-between pr-2",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:u,onChange:()=>{v(a=>!a)},className:"w-4 h-4 rounded border-gray-300","aria-label":"toggle subtask done"}),(0,b.jsx)("span",{className:`text-sm ${u?"line-through text-gray-400":"text-gray-700"}`,children:"Title of the sub task"})]})}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{ref:z,onClick:()=>x(a=>!a),className:"p-2 rounded hover:bg-gray-100","aria-label":"subtask menu",children:(0,b.jsxs)("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",children:[(0,b.jsx)("circle",{cx:"5",cy:"12",r:"1.5"}),(0,b.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,b.jsx)("circle",{cx:"19",cy:"12",r:"1.5"})]})}),w&&(0,b.jsxs)("div",{ref:y,className:"absolute right-0 top-8 w-40 bg-white border rounded-lg shadow-md p-1 z-50",children:[(0,b.jsxs)("button",{onClick:()=>{x(!1),J(!0)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-600",viewBox:"0 0 24 24",fill:"none",children:(0,b.jsx)("path",{d:"M12 5c-7 0-11 7-11 7s4 7 11 7 11-7 11-7-4-7-11-7z",stroke:"currentColor",strokeWidth:"1.2"})}),"View"]}),(0,b.jsxs)("button",{onClick:()=>{x(!1),N("Title of the sub task"),P(""),R(null),L(!0)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-600",viewBox:"0 0 24 24",fill:"none",children:(0,b.jsx)("path",{d:"M3 21l3-1 11-11 2 2-11 11-1 3H3z",stroke:"currentColor",strokeWidth:"1.2"})}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>{x(!1),confirm("Delete subtask? This is UI-only.")&&alert("Subtask deleted (UI-only). Integrate API to persist.")},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2 text-red-600",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-red-600",viewBox:"0 0 24 24",fill:"none",children:(0,b.jsx)("path",{d:"M3 6h18M8 6v12a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6M10 6V4a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v2",stroke:"currentColor",strokeWidth:"1.2"})}),"Delete"]})]})]})]})})})]}),"timesheet"===i&&(0,b.jsx)("div",{className:"h-full flex flex-col",children:(0,b.jsx)("div",{className:"mt-1 flex-1 overflow-auto",children:(0,b.jsxs)("div",{className:"rounded-md overflow-hidden border",children:[(0,b.jsxs)("div",{className:"bg-[#e8f2fb] px-4 py-3 text-sm text-gray-700 grid grid-cols-4 gap-4 items-center rounded-t-md",children:[(0,b.jsx)("div",{className:"font-medium",children:"Employee"}),(0,b.jsx)("div",{className:"font-medium",children:"Start Time"}),(0,b.jsx)("div",{className:"font-medium",children:"End Time"}),(0,b.jsx)("div",{className:"font-medium text-right",children:"Hours Logged"})]}),(0,b.jsx)("div",{className:"bg-white divide-y",children:a4.map(a=>(0,b.jsxs)("div",{className:"px-4 py-4 grid grid-cols-4 gap-4 items-center text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:a.employee.profileUrl?(0,b.jsx)("img",{src:a.employee.profileUrl,alt:a.employee.name,className:"w-full h-full object-cover"}):(0,b.jsx)("span",{className:"text-xs text-gray-600",children:a.employee.name.split(" ").map(a=>a[0]).join("")})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.employee.name}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.employee.role??""})]})]}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{className:"font-medium",children:a7(a.startTime)}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a8(a.startTime)})]}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{className:"font-medium",children:a7(a.endTime)}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a8(a.endTime)})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("div",{className:"font-medium",children:a9(a.minutesLogged)})})]},a.id))}),(0,b.jsx)("div",{className:"h-2 bg-white rounded-b-md"})]})})}),"notes"===i&&(0,b.jsxs)("div",{className:"h-full flex flex-col",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("button",{onClick:()=>{af(""),aj(""),ah("public"),al(null),ad(!0)},"data-add-note-btn":!0,className:"inline-flex items-center gap-2 text-blue-600 text-sm font-medium hover:underline","aria-label":"Add a Note",title:"Add a Note",children:[(0,b.jsx)("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white border border-blue-600 text-blue-600 text-xs",children:"+"}),(0,b.jsx)("span",{children:"Add a Note"})]})}),(0,b.jsx)("div",{className:"mt-4 flex-1 overflow-auto relative",children:(0,b.jsxs)("div",{className:"rounded-md overflow-hidden border relative",children:[(0,b.jsxs)("div",{className:"bg-[#e8f2fb] px-4 py-3 text-sm text-gray-700 grid grid-cols-3 gap-4 items-center",children:[(0,b.jsx)("div",{className:"font-medium",children:"Note Title"}),(0,b.jsx)("div",{className:"font-medium",children:"Note Type"}),(0,b.jsx)("div",{className:"font-medium text-right",children:"Action"})]}),null!==U&&W&&(0,b.jsxs)("div",{"data-notes-menu":!0,className:"absolute right-3 top-3 z-50 w-44 bg-white border rounded-lg shadow-md p-1",children:[(0,b.jsx)("button",{onClick:()=>{W&&(Z(!0),V(null))},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:"View"}),(0,b.jsx)("button",{onClick:()=>{W&&(an(W.title),ap(W.type),ar(W.content??""),_(!0),V(null))},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:"Edit"}),(0,b.jsx)("button",{onClick:()=>{W&&(ab(!0),V(null))},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2 text-red-600",children:"Delete"})]}),(0,b.jsx)("div",{className:"bg-white p-3 text-sm",children:S.length?(0,b.jsx)("ul",{className:"space-y-3",children:S.map(a=>(0,b.jsxs)("li",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"truncate max-w-[40%]",children:a.title}),(0,b.jsx)("div",{className:"flex items-center gap-2 text-gray-600",children:"public"===a.type?(0,b.jsx)("span",{children:"Public"}):(0,b.jsx)("span",{children:"Private"})}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("button",{"data-notes-menu-btn":!0,onClick:()=>{X(a),V(a.id)},className:"p-2 rounded hover:bg-gray-100","aria-label":"note actions",children:(0,b.jsxs)("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",children:[(0,b.jsx)("circle",{cx:"5",cy:"12",r:"1.5"}),(0,b.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,b.jsx)("circle",{cx:"19",cy:"12",r:"1.5"})]})})})]},a.id))}):(0,b.jsx)("div",{className:"text-gray-500 p-4",children:"No notes yet"})})]})})]})]})]})})]})]}),q&&(0,b.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/30 px-4",children:(0,b.jsxs)("div",{ref:s,role:"dialog","aria-modal":"true",className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold",children:"Are You Sure?"}),(0,b.jsx)("p",{className:"mt-3 text-sm text-gray-500",children:"You want to send reminder to the assigned employees."})]}),(0,b.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>{r(!1)},className:"px-6 py-2 border border-blue-600 text-blue-600 rounded-full text-sm hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{alert("Reminder sent to assigned employees"),r(!1)},className:"px-6 py-2 bg-blue-600 text-white rounded-full text-sm hover:bg-blue-700",children:"Yes"})]})]})}),A&&(0,b.jsx)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/30 px-4",children:(0,b.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{value:C,onChange:a=>{D(a.target.value),G&&H(null)},className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter subtask title",autoFocus:!0}),G&&(0,b.jsx)("div",{className:"mt-1 text-xs text-red-600",children:G})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,b.jsx)("textarea",{value:E,onChange:a=>F(a.target.value),className:"mt-2 w-full min-h-[90px] rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter description (optional)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-6",children:[(0,b.jsx)("button",{onClick:()=>{B(!1),H(null)},className:"px-6 py-2 rounded-full border border-blue-600 text-blue-600 text-sm hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!C.trim())return void H("Title is required");alert(`Subtask "${C}" created (UI-only). Integrate API to persist.`),B(!1)},className:"px-6 py-2 rounded-full bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Save"})]})]})}),I&&(0,b.jsx)("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/30 px-4",children:(0,b.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Subtask Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-3 text-sm",children:[(0,b.jsx)("div",{className:"text-gray-500",children:"Title"}),(0,b.jsx)("div",{className:"font-medium",children:"Title of the sub task"}),(0,b.jsx)("div",{className:"text-gray-500",children:"Description"}),(0,b.jsx)("div",{className:"font-medium",children:"--"})]}),(0,b.jsx)("div",{className:"mt-6 flex justify-end",children:(0,b.jsx)("button",{onClick:()=>J(!1),className:"px-6 py-2 rounded-full border border-gray-300 text-gray-700 text-sm hover:bg-gray-50",children:"Close"})})]})}),K&&(0,b.jsx)("div",{className:"fixed inset-0 z-[90] flex items-center justify-center bg-black/30 px-4",children:(0,b.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{value:M,onChange:a=>{N(a.target.value),Q&&R(null)},className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter subtask title",autoFocus:!0}),Q&&(0,b.jsx)("div",{className:"mt-1 text-xs text-red-600",children:Q})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,b.jsx)("textarea",{value:O,onChange:a=>P(a.target.value),className:"mt-2 w-full min-h-[90px] rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter description (optional)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-6",children:[(0,b.jsx)("button",{onClick:()=>{L(!1),R(null)},className:"px-6 py-2 rounded-full border border-blue-600 text-blue-600 text-sm hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!M.trim())return void R("Title is required");alert(`Subtask updated to "${M}" (UI-only). Integrate API to persist.`),L(!1)},className:"px-6 py-2 rounded-full bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Update"})]})]})}),ac&&(0,b.jsx)("div",{className:"fixed inset-0 z-[85] flex items-center justify-center bg-black/30 px-4",children:(0,b.jsxs)("div",{"data-add-note-modal":!0,role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Note Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{value:ae,onChange:a=>{af(a.target.value),ak&&al(null)},className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter note title",autoFocus:!0}),ak&&(0,b.jsx)("div",{className:"mt-1 text-xs text-red-600",children:ak})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Note Detail"}),(0,b.jsx)("textarea",{value:ai,onChange:a=>aj(a.target.value),className:"mt-2 w-full min-h-[100px] rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter note details (optional)"})]}),(0,b.jsxs)("div",{className:"mb-6 flex items-center gap-6",children:[(0,b.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("input",{type:"radio",name:"note-type",checked:"public"===ag,onChange:()=>ah("public")}),(0,b.jsx)("span",{className:"text-sm",children:"Public"})]}),(0,b.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("input",{type:"radio",name:"note-type",checked:"private"===ag,onChange:()=>ah("private")}),(0,b.jsx)("span",{className:"text-sm",children:"Private"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-6",children:[(0,b.jsx)("button",{onClick:()=>{ad(!1),al(null)},className:"px-8 py-2 rounded-full border border-blue-600 text-blue-600 text-sm hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!ae.trim())return void al("Title is required");let a={id:S.length?Math.max(...S.map(a=>a.id))+1:1,title:ae.trim(),type:ag,content:ai};T(b=>[a,...b]),ad(!1),af(""),aj(""),ah("public")},className:"px-8 py-2 rounded-full bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Save"})]})]})}),Y&&W&&(0,b.jsx)("div",{className:"fixed inset-0 z-[86] flex items-center justify-center bg-black/30 px-4",children:(0,b.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"View Note"}),(0,b.jsx)("button",{onClick:ba,className:"p-2 rounded hover:bg-gray-100",children:(0,b.jsx)(g.XMarkIcon,{className:"w-5 h-5 text-gray-600"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-3 text-sm",children:[(0,b.jsx)("div",{className:"text-gray-500",children:"Title"}),(0,b.jsx)("div",{className:"font-medium",children:W.title}),(0,b.jsx)("div",{className:"text-gray-500",children:"Type"}),(0,b.jsx)("div",{className:"font-medium",children:"public"===W.type?"Public":"Private"}),(0,b.jsx)("div",{className:"text-gray-500",children:"Content"}),(0,b.jsx)("div",{className:"font-medium whitespace-pre-wrap",children:W.content??"--"})]}),(0,b.jsx)("div",{className:"mt-6 flex justify-end",children:(0,b.jsx)("button",{onClick:ba,className:"px-6 py-2 rounded-full border border-gray-300 text-gray-700 text-sm hover:bg-gray-50",children:"Close"})})]})}),$&&W&&(0,b.jsx)("div",{className:"fixed inset-0 z-[87] flex items-center justify-center bg-black/30 px-4",children:(0,b.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Note"}),(0,b.jsx)("button",{onClick:()=>{_(!1),X(null)},className:"p-2 rounded hover:bg-gray-100",children:(0,b.jsx)(g.XMarkIcon,{className:"w-5 h-5 text-gray-600"})})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{value:am,onChange:a=>an(a.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter note title",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,b.jsxs)("select",{value:ao,onChange:a=>ap(a.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"public",children:"Public"}),(0,b.jsx)("option",{value:"private",children:"Private"})]})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Content"}),(0,b.jsx)("textarea",{value:aq,onChange:a=>ar(a.target.value),className:"mt-2 w-full min-h-[120px] rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter note content (optional)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-6",children:[(0,b.jsx)("button",{onClick:()=>{_(!1),X(null)},className:"px-6 py-2 rounded-full border border-blue-600 text-blue-600 text-sm hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(W){if(!am.trim())return void alert("Title is required");T(a=>a.map(a=>a.id===W.id?{...a,title:am.trim(),type:ao,content:aq}:a)),_(!1),X(null)}},className:"px-6 py-2 rounded-full bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Save"})]})]})}),aa&&W&&(0,b.jsx)("div",{className:"fixed inset-0 z-[88] flex items-center justify-center bg-black/30 px-4",children:(0,b.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold",children:"Are you sure?"}),(0,b.jsxs)("p",{className:"mt-3 text-sm text-gray-500",children:['Delete note "',W.title,'". This action cannot be undone.']})]}),(0,b.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>{ab(!1),X(null)},className:"px-6 py-2 border border-blue-600 text-blue-600 rounded-full text-sm hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!W)return void ab(!1);T(a=>a.filter(a=>a.id!==W.id)),ab(!1),X(null)},className:"px-6 py-2 bg-red-600 text-white rounded-full text-sm hover:bg-red-700",children:"Delete"})]})]})}),as&&(0,b.jsx)("div",{className:"fixed inset-0 z-[95] flex items-start justify-center pt-10 pb-10 overflow-auto bg-black/30 px-4",children:(0,b.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-[980px] bg-white rounded-lg shadow-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b pb-3 px-4",children:[(0,b.jsx)("div",{className:"text-lg font-semibold",children:"Update Task Details"}),(0,b.jsx)("button",{onClick:()=>at(!1),className:"p-1 rounded hover:bg-gray-100",children:(0,b.jsx)(g.XMarkIcon,{className:"w-5 h-5 text-gray-600"})})]}),(0,b.jsxs)("div",{className:"p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium mb-3",children:"Task Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"block text-sm text-gray-600",children:["Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{value:au,onChange:a=>{av(a.target.value),a2&&a3(null)},className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Task Name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600",children:"Task Category"}),(0,b.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,b.jsx)("select",{value:aw,onChange:a=>ax(a.target.value),className:"flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,b.jsx)("option",{value:"",children:"--"})}),(0,b.jsx)("button",{onClick:()=>{alert("Add Task Category clicked (UI-only).")},className:"px-3 py-2 rounded border bg-gray-100 text-sm",children:"Add"})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"block text-sm text-gray-600 mt-2",children:["Project ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("select",{value:ay,onChange:a=>az(a.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,b.jsx)("option",{value:d.projectName??"",children:d.projectName??"Project Name"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Client Details"}),(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-xs",children:"JD"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{className:"font-medium",children:"John Doe"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Curilo Solutions"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 mt-2",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:aA?aA.split("T")[0]:"",onChange:a=>aB(a.target.value?a.target.value:null),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 mt-2",children:"Due Date"}),(0,b.jsx)("input",{type:"date",value:aC?aC.split("T")[0]:"",onChange:a=>aD(a.target.value?a.target.value:null),disabled:aE,className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:opacity-60"}),(0,b.jsxs)("label",{className:"inline-flex items-center gap-2 mt-2 text-sm",children:[(0,b.jsx)("input",{type:"checkbox",checked:aE,onChange:a=>aF(a.target.checked)}),(0,b.jsx)("span",{children:"Without Due Date"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 mt-2",children:"Status"}),(0,b.jsxs)("select",{value:aG,onChange:a=>aH(a.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"Doing",children:"Doing"}),(0,b.jsx)("option",{value:"To Do",children:"To Do"}),(0,b.jsx)("option",{value:"Done",children:"Done"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 mt-2",children:"Assigned To"}),(0,b.jsx)("select",{value:aI,onChange:a=>aJ(a.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,b.jsx)("option",{value:aI||"",children:aI||"Riya Sharma"})})]}),(0,b.jsxs)("div",{className:"md:col-span-3",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 mt-2",children:"Description"}),(0,b.jsx)("textarea",{value:aK,onChange:a=>aL(a.target.value),className:"mt-2 w-full min-h-[80px] rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"--"})]})]})]}),(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium mb-3",children:"Other Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600",children:"Label"}),(0,b.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,b.jsx)("select",{value:aM,onChange:a=>aN(a.target.value),className:"flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,b.jsx)("option",{value:"",children:"--"})}),(0,b.jsx)("button",{onClick:()=>{alert("Add Label clicked (UI-only).")},className:"px-3 py-2 rounded border bg-gray-100 text-sm",children:"Add"})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600",children:"Milestones"}),(0,b.jsx)("select",{value:aO,onChange:a=>aP(a.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,b.jsx)("option",{value:"",children:"--"})})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600",children:"Priority"}),(0,b.jsx)("div",{className:"mt-2 flex items-center justify-between gap-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:`w-3 h-3 rounded-full ${"Low"===aQ?"bg-green-500":"Medium"===aQ?"bg-yellow-400":"High"===aQ?"bg-orange-500":"bg-red-600"}`}),(0,b.jsxs)("select",{value:aQ,onChange:a=>aR(a.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"Low",children:"Low"}),(0,b.jsx)("option",{value:"Medium",children:"Medium"}),(0,b.jsx)("option",{value:"High",children:"High"}),(0,b.jsx)("option",{value:"Urgent",children:"Urgent"})]})]})})]}),(0,b.jsx)("div",{className:"md:col-span-2",children:(0,b.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:aS,onChange:a=>aT(a.target.checked)}),(0,b.jsx)("span",{className:"text-sm",children:"Make Private"})]})}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:aU,onChange:a=>aV(a.target.checked)}),(0,b.jsx)("span",{className:"text-sm",children:"Time Estimate"})]}),aU&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("input",{type:"number",min:0,value:aW,onChange:a=>aX(""===a.target.value?"":Number(a.target.value)),className:"w-32 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,b.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"mins"})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:aY,onChange:a=>aZ(a.target.checked)}),(0,b.jsx)("span",{className:"text-sm",children:"Task is dependent on other task"})]}),aY&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsxs)("label",{className:"block text-sm text-gray-600",children:["Dependent Task ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("select",{value:a$,onChange:a=>a_(a.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,b.jsx)("option",{value:"",children:"Task Name"})})]})]}),(0,b.jsxs)("div",{className:"md:col-span-6 mt-2",children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Add File"}),(0,b.jsx)("div",{onClick:()=>{t.current?.click()},className:"w-full min-h-[80px] rounded-md border-dashed border-2 border-gray-200 flex items-center justify-center text-sm text-gray-500 cursor-pointer",children:a0?(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{className:"font-medium",children:a0.name}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[(a0.size/1024).toFixed(1)," KB"]})]}):(0,b.jsx)("div",{children:"Choose a file"})}),(0,b.jsx)("input",{type:"file",onChange:a=>{let b=a.target.files&&a.target.files[0];b&&a1(b),a.currentTarget.value=""},className:"hidden"})]})]}),a2&&(0,b.jsx)("div",{className:"mt-3 text-sm text-red-600",children:a2})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>{at(!1),a3(null)},className:"px-4 py-2 border rounded-md text-sm border-blue-600 text-blue-600 hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>au.trim()?aY&&!a$.trim()?void a3("Dependent Task is required when dependency is checked"):void(alert("Update (UI-only) payload:\n"+JSON.stringify({id:d.id,title:au.trim(),category:aw.trim(),project:ay,startDate:aA,dueDate:aE?null:aC,withoutDueDate:aE,status:aG,assignedTo:aI,description:aK.trim(),label:aM,milestone:aO,priority:aQ,isPrivate:aS,timeEstimateMins:aU?Number(aW||0):null,isDependent:aY,dependentTask:a$,fileName:a0?a0.name:null},null,2)),at(!1)):void a3("Title is required"),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Update"})]})]})]})})]})}let i="https://6jnqmj85-80.inc1.devtunnels.ms";function j({projectId:a}){let[d,g]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)({title:"",category:"",startDate:"",dueDate:"",noDueDate:!1,taskStageId:"",assignedEmployeeIds:[],description:"",labelIds:[],milestoneId:"",priority:"LOW",isPrivate:!1,timeEstimateMinutes:"",isDependent:!1,projectId:a,taskFile:null}),F=async()=>{try{let a=`${i}/status`,b=localStorage.getItem("accessToken"),c=await e.default.get(a,{headers:{Authorization:b?`Bearer ${b}`:""}});Array.isArray(c.data)?o(c.data):o([])}catch(a){console.warn("Failed to fetch statuses:",a),o([])}},G=async()=>{k(!0),m(null);try{let b=localStorage.getItem("accessToken"),c=`${i}/projects/${a}/tasks`,d=await e.default.get(c,{headers:{"Content-Type":"application/json",Authorization:b?`Bearer ${b}`:""}});g(Array.isArray(d.data)?d.data:[])}catch(a){m(a?.response?.data?.message||a?.message||"Failed to load tasks")}finally{k(!1)}};(0,c.useEffect)(()=>{F(),G()},[a]);let H=a=>{switch(("string"==typeof a?a:a?.name??"").toLowerCase()){case"complete":case"completed":case"complete":case"complete":return"bg-green-600";case"to-do":case"to do":case"todo":return"bg-yellow-500";case"doing":return"bg-blue-600";case"incomplete":return"bg-red-600";case"waiting":case"waiting for approval":return"bg-gray-600";default:return"bg-gray-400"}},I=async(a,b)=>{g(c=>c.map(c=>c.id===a.id?{...c,taskStage:{id:b.id,name:b.name},taskStageId:b.id}:c));let c=localStorage.getItem("accessToken");try{let d=`${i}/api/projects/tasks/${a.id}/status?statusId=${b.id}`;await e.default.patch(d,{},{headers:{"Content-Type":"application/json",Authorization:c?`Bearer ${c}`:""}}),C(null)}catch(a){console.error("Failed to update status:",a),alert("Failed to update status on server. Refreshing tasks."),await G(),C(null)}},J=a=>{if(!a&&0!==a)return"--";let b=Math.floor((a||0)/60),c=(a||0)%60;return b&&c?`${b}h ${c}m`:b?`${b}h`:`${c}m`};return(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Tasks"}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"flex items-center gap-4"}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsx)("input",{type:"search",placeholder:"Search",onChange:a=>{let b=a.target.value.toLowerCase();b?g(a=>a.filter(a=>(a.title||"").toLowerCase().includes(b)||(a.projectName||"").toLowerCase().includes(b))):G()},className:"border px-3 py-2 rounded-md text-sm"})})]}),j?(0,b.jsx)("div",{className:"py-6 text-center text-gray-500",children:"Loading tasks..."}):l?(0,b.jsx)("div",{className:"py-6 text-center text-red-500",children:l}):(0,b.jsxs)("div",{className:"overflow-x-auto",children:[(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-blue-50 text-left text-gray-600",children:[(0,b.jsx)("th",{className:"px-4 py-3",children:"Code"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Task"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Completed On"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Start Date"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Due Date"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Hours Logged"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Estimated Time"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Milestones"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Assigned to"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Action"})]})}),(0,b.jsx)("tbody",{children:0===d.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:11,className:"py-6 text-center text-gray-500",children:"No tasks found"})}):d.map(a=>{let c=a.dueDate&&!a.noDueDate&&new Date(a.dueDate)<new Date,d=(a=>{if(a.taskStage&&a.taskStage.name)return a.taskStage;if(a.taskStageId){let b=n.find(b=>b.id===a.taskStageId);if(b)return b}return(a=>{if(n&&n.length)return n.find(b=>String(b.name).toLowerCase().includes(String(a).toLowerCase()))})(String(a.taskStage?.name||""))??{id:a.taskStageId??0,name:a.taskStage?.name??"Doing"}})(a),e=d?.name??"Doing";return(0,b.jsxs)("tr",{className:"border-b last:border-b-0 bg-white hover:bg-gray-50",children:[(0,b.jsxs)("td",{className:"px-4 py-4 align-top",children:["RTA-",String(a.id).padStart(2,"0")]}),(0,b.jsxs)("td",{className:"px-4 py-4 align-top",children:[(0,b.jsx)("div",{className:"font-medium",children:a.title}),(0,b.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:a.projectName??`Project ${a.projectId}`})]}),(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:"--"}),(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:a.startDate?new Date(a.startDate).toLocaleDateString():"--"}),(0,b.jsx)("td",{className:`px-4 py-4 align-top ${c?"text-red-600":""}`,children:a.noDueDate?"--":a.dueDate?new Date(a.dueDate).toLocaleDateString():"--"}),(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:J(a.hoursLoggedMinutes??null)}),(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:J(a.timeEstimateMinutes??null)}),(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:a.milestone?.title??"--"}),(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:(0,b.jsx)("div",{className:"flex -space-x-2",children:(a.assignedEmployees||[]).slice(0,3).map(a=>(0,b.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white overflow-hidden bg-gray-100",children:a.profileUrl?(0,b.jsx)("img",{src:a.profileUrl,alt:a.name,className:"w-full h-full object-cover"}):(0,b.jsx)(f.UserIcon,{className:"w-full h-full text-gray-400 p-1"})},a.employeeId))})}),(0,b.jsx)("td",{className:"px-4 py-4 align-top relative",children:(0,b.jsxs)("div",{className:"relative inline-block",children:[(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),A(null),C(b=>b===a.id?null:a.id)},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs bg-white hover:bg-gray-50",title:"Change status",children:[d&&d.labelColor?(0,b.jsx)("span",{style:{width:8,height:8,borderRadius:9999,display:"inline-block",background:`#${String(d.labelColor).replace(/[^0-9a-fA-F]/g,"").slice(0,6)}`}}):(0,b.jsx)("span",{className:`w-2 h-2 rounded-full ${H(d?.name??"Doing")}`}),(0,b.jsx)("span",{children:String(e)}),(0,b.jsx)("span",{className:"text-xs",children:"â–¾"})]}),B===a.id&&(0,b.jsx)("div",{onClick:a=>a.stopPropagation(),className:"absolute right-0 mt-2 z-30 w-44 bg-white border rounded-md shadow-lg text-sm",children:n.length>0?n.map(c=>(0,b.jsxs)("button",{onClick:()=>I(a,c),className:`w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-2 ${c.id===d?.id?"font-medium":""}`,children:[c.labelColor?(0,b.jsx)("span",{style:{width:8,height:8,borderRadius:9999,background:`#${String(c.labelColor).replace(/[^0-9a-fA-F]/g,"").slice(0,6)}`}}):(0,b.jsx)("span",{className:`w-2 h-2 rounded-full ${H(c.name)}`}),(0,b.jsx)("span",{children:c.name})]},c.id)):["To Do","Doing","Completed","Incomplete","Waiting for Approval"].map(c=>(0,b.jsxs)("button",{onClick:()=>{I(a,{id:0,name:c})},className:"w-full text-left px-4 py-2 hover:bg-gray-50",children:[(0,b.jsx)("span",{className:`w-2 h-2 rounded-full ${H(c)}`})," ",(0,b.jsx)("span",{children:c})]},c))})]})}),(0,b.jsxs)("td",{className:"px-4 py-4 align-top relative",children:[(0,b.jsx)("button",{onClick:()=>{y(a),w(!0),A(null)},className:"w-full text-left px-4 py-2 hover:bg-gray-50",children:"View"}),z===a.id&&(0,b.jsx)("div",{onClick:a=>a.stopPropagation(),className:"absolute right-2 top-10 z-20 w-48 bg-white border rounded-md shadow-md"})]})]},a.id)})})]}),(0,b.jsxs)("div",{className:"px-4 py-3 border-t bg-gray-50 flex items-center justify-between text-sm text-gray-600 rounded-b-md mt-4",children:[(0,b.jsxs)("div",{children:["Result per page - ",d.length?d.length:0]}),(0,b.jsx)("div",{children:"Page 1 of 1"})]})]}),(0,b.jsx)(h,{open:v,task:x,onClose:()=>{w(!1),y(null)}})]})}let k="https://6jnqmj85-80.inc1.devtunnels.ms",l=e.default.create({baseURL:k||"/",timeout:15e3});function m({projectId:a}){let[d,e]=(0,c.useState)(null),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(null),w=async()=>{try{j(!0),n(null);let b=`${k}/projects/${a}`,c=await l.get(b);e(c),h(c?.assignedEmployees??[])}catch(a){n(a.message),e(null),h([])}finally{j(!1)}};(0,c.useEffect)(()=>{w()},[a]);let x=async()=>{if(confirm("Remove Project Admin?"))try{v("admin"),n(null);let b=`${k}/projects/${a}/admin`;await l.delete(b),w()}catch(a){n(a.message)}finally{v(null)}},y=g.filter(a=>{let b=s.toLowerCase();return a.name?.toLowerCase().includes(b)||a.employeeId.toLowerCase().includes(b)||a.designation?.toLowerCase().includes(b)});return(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Member"}),(0,b.jsx)("div",{className:"flex justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{type:"search",placeholder:"Search",className:"border px-3 py-2 rounded",value:s,onChange:a=>t(a.target.value)}),(0,b.jsx)("button",{onClick:w,className:"bg-gray-100 px-3 py-2 rounded",children:"Refresh"})]})}),i&&(0,b.jsx)("div",{className:"text-center py-5",children:"Loadingâ€¦"}),m&&(0,b.jsx)("div",{className:"p-3 bg-red-50 text-red-600 rounded mb-3",children:m}),!i&&(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-blue-50 text-left ",children:[(0,b.jsx)("th",{className:"px-4 py-3",children:"Name"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"User Role "})]})}),(0,b.jsxs)("tbody",{children:[y.map(a=>(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsxs)("td",{className:"px-4 py-4 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden",children:a.profileUrl?(0,b.jsx)("img",{src:a.profileUrl,className:"w-full h-full object-cover"}):(0,b.jsx)(f.UserIcon,{className:"w-6 h-6 text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.designation??a.department})]})]}),(0,b.jsxs)("td",{className:"px-4 py-4",children:[(0,b.jsx)("span",{className:"ml-1",children:"Project Admin"}),d?.projectAdminId===a.employeeId&&(0,b.jsx)("button",{onClick:()=>x(),disabled:u,className:"ml-3 px-3 py-1 border rounded text-sm bg-white",children:u?"Removing...":"Remove Admin"})]})]},a.employeeId)),0===y.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:3,className:"py-6 text-center text-gray-500",children:"No members found"})})]})]})]})}function n({gatewayPath:a="/timesheets",mainBase:d,authToken:e=null,projectId:g}){let h=(d||"https://6jnqmj85-80.inc1.devtunnels.ms").replace(/\/$/,""),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(0),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)("All"),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)({projectId:"",taskId:"",employeeId:"",startDate:"",startTime:"",endDate:"",endTime:"",memo:""}),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(!1),M=async(a,b={},c=15e3)=>{let d=new AbortController,e=setTimeout(()=>d.abort(),c);try{let a={...b,signal:d.signal},c=await fetch(`${h}/timesheets/project/${g}`,a);clearTimeout(e);let f=c.headers.get("content-type")||"",i=await c.text().catch(()=>"");if(!c.ok){if(f.includes("application/json"))try{let a=JSON.parse(i||"{}"),b=a?.message||JSON.stringify(a);throw Error(`HTTP ${c.status} ${c.statusText} â€” ${b}`)}catch{throw Error(`HTTP ${c.status} ${c.statusText} â€” ${i.slice(0,300)}`)}if(f.includes("text/html")||i.trim().startsWith("<!DOCTYPE html"))throw Error(`HTTP ${c.status} ${c.statusText} â€” server returned HTML (likely auth).`);throw Error(`HTTP ${c.status} ${c.statusText} ${i?"- "+i.slice(0,300):""}`)}if(f.includes("application/json"))return JSON.parse(i||"[]");return i}catch(a){if("AbortError"===a.name)throw Error("Request timed out");if("Failed to fetch"===a.message)throw Error("Network Error - check CORS / server availability");throw a}finally{clearTimeout(e)}},N=async()=>{l(!0),n(null);try{let b=(a=>{let b=String(a||"");return b.startsWith("http://")||b.startsWith("https://")?b:b.startsWith("/")?`${h}${b}`:`${h}/${b}`})(a),c=await M(b,{method:"GET",headers:((a={})=>{let b={...a};return e&&(b.Authorization=`Bearer ${e}`),b})({"Content-Type":"application/json"}),credentials:"same-origin"});Array.isArray(c)?j(c):c?.data&&Array.isArray(c.data)?j(c.data):(console.warn("Unexpected timesheets response:",c),j([]),n("Unexpected response shape from server. See console."))}catch(a){console.error("fetchTimesheets error:",a),j([]),n(a?.message||"Failed to load timesheets")}finally{l(!1)}};(0,c.useEffect)(()=>{N()},[o]);let O=(0,c.useMemo)(()=>{let a=new Map;return i.forEach(b=>{let c=b.employees&&b.employees[0];c&&c.employeeId?a.set(c.employeeId,c):b.employeeId&&a.set(b.employeeId,{employeeId:b.employeeId})}),Array.from(a.values())},[i]),P=i.filter(a=>{if("All"!==s&&a.employeeId!==s)return!1;if(!q)return!0;let b=q.toLowerCase(),c=a.employees&&a.employees[0];return String(a.employeeId||"").toLowerCase().includes(b)||String(a.projectId||"").toLowerCase().includes(b)||String(a.taskId||"").toLowerCase().includes(b)||String(a.memo||"").toLowerCase().includes(b)||String(c?.name||"").toLowerCase().includes(b)}),Q=a=>a<10?`0${a}`:`${a}`,R=(a,b)=>((a,b)=>{if(!a)return"-";try{let[c,d,e]=a.split("-").map(Number),f=0,g=0;if(b){let a=b.split(":").map(Number);f=a[0]??0,g=a[1]??0}let h=new Date(c,d-1,e,f,g),i=Q(h.getDate()),j=Q(h.getMonth()+1),k=h.getFullYear(),l=h.getHours(),m=Q(h.getMinutes()),n=l>=12?"PM":"AM";l=l%12||12;let o=Q(l);return`${i}/${j}/${k} ${o}:${m} ${n}`}catch{return a+(b?` ${b}`:"")}})(a,b);return((a,b,c,d)=>{if(a&&c)try{let e=a.split("-").map(Number),f=c.split("-").map(Number),g=0,h=0,i=0,j=0;b&&([g,h]=b.split(":").map(a=>Number(a))),d&&([i,j]=d.split(":").map(a=>Number(a)));let k=new Date(e[0],e[1]-1,e[2],g,h),l=new Date(f[0],f[1]-1,f[2],i,j).getTime()-k.getTime();if(isNaN(l)||l<=0)return 0;return Math.round(l/36e5)}catch{return 0}})(C.startDate,C.startTime,C.endDate,C.endTime),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Timesheet"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("label",{className:"text-sm",children:"Employee"}),(0,b.jsxs)("select",{value:s,onChange:a=>t(a.target.value),className:"border rounded px-3 py-2 text-sm",children:[(0,b.jsx)("option",{value:"All",children:"All"}),O.map(a=>(0,b.jsx)("option",{value:a.employeeId,children:a.name?`${a.name} (${a.employeeId})`:a.employeeId},a.employeeId))]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>p(a=>a+1),className:"bg-gray-100 px-3 py-2 rounded text-sm border hover:bg-gray-200",children:"Refresh"}),(0,b.jsx)("input",{type:"search",placeholder:"Search employee, memo, project...",value:q,onChange:a=>r(a.target.value),className:"border px-3 py-2 rounded-md text-sm"})]})]}),k?(0,b.jsx)("div",{className:"py-6 text-center text-gray-500",children:"Loading timesheets..."}):(0,b.jsxs)(b.Fragment,{children:[m&&(0,b.jsxs)("div",{className:"mb-4 p-3 rounded bg-red-50 text-red-700",children:[(0,b.jsx)("strong",{children:"Error:"})," ",m]}),(0,b.jsx)("div",{className:"overflow-x-auto h-full",children:(0,b.jsxs)("table",{className:"min-w-full  text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-blue-50 text-left text-gray-600",children:[(0,b.jsx)("th",{className:"px-4 py-3",children:"Code"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Task"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Employee"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Start Time"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"End Time"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Total Hours"})]})}),(0,b.jsx)("tbody",{children:0===P.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"py-6 text-center text-gray-500",children:"No timesheets found"})}):P.map(a=>{let c=a.employees&&a.employees[0],d=`RTA-${String(a.id).padStart(2,"0")}`,e=`Task ${a.taskId??"-"} \xb7 Project ${a.projectId??"-"}`;return(0,b.jsxs)("tr",{className:"border-b last:border-b-0 bg-white hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:d}),(0,b.jsxs)("td",{className:"px-4 py-4 align-top",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:e}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:a.memo??""})]}),(0,b.jsxs)("td",{className:"px-4 py-4 align-top flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:c?.profileUrl?(0,b.jsx)("img",{src:c.profileUrl,alt:c?.name??"",className:"w-full h-full object-cover"}):(0,b.jsx)(f.UserIcon,{className:"w-6 h-6 text-gray-400 p-1"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:c?.name||a.employeeId}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:c?.designation||c?.department||a.employeeId})]})]}),(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:R(a.startDate,a.startTime)}),(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:R(a.endDate,a.endTime)}),(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:"number"==typeof a.durationHours?`${a.durationHours}h`:"-"}),(0,b.jsx)("td",{className:"px-4 py-4 align-top",children:(0,b.jsx)("div",{className:"relative inline-block text-left"})})]},a.id)})})]})})]})]})}l.interceptors.request.use(a=>{let b=localStorage.getItem("accessToken");return b&&(a.headers.Authorization=`Bearer ${b}`),a}),l.interceptors.response.use(a=>a.data,a=>Promise.reject(Error(a?.response?.data?.message||a?.response?.statusText||a.message||"Request failed")));let o="https://6jnqmj85-80.inc1.devtunnels.ms",p=a=>{if(!a)return null;let b=String(a).replace(/[^0-9a-fA-F]/g,"");return b.length>=6?`#${b.slice(0,6)}`:null},q=a=>{let b=a.toLowerCase();return b.includes("complete")||b.includes("complete")?"#10b981":b.includes("to-do")||b.includes("todo")||b.includes("to do")?"#f59e0b":b.includes("doing")?"#2563eb":b.includes("incomplete")?"#ef4444":b.includes("wait")||b.includes("waiting")?"#9ca3af":"#6b7280"},r=(a,b,c,d)=>{let e=(d-90)*Math.PI/180;return{x:a+c*Math.cos(e),y:b+c*Math.sin(e)}};function s({projectId:a}){let[d,f]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),m=localStorage.getItem("accessToken")||"";(0,c.useEffect)(()=>{let b=!0;return(async()=>{j(!0),l(null);try{let c=`${o}/status`,[d,g]=await Promise.all([e.default.get(c,{headers:{Authorization:m?`Bearer ${m}`:""}}),e.default.get(`${o}/projects/${a}/tasks`,{headers:{Authorization:m?`Bearer ${m}`:""}})]);b&&(f(Array.isArray(d.data)?d.data:[]),h(Array.isArray(g.data)?g.data:[]))}catch(a){console.error("Failed to load task statistics:",a?.response?.data??a?.message??a),b&&(l("Failed to load task statistics"),f([]),h([]))}finally{b&&j(!1)}})(),()=>{b=!1}},[a,m]);let n=(0,c.useMemo)(()=>{let a=new Map;return d.forEach(b=>a.set(b.id,{status:b,count:0})),g.forEach(b=>{let c=b.taskStageId??b.taskStage?.id??null;if(null!=c){let b=Array.from(a.keys()).find(a=>a===c);if(void 0!==b){let c=a.get(b);c.count+=1,a.set(b,c);return}}let e=b.taskStage?.name??"",f=d.find(a=>e&&String(a.name).toLowerCase().includes(e.toLowerCase()));if(f){let b=a.get(f.id)??{status:f,count:0};b.count+=1,a.set(f.id,b);return}let g="unknown";a.has(g)||a.set(g,{status:{id:0,name:"Other",labelColor:null},count:0});let h=a.get(g);h.count+=1,a.set(g,h)}),Array.from(a.values())},[d,g]),s=n.reduce((a,b)=>a+b.count,0)||0,t=0,u=n.filter(a=>a.count>0).map(a=>{let b=0===s?0:a.count/s,c=t;t+=360*b;let d=p(a.status.labelColor)||q(a.status.name);return{...a,start:c,end:t,color:d}});return(0,b.jsx)("div",{children:i?(0,b.jsx)("div",{className:"py-6 text-center text-gray-500",children:"Loading task statistics..."}):k?(0,b.jsx)("div",{className:"py-6 text-center text-red-500",children:k}):(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsxs)("svg",{viewBox:"0 0 100 100",width:"180",height:"180",className:"flex-shrink-0",children:[0===u.length&&(0,b.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"#e5e7eb"}),u.map((a,c)=>(0,b.jsx)("path",{d:((a,b,c,d,e)=>{let f=r(50,50,40,e),g=r(50,50,40,d),h=e-d<=180?"0":"1";return`M ${a} ${b} L ${f.x} ${f.y} A ${c} ${c} 0 ${h} 0 ${g.x} ${g.y} Z`})(50,50,40,a.start,a.end),fill:a.color,stroke:"#ffffff",strokeWidth:"0.5"},c))]})}),(0,b.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,b.jsx)("ul",{className:"space-y-3 text-sm",children:n.map((a,c)=>{let d=p(a.status.labelColor)||q(a.status.name);return(0,b.jsxs)("li",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{style:{width:18,height:12,background:d},className:"rounded-sm inline-block"}),(0,b.jsx)("span",{className:"flex-1",children:a.status.name}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:a.count})]},c)})}),(0,b.jsxs)("div",{className:"mt-4 text-xs text-gray-500",children:["Total tasks: ",s]})]})]})})}function t(){let{id:a}=(0,d.useParams)()||{},[e,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0),[k,l]=(0,c.useState)("overview"),o=async b=>{try{let c=await fetch(`/api/work/project/${a}`,{headers:b?{Authorization:`Bearer ${b}`}:void 0});if(!c.ok)throw Error("Failed to fetch");let d=await c.json();g(Array.isArray(d)?d[0]:d)}catch(b){g({id:Number(a||1),shortCode:"PRJ-001",name:"Project Name",category:"Website",startDate:"2025-08-02",deadline:"2025-09-12",client:{name:"John Doe",profilePictureUrl:"https://i.pravatar.cc/80?img=5"},summary:"Short description of the project and goals.",currency:"$",budget:0,hoursEstimate:40,assignedEmployees:[{employeeId:"1",name:"Aman Sharma",designation:"Developer",department:"Engineering"},{employeeId:"2",name:"Riya Singh",designation:"Designer",department:"Design"}],progressPercent:76,totalTimeLoggedMinutes:300,createdBy:"Admin",createdAt:new Date().toISOString(),pinned:!1,archived:!1})}finally{i(!1)}};if((0,c.useEffect)(()=>{o(localStorage.getItem("accessToken")||"")},[a]),h)return(0,b.jsx)("p",{className:"p-8 text-center",children:"Loading project..."});if(!e)return(0,b.jsx)("p",{className:"p-8 text-center text-red-600",children:"Project not found"});let p=e.totalTimeLoggedMinutes?Math.floor(e.totalTimeLoggedMinutes/60):0;return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"px-6 py-6",children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("h1",{className:"text-3xl font-semibold text-gray-800",children:e.name})}),(0,b.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("div",{className:"w-36 h-20",children:(0,b.jsxs)("svg",{viewBox:"0 0 100 50",className:"w-full h-full",children:[(0,b.jsx)("path",{d:"M5 50 A45 45 0 0 1 95 50",fill:"none",stroke:"#e6e6e6",strokeWidth:"10",strokeLinecap:"round"}),(0,b.jsx)("path",{d:"M5 50 A45 45 0 0 1 75 18",fill:"none",stroke:"#f5c518",strokeWidth:"10",strokeLinecap:"round"}),(0,b.jsxs)("text",{x:"50",y:"40",fontSize:"8",textAnchor:"middle",fill:"#374151",children:[e.progressPercent,"%"]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Start Date"}),(0,b.jsx)("p",{className:"font-medium",children:new Date(e.startDate).toLocaleDateString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"End Date"}),(0,b.jsx)("p",{className:"font-medium",children:e.noDeadline?"No Deadline":e.deadline?new Date(e.deadline).toLocaleDateString():"TBD"})]})]}),(0,b.jsx)("div",{className:"hidden lg:block max-w-xs text-gray-600",children:e.summary?(0,b.jsx)("p",{children:e.summary}):(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"No summary available"})})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:e.client?.profilePictureUrl?(0,b.jsx)("img",{src:e.client.profilePictureUrl,alt:"client",className:"w-full h-full object-cover"}):(0,b.jsx)(f.UserIcon,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Client"}),(0,b.jsx)("p",{className:"font-medium",children:e.client?.name||`Client ID: ${e.client?.name??""}`}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Qurilo Solutions"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Task Statistics"}),(0,b.jsx)(s,{projectId:e.id})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Hours Logged"}),(0,b.jsxs)("div",{className:"text-2xl font-semibold text-blue-600 mt-2",children:[p,"hrs 0 min"]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 p-4",children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("h4",{className:"text-lg font-medium",children:"Assigned Employees"})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.assignedEmployees&&e.assignedEmployees.length?e.assignedEmployees.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:a.profileUrl?(0,b.jsx)("img",{src:a.profileUrl,alt:a.name,className:"w-full h-full object-cover"}):(0,b.jsx)(f.UserIcon,{className:"w-5 h-5 text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[a.designation?a.designation+", ":"",a.department]})]})]},a.employeeId)):(0,b.jsx)("p",{className:"text-gray-500 text-center py-6",children:"No employees assigned"})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,b.jsx)("h4",{className:"text-lg font-medium mb-2",children:"Project Summary"}),(0,b.jsxs)("div",{className:"text-xs text-gray-500 space-y-2",children:[(0,b.jsxs)("div",{children:["Created by: ",e.summary]}),(0,b.jsxs)("div",{children:["Created on: ",new Date(e.createdAt||"").toLocaleDateString()]}),e.pinned&&(0,b.jsxs)("div",{children:["Pinned on: ",new Date(e.pinnedAt||"").toLocaleDateString()]}),e.archived&&(0,b.jsxs)("div",{children:["Archived on: ",new Date(e.archivedAt||"").toLocaleDateString()]})]})]})]})]}),e&&(0,b.jsx)("div",{className:"mt-6",children:(0,b.jsx)(j,{projectId:e.id})}),(0,b.jsxs)("div",{className:"mt-6 grid grid-cols-1 lg:grid-rows-2 gap-2",children:[(0,b.jsx)(m,{projectId:e.id}),(0,b.jsx)(n,{gatewayPath:"https://erp.skavosystem.com/timesheets",projectId:e.id})]})]})})}var u=a.i(571987),v=a.i(417755);let w="https://6jnqmj85-80.inc1.devtunnels.ms";function x({projectId:a,authToken:d}){let e=(0,c.useRef)(null),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)({}),[n,o]=(0,c.useState)(null);(0,c.useEffect)(()=>{if(!a)return;let b=!0;return i(!0),o(null),fetch(`${w}/files/projects/${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}).then(a=>a.json()).then(a=>{b&&g((Array.isArray(a)?a:[]).map(a=>({id:a.id,filename:a.filename,url:a.url,mimeType:a.mimeType,size:a.size,uploadedBy:a.uploadedBy,createdAt:a.createdAt})))}).catch(()=>o("Failed to load files")).finally(()=>b&&i(!1)),()=>{b=!1}},[a,d]);let p=async b=>{let c=b.target.files?.[0];if(!c)return;let d=`local-${Date.now()}`,f=c.type.startsWith("image/")?URL.createObjectURL(c):null;g(a=>[{id:d,filename:c.name,url:f,mimeType:c.type},...a]),m(a=>({...a,[d]:!0})),o(null);try{let b=new FormData;b.append("file",c);let e=await fetch(`${w}/files/projects/${a}`,{method:"POST",body:b,headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!e.ok)throw Error("Upload failed");let f=await e.json();g(a=>a.map(a=>a.id===d?{id:f.id,filename:f.filename,url:f.url,mimeType:f.mimeType,size:f.size,uploadedBy:f.uploadedBy,createdAt:f.createdAt}:a))}catch(a){g(a=>a.filter(a=>a.id!==d)),o("Upload failed")}finally{m(a=>{let b={...a};return delete b[d],b}),e.current&&(e.current.value="")}},q=(a,b,c)=>{if(!a)return;let d=document.createElement("a");d.href=a,d.target="_blank",b&&(d.download=c||"file"),document.body.appendChild(d),d.click(),d.remove()};return(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-5",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Upload file"}),(0,b.jsxs)("div",{onClick:()=>e.current?.click(),className:"border-2 border-dashed rounded-lg h-28 flex items-center justify-center cursor-pointer text-gray-500",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"#bdbdbd",viewBox:"0 0 24 24",className:"mx-auto mb-2",children:(0,b.jsx)("path",{d:"M12 16a1 1 0 0 1-1-1v-4.586l-1.293 1.293a1 1 0 1 1-1.414-1.414l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.414L13 10.414V15a1 1 0 0 1-1 1Zm7-1a5 5 0 0 0-4.546-4.978A7 7 0 0 0 5.062 9.2 5 5 0 0 0 6 19h13a4 4 0 0 0 0-8Z"})}),(0,b.jsx)("div",{className:"text-sm font-medium",children:"Choose a file"})]}),(0,b.jsx)("input",{ref:e,type:"file",className:"hidden",onChange:p})]}),h&&(0,b.jsx)("p",{className:"text-sm mt-3 text-gray-500",children:"Loadingâ€¦"}),n&&(0,b.jsx)("p",{className:"text-sm mt-3 text-red-500",children:n}),(0,b.jsx)("div",{className:"mt-6 grid grid-cols-6 gap-4",children:f.map(a=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"h-20 border rounded bg-gray-50 flex items-center justify-center overflow-hidden",children:a.url&&a.mimeType?.startsWith("image/")?(0,b.jsx)(u.default,{src:a.url,alt:a.filename||"file",fill:!0,className:"object-cover",unoptimized:!0}):(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"File"})}),(0,b.jsx)("button",{onClick:()=>k(j===a.id?null:a.id),className:"absolute top-1 right-1 p-1 rounded hover:bg-white",children:(0,b.jsx)(v.MoreHorizontal,{size:16})}),j===a.id&&(0,b.jsxs)("div",{className:"absolute right-0 mt-7 w-36 bg-white border rounded shadow z-20",children:[(0,b.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>q(a.url,!0,a.filename||void 0),children:"Download"}),(0,b.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>q(a.url),children:"View"})]})]}),(0,b.jsx)("div",{className:"mt-2 text-sm",children:(0,b.jsxs)("div",{className:"font-medium truncate",children:[a.filename||"Untitled",l[String(a.id)]&&(0,b.jsxs)("span",{className:"text-xs text-gray-400",children:[" ","Â· uploadingâ€¦"]})]})})]},String(a.id)))})]})}var y=a.i(244494),z=a.i(943108),A=a.i(177156),B=a.i(633508);function C({projectId:a,authToken:d}){let[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[B,C]=(0,c.useState)(null),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(!0),[P,Q]=(0,c.useState)(!1),R={Authorization:`Bearer ${d||localStorage.getItem("accessToken")||""}`};return(0,c.useEffect)(()=>{a&&(async()=>{h(!0),j(null);try{let b=await fetch(`https://6jnqmj85-80.inc1.devtunnels.ms/projects/${a}/notes`,{headers:R});if(!b.ok)throw Error("Failed to load notes");let c=await b.json();f(Array.isArray(c)?c.map(a=>({id:a.id,title:a.title??"Untitled",content:a.content??"---",isPublic:!!a.isPublic,createdBy:a.createdBy,createdAt:a.createdAt})):[])}catch(a){j(a.message)}finally{h(!1)}})()},[a]),(0,b.jsxs)("div",{className:"bg-white rounded border",children:[(0,b.jsx)("div",{className:"p-4 flex justify-end border-b"}),(0,b.jsxs)("div",{className:"p-4",children:[g&&(0,b.jsx)("p",{children:"Loadingâ€¦"}),i&&(0,b.jsx)("p",{className:"text-red-600",children:i}),(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-blue-50",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left",children:"Note Title"}),(0,b.jsx)("th",{className:"px-4 py-3",children:"Note Type"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left",children:"Action"})]})}),(0,b.jsx)("tbody",{children:e.map(a=>(0,b.jsxs)("tr",{className:"border-t",children:[(0,b.jsx)("td",{className:"px-4 py-3",children:a.title}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[a.isPublic?(0,b.jsx)(y.Globe,{size:14}):(0,b.jsx)(z.Lock,{size:14}),a.isPublic?"Public":"Private"]})}),(0,b.jsxs)("td",{className:"px-4 py-3 text-center relative",children:[(0,b.jsx)("button",{className:"w-full px-3 py-2 flex gap-2 ",onClick:()=>{C(a),x(!0),l(null)},children:(0,b.jsx)(A.Eye,{size:14})}),k===a.id&&(0,b.jsx)("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow w-40 z-20"})]})]},a.id))})]})]}),w&&B&&(0,b.jsxs)(D,{onClose:()=>x(!1),children:[(0,b.jsx)(E,{title:B.title,onClose:()=>x(!1)}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"border rounded-lg p-6 space-y-4",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-700",children:"Project Note Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,b.jsx)("div",{className:"text-gray-500",children:"Note Title"}),(0,b.jsx)("div",{className:"col-span-2",children:B.title}),(0,b.jsx)("div",{className:"text-gray-500",children:"Note Type"}),(0,b.jsx)("div",{className:"col-span-2",children:B.isPublic?"Public":"Private"}),(0,b.jsx)("div",{className:"text-gray-500",children:"Note Detail"}),(0,b.jsx)("div",{className:"col-span-2 whitespace-pre-wrap",children:B.content||"---"})]})]})})]})]})}function D({children:a,onClose:c}){return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-center pt-12",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/30",onClick:c}),(0,b.jsx)("div",{className:"relative bg-white w-[900px] max-w-[95%] rounded border shadow",children:a})]})}function E({title:a,onClose:c}){return(0,b.jsxs)("div",{className:"p-4 border-b flex justify-between",children:[(0,b.jsx)("h4",{className:"font-medium",children:a}),(0,b.jsx)("button",{onClick:c,children:(0,b.jsx)(B.X,{size:18})})]})}function F({projectId:a}){let[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{a&&(async()=>{try{g(!0),localStorage.getItem("token")||localStorage.getItem("authToken");let b=await fetch(`https://6jnqmj85-80.inc1.devtunnels.ms/projects/${a}/activity`,{cache:"no-store",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}),c=await b.text(),d=c?JSON.parse(c):[];e(Array.isArray(d)?d:[])}catch(a){console.error("Failed to load activity",a),e([])}finally{g(!1)}})()},[a]),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Activity"}),(0,b.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[f&&(0,b.jsx)("div",{className:"p-6 text-center text-gray-400",children:"Loading activityâ€¦"}),!f&&0===d.length&&(0,b.jsx)("div",{className:"p-6 text-center text-gray-400",children:"No activity found"}),!f&&d.map(a=>{let{day:c,month:d,time:e}=function(a){let b=new Date(a);return{day:b.toLocaleDateString("en-US",{day:"2-digit"}),month:b.toLocaleDateString("en-US",{month:"short"}),time:b.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}}(a.createdAt);return(0,b.jsxs)("div",{className:"flex gap-4 p-4 border-b last:border-b-0",children:[(0,b.jsxs)("div",{className:"w-14 border rounded-md text-center overflow-hidden",children:[(0,b.jsx)("div",{className:"text-xs text-gray-500 border-b py-1",children:d}),(0,b.jsx)("div",{className:"text-lg font-semibold py-2",children:c})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-sm text-gray-800",children:function(a){switch(a){case"PROJECT_FILE_UPLOADED":return"New file uploaded to the project.";case"FILE_DELETED":return"File deleted from the project.";case"PROJECT_NOTE_CREATED":return"New note added to the project.";case"PROJECT_NOTE_UPDATED":return"Project note updated.";case"TASK_CREATED":return"New task created.";case"TASK_UPDATED":return"Task updated.";case"TASK_DELETED":return"Task deleted.";case"TASK_STATUS_CHANGED":return"Task status changed.";case"TASK_FILE_UPLOADED":return"File uploaded to a task.";case"TIMELOG_CREATED":return"Time logged on the project.";case"TIMELOG_UPDATED":return"Time log updated.";case"TIMELOG_DELETED":return"Time log deleted.";case"PROJECT_ASSIGNED_EMPLOYEES_ADDED":return"Employee assigned to the project.";case"DISCUSSION_ROOM_CREATED":return"Discussion room created.";case"DISCUSSION_MESSAGE_DELETED":return"Discussion message deleted.";case"PROJECT_CREATED":return"Project created.";default:return a.replaceAll("_"," ").toLowerCase()}}(a.action)}),(0,b.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e})]})]},a.id)})]})]})}var G=a.i(915618),H=a.i(773320),I=a.i(45222),J=a.i(879360),K=a.i(104720),L=a.i(510448),M=a.i(781560),N=a.i(284505),O=a.i(365936),P=a.i(406001);let Q="https://6jnqmj85-80.inc1.devtunnels.ms";function R({projectId:a,roomId:d,onClose:e}){let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(null),v=(0,c.useRef)(null),w=(0,c.useRef)(null),x=a=>{let b=new Date(a);return`${b.toLocaleDateString("en-GB")} | ${b.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}`},y=async()=>{let b=await fetch(`${Q}/api/projects/${a}/discussion-rooms/${d}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});g(await b.json())},z=async()=>{let a=await fetch(`${Q}/api/projects/discussion-rooms/${d}/messages`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}),b=await a.json();b.sort((a,b)=>new Date(a.createdAt).getTime()-new Date(b.createdAt).getTime()),i(b)};(0,c.useEffect)(()=>{y(),z()},[d]),(0,c.useEffect)(()=>{v.current?.scrollIntoView({behavior:"smooth"})},[h]),(0,c.useEffect)(()=>{let a=new O.default(`${Q}/ws-discussion`),b=new P.Client({webSocketFactory:()=>a,debug:()=>{},connectHeaders:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},onConnect:()=>{b.subscribe(`/topic/discussion-rooms/${d}`,a=>{let b=JSON.parse(a.body);i(a=>a.some(a=>a.id===b.id)?a:[...a,b])})}});return b.activate(),w.current=b,()=>{b.deactivate()}},[d]);let C=async()=>{if(!j&&!l)return;let a=new FormData;j&&a.append("content",j),l&&a.append("file",l),a.append("parentMessageId",""),await fetch(`${Q}/api/projects/discussion-rooms/${d}/messages`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:a}),k(""),m(null),z()},D=async()=>{n&&(await fetch(`${Q}/api/projects/discussion-rooms/${d}/messages/${n.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"text/plain"},body:p}),o(null),q(""))},E=async a=>{s(null),await fetch(`${Q}/api/projects/discussion-rooms/${d}/messages/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})};return f?(0,b.jsxs)("div",{className:"fixed inset-0 bg-white z-50 flex flex-col",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center px-6 py-4 border-b",children:[(0,b.jsx)("h3",{className:"text-lg font-medium",children:"Discussion"}),(0,b.jsx)(B.X,{className:"cursor-pointer",onClick:e})]}),(0,b.jsxs)("div",{className:"px-6 py-4 border-b",children:[(0,b.jsx)("h2",{className:"font-medium text-lg",children:f.title}),(0,b.jsxs)("p",{className:"text-sm text-gray-400",children:["Requested On ",x(f.createdAt)]})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[h.map((a,c)=>{let d,e=0===c,f=a.sender?.employeeId===null;return(0,b.jsx)("div",{className:"border rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("img",{src:a.sender?.profileUrl||"/avatar.png",className:"h-9 w-9 rounded-full"}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium",children:a.sender?.name}),a.isBestReply&&(0,b.jsx)("span",{className:"bg-green-100 text-green-700 text-xs font-medium px-3 py-1 rounded-full",children:"Best Reply"})]}),"TEXT"===a.messageType&&(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.content}),"FILE"===a.messageType&&a.fileUrl&&(0,b.jsxs)("div",{className:"relative mt-2 border rounded p-2 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(d=a.mimeType,d?.startsWith("image/"))?(0,b.jsx)("img",{src:a.fileUrl,className:"h-16 w-16 rounded object-cover"}):(0,b.jsx)(K.FileText,{size:32}),(0,b.jsx)("span",{className:"text-sm",children:a.fileName})]}),(0,b.jsx)(J.MoreVertical,{size:16,className:"cursor-pointer",onClick:()=>u(t===a.id?null:a.id)}),t===a.id&&(0,b.jsxs)("div",{className:"absolute right-2 top-10 bg-white border rounded shadow w-40 z-50",children:[(0,b.jsxs)("button",{onClick:()=>{window.open(a.fileUrl,"_blank"),u(null)},className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 w-full",children:[(0,b.jsx)(A.Eye,{size:14}),"View"]}),(0,b.jsxs)("button",{onClick:()=>{((a,b)=>{if(!a)return;let c=document.createElement("a");c.href=a,c.download=b||"",document.body.appendChild(c),c.click(),document.body.removeChild(c)})(a.fileUrl,a.fileName),u(null)},className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 w-full",children:[(0,b.jsx)(N.Download,{size:14}),"Download"]})]})]})]})]}),(0,b.jsxs)("div",{className:"relative flex items-center gap-3 text-xs text-gray-400",children:[x(a.createdAt),e&&f&&(0,b.jsxs)("button",{onClick:()=>{o(a),q(a.content||"")},className:"flex items-center gap-1 border px-3 py-1 rounded",children:[(0,b.jsx)(L.Edit2,{size:14}),"Edit"]}),!e&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(J.MoreVertical,{size:16,className:"cursor-pointer",onClick:()=>s(r===a.id?null:a.id)}),r===a.id&&(0,b.jsxs)("div",{className:"absolute right-0 top-6 bg-white border rounded shadow w-56 z-50",children:[f&&(0,b.jsxs)("button",{onClick:()=>{o(a),q(a.content||""),s(null)},className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 w-full",children:[(0,b.jsx)(L.Edit2,{size:14}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>E(a.id),className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-gray-100 w-full",children:[(0,b.jsx)(M.Trash2,{size:14}),"Delete"]})]})]})]})]})},a.id)}),(0,b.jsx)("div",{ref:v})]}),(0,b.jsxs)("div",{className:"border-t px-6 py-4",children:[(0,b.jsx)("h1",{children:"Reply *"}),(0,b.jsx)("textarea",{value:j,onChange:a=>k(a.target.value),className:"border rounded px-3 py-2 w-full mb-3 min-h-[80px]"}),(0,b.jsx)("h1",{children:"Add File *"}),(0,b.jsxs)("label",{className:"border border-dashed rounded flex flex-col items-center py-6 cursor-pointer text-gray-400 mb-4",children:[(0,b.jsx)(H.Upload,{}),(0,b.jsx)("span",{className:"text-sm mt-2",children:l?l.name:"Choose a file"}),(0,b.jsx)("input",{type:"file",hidden:!0,onChange:a=>m(a.target.files?.[0]||null)})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{onClick:C,className:"bg-blue-600 text-white px-6 py-2 rounded",children:"Reply"})})]}),n&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white w-[500px] rounded p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"font-medium",children:"Update Reply"}),(0,b.jsx)(B.X,{className:"cursor-pointer",onClick:()=>o(null)})]}),(0,b.jsx)("textarea",{value:p,onChange:a=>q(a.target.value),className:"border rounded w-full p-3 min-h-[100px]"}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,b.jsx)("button",{onClick:()=>o(null),className:"px-4 py-2 border rounded",children:"Cancel"}),(0,b.jsx)("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})})]}):null}let S="https://6jnqmj85-80.inc1.devtunnels.ms";function T({projectId:a}){let[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)({categoryName:"",colorCode:""}),[r,s]=(0,c.useState)({categoryId:"",title:"",initialMessage:"",file:null}),t=async()=>{try{let a=await fetch(`${S}/api/projects/discussion-categories`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}),b=await a.json();e(Array.isArray(b)?b:[])}catch{e([])}},u=async()=>{try{i(!0);let b=await fetch(`${S}/api/projects/${a}/discussion-rooms`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}),c=await b.json();g(Array.isArray(c)?c:[])}catch{g([])}finally{i(!1)}};(0,c.useEffect)(()=>{t(),u()},[]);let v=async()=>{if(!p.categoryName||!p.colorCode)return;let a=await fetch(`${S}/api/projects/discussion-categories`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify(p)}),b=await a.json();e(a=>[...a,b]),q({categoryName:"",colorCode:""}),k(!1)},w=async()=>{if(!r.categoryId||!r.title||!r.initialMessage)return;let b=new FormData;b.append("title",r.title),b.append("categoryId",r.categoryId),b.append("initialMessage",r.initialMessage),r.file&&b.append("initialFile",r.file),await fetch(`${S}/api/projects/${a}/discussion-rooms`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:b}),s({categoryId:"",title:"",initialMessage:"",file:null}),m(!1),u()};return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium",children:"Discussion"}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-3 py-1.5 rounded text-sm",children:[(0,b.jsx)(G.Plus,{size:16}),"New Discussion"]})})]}),f.map(a=>{let c=a.lastMessage?.createdAt||a.updatedAt||a.createdAt;return(0,b.jsxs)("div",{onClick:()=>o(a.id),className:"border rounded-md p-4 mb-3 flex justify-between items-center cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,b.jsx)("img",{src:a.createdByUser?.profileUrl||"/avatar.png",className:"h-10 w-10 rounded-full"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:(a=>{if(!a)return"";let b=new Date(a),c=b.toLocaleDateString("en-GB"),d=b.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return`replied at ${c} | ${d}`})(c)}),a.lastMessage?.messageType==="FILE"&&(0,b.jsx)("img",{src:a.lastMessage.fileUrl,className:"h-16 mt-2 rounded"}),a.lastMessage?.messageType==="TEXT"&&(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.lastMessage.content})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(I.MessageCircle,{size:14}),a.messageCount??0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"h-2 w-2 rounded-full",style:{background:a.category.colorCode}}),a.category.categoryName]})]})]},a.id)}),0===f.length&&(0,b.jsx)("div",{className:"border rounded-md p-4 text-gray-400 text-center",children:"Team discussion will appear here"}),l&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg w-[700px] p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,b.jsx)("h4",{className:"font-medium text-lg",children:"New Discussion"}),(0,b.jsx)(B.X,{className:"cursor-pointer",onClick:()=>m(!1)})]}),(0,b.jsxs)("select",{value:r.categoryId,onChange:a=>s({...r,categoryId:a.target.value}),className:"border rounded px-3 py-2 w-full mb-3 text-sm",children:[(0,b.jsx)("option",{value:"",children:"Select category"}),d.map(a=>(0,b.jsx)("option",{value:a.id,children:a.categoryName},a.id))]}),(0,b.jsx)("input",{placeholder:"Title",value:r.title,onChange:a=>s({...r,title:a.target.value}),className:"border rounded px-3 py-2 w-full mb-3 text-sm"}),(0,b.jsx)("textarea",{placeholder:"Reply",value:r.initialMessage,onChange:a=>s({...r,initialMessage:a.target.value}),className:"border rounded px-3 py-2 w-full mb-4 text-sm min-h-[100px]"}),(0,b.jsxs)("label",{className:"border border-dashed rounded flex flex-col items-center justify-center py-6 cursor-pointer text-gray-400 mb-4",children:[(0,b.jsx)(H.Upload,{}),(0,b.jsx)("span",{className:"text-sm mt-2",children:"Choose a file"}),(0,b.jsx)("input",{type:"file",hidden:!0,onChange:a=>s({...r,file:a.target.files?.[0]||null})})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>m(!1),className:"border px-6 py-2 rounded text-sm",children:"Cancel"}),(0,b.jsx)("button",{onClick:w,className:"bg-blue-600 text-white px-6 py-2 rounded text-sm",children:"Save"})]})]})}),j&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg w-[600px] p-5",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,b.jsx)("h4",{className:"font-medium",children:"Discussion Category"}),(0,b.jsx)(B.X,{className:"cursor-pointer",onClick:()=>k(!1)})]}),d.map(a=>(0,b.jsx)("div",{className:"flex justify-between items-center border-b py-2 text-sm",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"h-2 w-2 rounded-full",style:{background:a.colorCode}}),a.categoryName]})},a.id)),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,b.jsx)("input",{placeholder:"Category Name",value:p.categoryName,onChange:a=>q({...p,categoryName:a.target.value}),className:"border rounded px-3 py-2 text-sm"}),(0,b.jsx)("input",{placeholder:"#3498db",value:p.colorCode,onChange:a=>q({...p,colorCode:a.target.value}),className:"border rounded px-3 py-2 text-sm"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,b.jsx)("button",{onClick:()=>k(!1),className:"border px-4 py-2 rounded text-sm",children:"Cancel"}),(0,b.jsx)("button",{onClick:v,className:"bg-blue-600 text-white px-4 py-2 rounded text-sm",children:"Save"})]})]})}),n&&(0,b.jsx)(R,{projectId:a,roomId:n,onClose:()=>o(null)})]})}let U="https://6jnqmj85-80.inc1.devtunnels.ms";function V(){let a=(0,d.useParams)(),f=a?.id,[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)("overview");return((0,c.useEffect)(()=>{if(!f)return;let a=localStorage.getItem("accessToken")||"";(async()=>{try{let[b,c]=await Promise.all([e.default.get(`${U}/projects/${f}`,{headers:{Authorization:`Bearer ${a}`}}),e.default.get(`${U}/projects/${f}/metrics`,{headers:{Authorization:`Bearer ${a}`}})]);h(Array.isArray(b.data)?b.data[0]:b.data),j(c.data)}catch(a){console.error(a)}finally{l(!1)}})()},[f]),k)?(0,b.jsx)("div",{className:"p-8 text-center",children:"Loading project..."}):g?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold text-gray-800 mb-4",children:g.name}),(0,b.jsx)("div",{className:"bg-white rounded-t-xl border",children:(0,b.jsx)("nav",{className:"flex gap-6 px-6 h-14 items-center",children:[{key:"overview",label:"Overview"},{key:"files",label:"Files"},{key:"notes",label:"Notes"},{key:"activity",label:"Activity"},{key:"discussion",label:"Discussion"}].map(a=>{let c=m===a.key;return(0,b.jsxs)("button",{onClick:()=>n(a.key),className:`relative text-sm font-medium py-3 ${c?"text-blue-600":"text-gray-600"}`,children:[a.label,c&&(0,b.jsx)("span",{className:"absolute -bottom-3 left-0 w-full h-0.5 bg-blue-500 rounded"})]},a.key)})})}),(0,b.jsxs)("div",{className:"bg-white rounded-b-xl border border-t-0 p-6",children:["overview"===m&&(0,b.jsx)(t,{project:g,metrics:i}),"files"===m&&(0,b.jsx)(x,{projectId:g.id}),"notes"===m&&(0,b.jsx)(C,{projectId:g.id}),"activity"===m&&(0,b.jsx)(F,{projectId:g.id}),"discussion"===m&&(0,b.jsx)(T,{projectId:g.id})]})]})}):(0,b.jsx)("div",{className:"p-8 text-center text-red-500",children:"Project not found"})}}];

//# sourceMappingURL=src_app_%28employee%29_employees_work_project_%5Bid%5D_page_tsx_ad8c1186._.js.map