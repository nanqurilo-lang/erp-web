module.exports=[354009,a=>{"use strict";a.s(["default",()=>y],354009);var b=a.i(187924),c=a.i(572131),d=a.i(699570),e=a.i(866718),f=a.i(580701),g=a.i(206015),h=a.i(335732),i=a.i(613749),j=a.i(50522),k=a.i(587532),l=a.i(879360),m=a.i(177156),n=a.i(101239),o=a.i(941675),p=a.i(369012),q=a.i(367329),r=a.i(633508);let s=(a,b)=>{let c=new Date(a);return c.setDate(c.getDate()+b),c},t=(a,b)=>a.toDateString()===b.toDateString();function u(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(new Date),i=async()=>{try{f(!0);let a=await fetch("https://6jnqmj85-80.inc1.devtunnels.ms/projects",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},credentials:"include"});if(!a.ok)throw Error("Failed to fetch projects");let b=(await a.json()).map(a=>({id:a.id,name:a.name,startDate:a.startDate,deadline:a.deadline}));d(b)}catch(a){console.error("Project fetch error:",a)}finally{f(!1)}};(0,c.useEffect)(()=>{i()},[]);let j=(0,c.useMemo)(()=>{let a=new Date(g.getFullYear(),g.getMonth(),1),b=new Date(g.getFullYear(),g.getMonth()+1,0),c=[],d=new Date(a);d.setDate(a.getDate()-a.getDay());let e=new Date(b);e.setDate(b.getDate()+(6-b.getDay()));let f=d;for(;f<=e;)c.push(new Date(f)),f=s(f,1);return c},[g]);return(0,b.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-sm border p-4 ",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("button",{onClick:()=>h(new Date(g.getFullYear(),g.getMonth()-1,1)),className:"px-3 py-1 border rounded",children:"◀"}),(0,b.jsx)("h2",{className:"text-lg font-semibold",children:g.toLocaleString("default",{month:"long",year:"numeric"})}),(0,b.jsx)("button",{onClick:()=>h(new Date(g.getFullYear(),g.getMonth()+1,1)),className:"px-3 py-1 border rounded",children:"▶"})]}),e&&(0,b.jsx)("div",{className:"text-center py-6 text-sm text-gray-500",children:"Loading projects..."}),(0,b.jsx)("div",{className:"grid grid-cols-7 text-sm font-medium text-center border-b pb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>(0,b.jsx)("div",{children:a},a))}),(0,b.jsx)("div",{className:"mt-2 max-h-[70vh] overflow-y-auto overflow-x-hidden",children:(0,b.jsx)("div",{className:"grid grid-cols-7 gap-px bg-gray-200 mt-2",children:j.map((c,d)=>{let e=a.filter(a=>{let b=new Date(a.startDate),d=new Date(a.deadline);return c>=b&&c<=d}),f=c.getMonth()===g.getMonth();return(0,b.jsxs)("div",{className:`min-h-[110px] bg-white p-1 text-xs ${!f?"opacity-40":""}`,children:[(0,b.jsx)("div",{className:"text-right font-semibold",children:c.getDate()}),(0,b.jsx)("div",{className:"space-y-1 mt-1",children:e.map(a=>{let d=t(c,new Date(a.startDate)),e=t(c,new Date(a.deadline));return(0,b.jsxs)("div",{className:`px-2 py-1 rounded text-white text-[11px]
                        ${d||e?"bg-blue-600":"bg-blue-400"}`,children:[d&&(0,b.jsx)("span",{children:"▶ "}),a.name,e&&(0,b.jsx)("span",{children:" ◀"})]},a.id)})})]},d)})})})]})}let v="https://6jnqmj85-80.inc1.devtunnels.ms",w=["IN_PROGRESS","NOT_STARTED","ON_HOLD","CANCELLED","FINISHED"],x="projectProgressOverrides";function y(){let[a,s]=(0,c.useState)([]),[t,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)("all"),[H,I]=(0,c.useState)("all"),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)("all"),[R,S]=(0,c.useState)("all"),[T,U]=(0,c.useState)("all"),[V,W]=(0,c.useState)(1),[X,Y]=(0,c.useState)(1),[Z,$]=(0,c.useState)(!1),[_,aa]=(0,c.useState)(""),[ab,ac]=(0,c.useState)(""),[ad,ae]=(0,c.useState)(""),[af,ag]=(0,c.useState)(""),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)("none"),[al,am]=(0,c.useState)("none"),[an,ao]=(0,c.useState)("none"),[ap,aq]=(0,c.useState)(""),[ar,as]=(0,c.useState)(!0),[at,au]=(0,c.useState)(""),[av,aw]=(0,c.useState)(null),[ax,ay]=(0,c.useState)("USD"),[az,aA]=(0,c.useState)(""),[aB,aC]=(0,c.useState)(""),[aD,aE]=(0,c.useState)(!1);(0,c.useRef)(null);let[aF,aG]=(0,c.useState)("you"),[aH,aI]=(0,c.useState)(!1),[aJ,aK]=(0,c.useState)(!1),[aL,aM]=(0,c.useState)([]),[aN,aO]=(0,c.useState)(!1),[aP,aQ]=(0,c.useState)(""),[aR,aS]=(0,c.useState)(!1),[aT,aU]=(0,c.useState)([]),[aV,aW]=(0,c.useState)(!1),[aX,aY]=(0,c.useState)([]),[aZ,a$]=(0,c.useState)(!1),[a_,a0]=(0,c.useState)(!1),[a1,a2]=(0,c.useState)(null),[a3,a4]=(0,c.useState)("grid"),[a5,a6]=(0,c.useState)(!1),[a7,a8]=(0,c.useState)(!1),[a9,ba]=(0,c.useState)(!1);(0,c.useEffect)(()=>{document.body.style.overflow=N||Z||aJ||a_||a9?"hidden":"auto"},[N,Z,aJ,a_,a9]);let bb=Array.from(new Set(a.map(a=>a.name))).filter(Boolean),bc=Array.from(new Set(a.flatMap(a=>(a.assignedEmployees||[]).map(a=>a.name)))).filter(Boolean);aL.map(a=>({id:String(a.id),name:a.name}));let bd=aT.map(a=>({id:String(a.id),name:a.name}));aX.map(a=>({id:String(a.id),name:a.departmentName}));let be=()=>{try{let a=localStorage.getItem(x);if(!a)return{};return JSON.parse(a)}catch{return{}}},bf=(a,b)=>{let c=be(),d=String(a);null==b?delete c[d]:c[d]=b;try{localStorage.setItem(x,JSON.stringify(c))}catch{}},bg=(0,c.useCallback)(async a=>{y(!0);try{let b=a||z||null;if(!b){s([]),Y(1),y(!1);return}new URLSearchParams({page:String(V),limit:String(9),search:D||"",status:"all"!==F?F:"",progress:"all"!==H?H:"",project:"all"!==P?P:"",member:"all"!==R?R:"",client:"all"!==T?T:""});let c=await fetch(`${v}/projects?page=0&size=50`,{headers:{Authorization:`Bearer ${b}`},cache:"no-store"});if(401===c.status){try{localStorage.removeItem("accessToken")}catch{}A(null),s([]),Y(1),y(!1);return}if(!c.ok){let a=await c.text().catch(()=>"");throw console.error("getProjects failed",c.status,a),Error("Failed to load projects")}let d=await c.json(),e=[];Array.isArray(d)?e=d:(e=d.projects||d.items||[],Y(d.totalPages||Math.max(1,Math.ceil((d.total||9)/9))));let f=be();Object.keys(f).length>0&&(e=e.map(a=>{let b=f[String(a.id)];return null!=b?{...a,progressPercent:b}:a})),s(e)}catch(a){console.error("Error loading projects:",a),s([]),Y(1)}finally{y(!1)}},[V,D,F,H,P,R,T,z]);async function bh(b,c){if(!z)return alert("Not authenticated");s(a=>a.map(a=>a.id===b?{...a,projectStatus:c}:a));try{let a=new FormData;a.append("status",c);let d=await fetch(`${v}/api/projects/${b}/status`,{method:"PUT",body:a,headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}),e=null;try{e=await d.json()}catch{e=null}e&&e.id?(s(a=>a.map(a=>a.id===e.id?{...a,...e}:a)),null!=e.progressPercent&&bf(e.id,null)):await bg(z)}catch(b){console.error("Status update failed",b),s(a),alert("Failed to update status on server")}}async function bi(b,c){if(!z)return alert("Not authenticated");let d=Math.max(0,Math.min(100,Math.round(c)));s(a=>a.map(a=>a.id===b?{...a,progressPercent:d}:a)),bf(b,d);try{let c=new FormData;c.append("percent",String(d));let e=await fetch(`${v}/api/projects/${b}/progress`,{method:"PUT",body:c,headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(401===e.status){console.error("patchProgress 401 unauthorized"),s(a),bf(b,null),localStorage.removeItem("accessToken"),A(null),alert("Session expired. Please login again.");return}if(!e.ok){let c=await e.text().catch(()=>"");console.error("patchProgress failed:",e.status,c),s(a),bf(b,null),alert("Failed to update progress on server");return}let f=null;try{f=204!==e.status?await e.json():null}catch{f=null}f&&f.id?(s(a=>a.map(a=>a.id===f.id?{...a,...f}:a)),null!=f.progressPercent&&bf(f.id,null)):await bg(z)}catch(c){console.error("Progress update failed:",c),s(a),bf(b,null),alert("Failed to update progress on server")}}(0,c.useCallback)(async a=>{aO(!0);try{let b=a||z||null,c=await fetch(`${v}/api/projects/category`,{headers:b?{Authorization:`Bearer ${b}`}:void 0,cache:"no-store"});if(!c.ok){console.warn("Failed to load categories, status:",c.status),aM([]),aO(!1);return}let d=await c.json();Array.isArray(d)?d.length>0&&"string"==typeof d[0]?aM(d.map((a,b)=>({id:b+1,name:String(a)}))):aM(d.map(a=>({id:a.id??a.name??Math.random(),name:a.name??String(a)}))):aM([])}catch(a){console.error("Error loading categories:",a),aM([])}finally{aO(!1)}},[z]),(0,c.useCallback)(async a=>{aW(!0);try{let b=a||z||null,c=await fetch(`${v}/clients`,{headers:b?{Authorization:`Bearer ${b}`}:void 0,cache:"no-store"});if(!c.ok){console.warn("Failed to load clients, status:",c.status),aU([]),aW(!1);return}let d=await c.json();Array.isArray(d)?aU(d):Array.isArray(d.items)?aU(d.items):aU([])}catch(a){console.error("Error loading clients:",a),aU([])}finally{aW(!1)}},[z]),(0,c.useCallback)(async a=>{a$(!0);try{let b=a||z||null,c=await fetch(`${v}/admin/departments`,{headers:b?{Authorization:`Bearer ${b}`}:void 0,cache:"no-store"});if(!c.ok){console.warn("Failed to load departments, status:",c.status),aY([]),a$(!1);return}let d=await c.json();Array.isArray(d)?aY(d):Array.isArray(d.items)?aY(d.items):aY([])}catch(a){console.error("Error loading departments:",a),aY([])}finally{a$(!1)}},[z]),(0,c.useEffect)(()=>{let a=setTimeout(()=>{E(a=>a!==B?(W(1),B):a)},500);return()=>clearTimeout(a)},[B]),(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{z&&bg(z)},[bg,z,V,D,F,H,P,R,T]);let bj=async b=>{if(!z)return alert("Not authenticated");let c=a.findIndex(a=>a.id===b);if(-1===c)return;let d=!a[c].pinned;s(a=>a.map(a=>a.id===b?{...a,pinned:d}:a));try{let a=await fetch(`${v}/projects/${b}/pin`,{method:"POST",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify({pinned:d}),cache:"no-store"});if(!a.ok)throw Error("Pin failed");try{let b=await a.json();b&&b.id?s(a=>a.map(a=>a.id===b.id?{...a,...b}:a)):await bg(z)}catch{await bg(z)}}catch(b){console.error(b),s(a),alert("Failed to toggle pin")}},bk=a=>a.shortCode||a.code||a.projectCode||`RTA-${String(a.id).padStart(2,"0")}`,bl=()=>O(!1),bm=async()=>{W(1),await bg(z??null),O(!1)},bn=async()=>{Q("all"),S("all"),U("all"),W(1),await bg(z??null),O(!1)},bo=(0,c.useMemo)(()=>a.filter(a=>{if("all"!==F&&(!a.projectStatus||a.projectStatus!==F))return!1;if("all"!==H){if("number"!=typeof a.progressPercent)return!1;let b=a.progressPercent;if("0-33"===H&&!(b>=0&&b<=33)||"34-66"===H&&!(b>=34&&b<=66)||"67-100"===H&&!(b>=67&&b<=100))return!1}if(J||L){let b=a.startDate?new Date(a.startDate):null,c=a.deadline?new Date(a.deadline):null;if(!b||!c||J&&b<new Date(J)||L&&c>new Date(L))return!1}return!0}),[a,F,H,J,L]);if(t)return(0,b.jsx)("p",{className:"p-8 text-center",children:"Loading projects..."});let bp=({p:a})=>{let c=a.startDate?new Date(a.startDate).toLocaleDateString():"-",e=a.noDeadline?"No Deadline":a.deadline?new Date(a.deadline).toLocaleDateString():"-",f=Math.max(0,Math.min(100,a.progressPercent??0)),i=null==f?"bg-gray-300":f<33?"bg-red-500":f<66?"bg-yellow-400":"bg-green-500";return(0,b.jsxs)(g.TableRow,{className:"bg-white hover:bg-gray-50",children:[(0,b.jsx)(g.TableCell,{className:"py-4 px-4 align-top w-28",children:(0,b.jsx)("div",{className:"text-sm font-medium",children:bk(a)})}),(0,b.jsx)(g.TableCell,{className:"py-4 px-4 align-top",children:(0,b.jsx)("div",{className:"font-medium",children:a.name})}),(0,b.jsx)(g.TableCell,{className:"py-4 px-4 align-top",children:(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsxs)("div",{className:"flex -space-x-2",children:[(a.assignedEmployees||[]).slice(0,3).map(a=>(0,b.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white overflow-hidden bg-gray-100",title:a.name,children:a.profileUrl?(0,b.jsx)("img",{src:a.profileUrl,alt:a.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs text-white bg-gray-400",children:(a.name||"U").charAt(0)})},a.employeeId)),(a.assignedEmployees||[]).length>3&&(0,b.jsxs)("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 text-xs text-gray-700 flex items-center justify-center",children:["+",(a.assignedEmployees||[]).length-3]})]})})}),(0,b.jsx)(g.TableCell,{className:"py-4 px-4 align-top text-sm",children:c}),(0,b.jsx)(g.TableCell,{className:"py-4 px-4 align-top text-sm",children:e}),(0,b.jsx)(g.TableCell,{className:"py-4 px-4 align-top",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:a.client?.profilePictureUrl?(0,b.jsx)("img",{src:a.client.profilePictureUrl,alt:a.client?.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"text-xs text-gray-500",children:(a.client?.name||"C").charAt(0)})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:a.client?.name??"Client"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:a.client?.company??""})]})]})}),(0,b.jsx)(g.TableCell,{className:"py-4 px-4 align-top",children:(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("div",{className:"w-44 cursor-pointer",title:"Click to filter by this progress bucket",onClick:()=>{var b;null==(b=a.progressPercent??null)?I("all"):b<=33?I("0-33"):b<=66?I("34-66"):I("67-100"),W(1)},children:(0,b.jsxs)("div",{className:"relative bg-gray-200 h-4 rounded-full overflow-hidden",children:[(0,b.jsx)("div",{className:`h-4 rounded-full ${i}`,style:{width:`${f}%`}}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,b.jsxs)("span",{className:"text-xs font-semibold text-white drop-shadow-sm",children:[f,"%"]})})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("button",{className:`inline-flex items-center gap-2 px-2 py-1 rounded-full text-xs ${function(a){switch(a){case"IN_PROGRESS":return"bg-green-600 text-white";case"NOT_STARTED":default:return"bg-gray-400 text-white";case"ON_HOLD":return"bg-yellow-500 text-white";case"CANCELLED":return"bg-red-600 text-white";case"FINISHED":return"bg-blue-600 text-white"}}(a.projectStatus)}`,title:"Click to filter by this status",onClick:()=>{G(a.projectStatus??"all"),W(1)},children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full",style:{background:function(a){switch(a){case"IN_PROGRESS":return"#10B981";case"NOT_STARTED":default:return"#9CA3AF";case"ON_HOLD":return"#F59E0B";case"CANCELLED":return"#EF4444";case"FINISHED":return"#3B82F6"}}(a.projectStatus)}}),(0,b.jsx)("span",{children:a.projectStatus??"N/A"})]}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsxs)(h.DropdownMenu,{children:[(0,b.jsx)(h.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded text-sm bg-white hover:bg-gray-50",children:(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"▾"})})}),(0,b.jsxs)(h.DropdownMenuContent,{align:"start",className:"w-64 p-2",children:[(0,b.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Change status"}),(0,b.jsx)("div",{className:"space-y-1",children:w.map(c=>(0,b.jsx)("button",{onClick:()=>bh(a.id,c),className:`w-full text-left px-3 py-2 rounded text-sm hover:bg-gray-50 ${c===a.projectStatus?"font-medium":""}`,children:c},c))}),(0,b.jsx)(h.DropdownMenuSeparator,{}),(0,b.jsx)("div",{className:"text-xs text-gray-500 mt-2 mb-1",children:"Adjust progress"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{type:"range",min:0,max:100,value:a.progressPercent??0,onChange:b=>{let c=Number(b.target.value);s(b=>b.map(b=>b.id===a.id?{...b,progressPercent:c}:b))},onMouseUp:async b=>{let c=Number(b.target.value);await bi(a.id,c)},onTouchEnd:async b=>{let c=Number(b.target.value);await bi(a.id,c)},className:"w-full"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,b.jsx)("span",{children:"0%"}),(0,b.jsxs)("span",{children:[a.progressPercent??0,"%"]}),(0,b.jsx)("span",{children:"100%"})]})]}),(0,b.jsx)("div",{className:"flex justify-end mt-2",children:(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:()=>bg(z??null),children:"Refresh"})})]})]})})]})]})}),(0,b.jsx)(g.TableCell,{className:"py-4 px-4 align-top text-right",children:(0,b.jsxs)(h.DropdownMenu,{children:[(0,b.jsx)(h.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,b.jsx)(l.MoreVertical,{className:"h-4 w-4"})})}),(0,b.jsxs)(h.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>window.location.assign(`/employees/work/project/${a.id}`),children:[(0,b.jsx)(m.Eye,{className:"h-4 w-4 mr-2"})," View"]}),(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>bj(a.id),children:[(0,b.jsx)(n.Pin,{className:"h-4 w-4 mr-2"})," ",a.pinned?"Unpin":"Pin"," Project"]}),(0,b.jsx)(h.DropdownMenuSeparator,{})]})]})})]},a.id)},bq=a=>{"calendar"===a?(ba(!a9),a4(a9?"grid":"calendar")):(ba(!1),a4(a))};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("main",{className:"w-full",children:(0,b.jsxs)("div",{className:"max-w-[1200px] mx-auto p-6  overflow-y-auto overflow-x-hidden",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border p-3 mb-4 flex items-center gap-4 overflow-y-auto overflow-x-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Duration"}),(0,b.jsx)(e.Input,{type:"date",value:J??"",onChange:a=>{K(a.target.value||null),W(1)},className:"w-40"}),(0,b.jsx)("span",{className:"text-gray-400 text-sm",children:"to"}),(0,b.jsx)(e.Input,{type:"date",value:L??"",onChange:a=>{M(a.target.value||null),W(1)},className:"w-40"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,b.jsxs)(f.Select,{value:F,onValueChange:a=>{G(a),W(1)},children:[(0,b.jsx)(f.SelectTrigger,{className:"w-40",children:(0,b.jsx)(f.SelectValue,{placeholder:"All"})}),(0,b.jsxs)(f.SelectContent,{children:[(0,b.jsx)(f.SelectItem,{value:"all",children:"All"}),(0,b.jsx)(f.SelectItem,{value:"IN_PROGRESS",children:"In Progress"}),(0,b.jsx)(f.SelectItem,{value:"NOT_STARTED",children:"Not Started"}),(0,b.jsx)(f.SelectItem,{value:"ON_HOLD",children:"On Hold"}),(0,b.jsx)(f.SelectItem,{value:"CANCELLED",children:"Cancelled"}),(0,b.jsx)(f.SelectItem,{value:"FINISHED",children:"Finished"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Progress"}),(0,b.jsxs)(f.Select,{value:H,onValueChange:a=>{I(a),W(1)},children:[(0,b.jsx)(f.SelectTrigger,{className:"w-40",children:(0,b.jsx)(f.SelectValue,{placeholder:"All"})}),(0,b.jsxs)(f.SelectContent,{children:[(0,b.jsx)(f.SelectItem,{value:"all",children:"All"}),(0,b.jsx)(f.SelectItem,{value:"0-33",children:"0 - 33%"}),(0,b.jsx)(f.SelectItem,{value:"34-66",children:"34 - 66%"}),(0,b.jsx)(f.SelectItem,{value:"67-100",children:"67 - 100%"})]})]})]})]}),(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 border rounded px-2 py-1 bg-white",children:[(0,b.jsx)(k.Search,{className:"w-4 h-4 text-gray-400"}),(0,b.jsx)(e.Input,{placeholder:"Search",value:B,onChange:a=>C(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(E(B),W(1))},className:"border-0 bg-transparent focus-visible:ring-0"})]}),(0,b.jsxs)("div",{className:"flex items-center bg-white border rounded-lg overflow-hidden",children:[(0,b.jsx)("button",{onClick:()=>bq("grid"),className:`px-3 py-2 hover:bg-gray-50 ${"grid"===a3&&!a9?"bg-violet-600 text-white":""}`,title:"Grid / Table view",children:(0,b.jsx)(q.List,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{a8(a=>!a),!a7&&a5&&a6(!1)},className:`px-3 py-2 hover:bg-gray-50 ${a7?"bg-gray-100":""}`,title:a7?"Showing pinned only":"Show pinned only",children:(0,b.jsx)(n.Pin,{className:"w-4 h-4"})})]}),(0,b.jsx)("button",{onClick:()=>bq("calendar"),className:`w-10 h-10 rounded bg-white border flex items-center justify-center ${a9?"ring-2 ring-indigo-300":""}`,title:"Calendar view",children:(0,b.jsx)(o.Calendar,{className:"w-4 h-4 text-gray-600"})})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-blue-50 px-6 py-3 border-b flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"font-semibold text-gray-900",children:["Projects (",bo.length,")"]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:a5?"Viewing: Archived":a7?"Viewing: Pinned":"All active"})]}),(0,b.jsx)("div",{className:"overflow-auto p-4",children:"calendar"===a3||a9?(0,b.jsx)(u,{}):"list"===a3?(0,b.jsx)("div",{children:0===bo.length?(0,b.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No projects found"}):(0,b.jsx)("div",{className:"space-y-3",children:bo.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between border rounded p-3 bg-white",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium w-28",children:bk(a)}),(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.client?.name??"Client"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"text-sm",children:[a.progressPercent??0,"%"]}),(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>window.location.assign(`/employees/work/project/${a.id}`),children:"View"})]})]},a.id))})}):(0,b.jsx)("div",{children:(0,b.jsxs)(g.Table,{children:[(0,b.jsx)(g.TableHeader,{children:(0,b.jsxs)(g.TableRow,{className:"bg-blue-50",children:[(0,b.jsx)(g.TableHead,{className:"px-4 py-3",children:"Code "}),(0,b.jsx)(g.TableHead,{className:"px-4 py-3",children:"Project Name"}),(0,b.jsx)(g.TableHead,{className:"px-4 py-3",children:"Members"}),(0,b.jsx)(g.TableHead,{className:"px-4 py-3",children:"Start Date"}),(0,b.jsx)(g.TableHead,{className:"px-4 py-3",children:"Deadline"}),(0,b.jsx)(g.TableHead,{className:"px-4 py-3",children:"Client"}),(0,b.jsx)(g.TableHead,{className:"px-4 py-3",children:"Status"}),(0,b.jsx)(g.TableHead,{className:"px-4 py-3 text-right",children:"Action"})]})}),(0,b.jsx)(g.TableBody,{children:0===bo.length?(0,b.jsx)(g.TableRow,{children:(0,b.jsx)(g.TableCell,{colSpan:8,className:"py-8 text-center text-gray-500",children:"No projects found"})}):bo.map(a=>(0,b.jsx)(bp,{p:a},a.id))})]})})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:["Result per page -",bo.length?bo.length:0]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{W(a=>Math.max(1,a-1))},disabled:1===V,children:[(0,b.jsx)(i.ChevronLeft,{})," Prev"]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",V," of ",X]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{W(a=>Math.min(X,a+1))},disabled:V===X,children:["Next ",(0,b.jsx)(j.ChevronRight,{})]})]})]})]})}),(0,b.jsx)("div",{"aria-hidden":!N,onClick:bl,className:`fixed inset-0 transition-opacity duration-300 z-[9990] ${N?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,style:{backgroundColor:"rgba(0,0,0,0.3)"}}),(0,b.jsxs)("aside",{"aria-hidden":!N,className:`fixed right-0 top-0 h-full w-[360px] bg-white shadow-xl transform transition-transform duration-300 z-[9999] ${N?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Filter,{className:"w-5 h-5"}),(0,b.jsx)("h3",{className:"font-semibold",children:"Filters"})]}),(0,b.jsx)("button",{onClick:bl,className:"p-2 rounded hover:bg-gray-100",children:(0,b.jsx)(r.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"p-4 space-y-4 overflow-auto h-[calc(100%-140px)]",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Project"}),(0,b.jsxs)(f.Select,{value:P,onValueChange:a=>Q(a),children:[(0,b.jsx)(f.SelectTrigger,{className:"w-full rounded border px-3 py-2",children:(0,b.jsx)(f.SelectValue,{placeholder:"All"})}),(0,b.jsxs)(f.SelectContent,{children:[(0,b.jsx)(f.SelectItem,{value:"all",children:"All"}),bb.map(a=>(0,b.jsx)(f.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Project Members"}),(0,b.jsxs)(f.Select,{value:R,onValueChange:a=>S(a),children:[(0,b.jsx)(f.SelectTrigger,{className:"w-full rounded border px-3 py-2",children:(0,b.jsx)(f.SelectValue,{placeholder:"All"})}),(0,b.jsxs)(f.SelectContent,{children:[(0,b.jsx)(f.SelectItem,{value:"all",children:"All"}),bc.map(a=>(0,b.jsx)(f.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Client"}),(0,b.jsxs)(f.Select,{value:T,onValueChange:a=>U(a),children:[(0,b.jsx)(f.SelectTrigger,{className:"w-full rounded border px-3 py-2",children:(0,b.jsx)(f.SelectValue,{placeholder:"All"})}),(0,b.jsxs)(f.SelectContent,{children:[(0,b.jsx)(f.SelectItem,{value:"all",children:"All"}),bd.map(a=>(0,b.jsx)(f.SelectItem,{value:a.id,children:a.name},a.id))]})]})]})]}),(0,b.jsxs)("div",{className:"p-4 border-t flex items-center justify-between gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:bn,children:"Reset"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Button,{variant:"ghost",onClick:bl,children:"Close"}),(0,b.jsx)(d.Button,{className:"bg-blue-600 text-white",onClick:bm,children:"Apply"})]})]})]})]})}}];

//# sourceMappingURL=src_app_%28employee%29_employees_work_project_page_tsx_e24f7fd5._.js.map