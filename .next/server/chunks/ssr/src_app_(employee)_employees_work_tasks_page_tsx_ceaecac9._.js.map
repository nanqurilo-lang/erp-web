{"version":3,"sources":["turbopack:///[project]/src/app/(employee)/employees/work/tasks/page.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/FiltersBar.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/ActionsBar.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/TaskTable.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/TaskRowActions.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/StatusDropdown.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/CalendarModal.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/AddTaskModal.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/KanbanCard.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/KanbanColumn.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/KanbanBoard.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/StagesModal.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/ViewTaskModal/ViewTaskModal.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/ViewTaskModal/TaskDetailsSection.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/ViewTaskModal/Tabs/FilesTab.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/ViewTaskModal/Tabs/SubTasksTab.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/ViewTaskModal/Tabs/TimesheetTab.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/ViewTaskModal/Tabs/NotesTab.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/EditTaskDrawer.tsx","turbopack:///[project]/src/app/(employee)/employees/work/tasks/components/DuplicateTaskModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Loader2 } from \"lucide-react\";\n\n// TODO: ye components hum alag files me banayenge\nimport { FiltersBar } from \"./components/FiltersBar\";\nimport { ActionsBar } from \"./components/ActionsBar\";\nimport { TaskTable } from \"./components/TaskTable\";\nimport { CalendarModal } from \"./components/CalendarModal\";\nimport { AddTaskModal } from \"./components/AddTaskModal\";\nimport { KanbanBoard } from \"./components/KanbanBoard\";\nimport { StagesModal } from \"./components/StagesModal\";\nimport ViewTaskModal from \"./components/ViewTaskModal/ViewTaskModal\";\nimport EditTaskDrawer from \"./components/EditTaskDrawer\";\nimport { DuplicateTaskModal } from \"./components/DuplicateTaskModal\";\n\n/**\n * ---- Shared Types (baaki components inko import karke use kar sakte hain) ----\n */\n\nexport type TaskPriority = \"LOW\" | \"MEDIUM\" | \"HIGH\" | string;\n\nexport type TaskStageName =\n    | \"Waiting\"\n    | \"Doing\"\n    | \"Completed\"\n    | \"Approval\"\n    | string;\n\nexport interface TaskStage {\n    id: number;\n    name: TaskStageName;\n    labelColor?: string | null;\n}\n\nexport interface AssignedEmployee {\n    employeeId: string;\n    name: string;\n    profileUrl?: string | null;\n    designation?: string | null;\n    department?: string | null;\n}\n\nexport interface TaskLabel {\n    id: number;\n    name: string;\n    colorCode?: string | null;\n}\n\nexport interface Task {\n    id: number;\n    title: string;\n    projectId?: number;\n    projectShortCode?: string;\n    projectName?: string;\n    categoryId?: {\n        id: number;\n        name: string;\n    } | null;\n    startDate?: string | null; // \"2025-11-15\"\n    dueDate?: string | null; // \"2026-11-29\"\n    noDueDate?: boolean;\n    completedOn?: string | null;\n    taskStageId?: number;\n    taskStage?: TaskStage | null;\n    assignedEmployeeIds?: string[];\n    assignedEmployees?: AssignedEmployee[] | null;\n    description?: string | null;\n    labels?: TaskLabel[] | null;\n    priority?: TaskPriority;\n    isPrivate?: boolean;\n    timeEstimate?: boolean;\n    timeEstimateMinutes?: number | null;\n    pinned?: boolean;\n    hoursLoggedMinutes?: number;\n    hoursLogged?: number;\n}\n\nexport type TaskViewMode = \"list\" | \"kanban\" | \"calendar\";\nexport type TaskSource = \"all\" | \"me\" | \"approval\" | \"pinned\";\n\ninterface DateRangeFilter {\n    start?: string | null; // ISO string (yyyy-mm-dd)\n    end?: string | null;\n}\n\nconst MAIN_API = process.env.NEXT_PUBLIC_MAIN;\nconst GATEWAY_API = process.env.NEXT_PUBLIC_GATEWAY ?? MAIN_API;\n\n/**\n * Main Tasks Page\n */\nconst TasksPage: React.FC = () => {\n    const [allTasks, setAllTasks] = useState<Task[]>([]);\n    const [myTasks, setMyTasks] = useState<Task[]>([]);\n\n    const [loading, setLoading] = useState<boolean>(false);\n    const [initialLoaded, setInitialLoaded] = useState<boolean>(false);\n    const [error, setError] = useState<string | null>(null);\n\n    // top filters (section 1)\n    const [statusFilter, setStatusFilter] = useState<TaskStageName | \"All\">(\"All\");\n    const [dateRange, setDateRange] = useState<DateRangeFilter>({});\n\n    // action bar state (section 2)\n    const [taskSource, setTaskSource] = useState<TaskSource>(\"all\"); // All Tasks / My Tasks / Approval / Pin\n    const [viewMode, setViewMode] = useState<TaskViewMode>(\"list\"); // List / Kanban / Calendar\n\n    // modals\n    const [showAddTaskModal, setShowAddTaskModal] = useState<boolean>(false);\n    const [showCalendarModal, setShowCalendarModal] = useState<boolean>(false);\n\n    const [showStagesModal, setShowStagesModal] = useState(false);\n\n\n    const [viewTaskId, setViewTaskId] = useState<number | null>(null);\n    const [showViewModal, setShowViewModal] = useState(false);\n\n\n const [duplicateOpen, setDuplicateOpen] = useState(false);\n    const [duplicateTask, setDuplicateTask] = useState<Task | null>(null);\n\n\n    const [editOpen, setEditOpen] = useState(false);\n    const [editTaskId, setEditTaskId] = useState<number | null>(null);\n\n\n    const handleViewTask = (task: Task) => {\n        setViewTaskId(task.id);\n        setShowViewModal(true);\n    };\n\n\n    const handleDuplicateTask = (task: Task) => {\n        setDuplicateTask(task);\n        setDuplicateOpen(true);\n    };\n\n\n\n    // --------- API Calls ---------\n\n    // Get All Tasks\n    const fetchAllTasks = async () => {\n        if (!MAIN_API) {\n            console.error(\"NEXT_PUBLIC_MAIN is not defined\");\n            return;\n        }\n        try {\n            setLoading(true);\n            setError(null);\n            const token = typeof window !== \"undefined\" ? window.localStorage.getItem(\"accessToken\") : null\n\n            const res = await fetch(`${MAIN_API}/me/tasks`, {\n                // TODO: yaha pe agar token chahiye ho to header add karna\n                headers: { Authorization: `Bearer ${token}` },\n                // credentials: \"include\",\n            });\n\n            if (!res.ok) {\n                throw new Error(\"Failed to fetch all tasks\");\n            }\n\n            const data: Task[] = await res.json();\n            setAllTasks(data);\n        } catch (err: any) {\n            console.error(err);\n            setError(err.message || \"Failed to fetch all tasks\");\n        } finally {\n            setLoading(false);\n            setInitialLoaded(true);\n        }\n    };\n\n    // Get My Tasks\n    const fetchMyTasks = async () => {\n        if (!GATEWAY_API) {\n            console.error(\"NEXT_PUBLIC_GATEWAY (or MAIN) is not defined\");\n            return;\n        }\n        try {\n            const token = localStorage.getItem(\"accessToken\");\n            const res = await fetch(`${GATEWAY_API}/me/tasks`, {\n                // TODO: yaha pe agar token chahiye ho to header add karna\n                headers: { Authorization: `Bearer ${token}` },\n                // credentials: \"include\",\n            });\n\n            if (!res.ok) {\n                throw new Error(\"Failed to fetch my tasks\");\n            }\n\n            const data: Task[] = await res.json();\n            setMyTasks(data);\n        } catch (err) {\n            console.error(err);\n            // my tasks fail ho to bhi page chal sakta hai, isliye yaha hard error nahi dikha raha\n        }\n    };\n\n    // initial load\n    useEffect(() => {\n        fetchAllTasks();\n        fetchMyTasks();\n    }, []);\n\n    // --------- Derived Tasks based on Source + Filters ---------\n\n    const sourceTasks: Task[] = useMemo(() => {\n        let base: Task[] = [];\n\n        switch (taskSource) {\n            case \"all\":\n                base = allTasks;\n                break;\n            case \"me\":\n                base = myTasks.length ? myTasks : allTasks; // agar meTasks na mile to fallback\n                break;\n            case \"approval\":\n                base = allTasks.filter((t) => t.taskStage?.name === \"Waiting\");\n                break;\n            case \"pinned\":\n                base = allTasks.filter((t) => t.pinned);\n                break;\n            default:\n                base = allTasks;\n        }\n\n        // status filter\n        if (statusFilter !== \"All\") {\n            base = base.filter((t) => t.taskStage?.name === statusFilter);\n        }\n\n        // date range filter (Duration: startDate to endDate)\n        if (dateRange.start || dateRange.end) {\n            base = base.filter((t) => {\n                const start = t.startDate ? new Date(t.startDate) : null;\n                const end = t.dueDate ? new Date(t.dueDate) : null;\n\n                if (!start && !end) return false;\n\n                const filterStart = dateRange.start ? new Date(dateRange.start) : null;\n                const filterEnd = dateRange.end ? new Date(dateRange.end) : null;\n\n                // basic overlap check\n                if (filterStart && end && end < filterStart) return false;\n                if (filterEnd && start && start > filterEnd) return false;\n\n                return true;\n            });\n        }\n\n        return base;\n    }, [allTasks, myTasks, taskSource, statusFilter, dateRange]);\n\n    // --------- Handlers passed to child components ---------\n\n    const handleAddTaskSuccess = () => {\n        // jab AddTaskModal se task successfully create ho jaye:\n        fetchAllTasks();\n        fetchMyTasks();\n    };\n\n    const handleOpenCalendar = () => {\n        setShowCalendarModal(true);\n        setViewMode(\"calendar\"); // UX: calendar button press par viewMode bhi change\n    };\n\n    const handleDeleteTask = async (taskId: number) => {\n        if (!confirm(\"Are you sure you want to delete this task?\")) return;\n\n        const token = localStorage.getItem(\"accessToken\");\n\n        const res = await fetch(`${MAIN_API}/api/projects/tasks/${taskId}/delete`, {\n            method: \"DELETE\",\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        });\n\n        if (res.ok) {\n            fetchAllTasks();\n            fetchMyTasks();\n        } else {\n            alert(\"Failed to delete\");\n        }\n    };\n\n    \n\n\n    const handlePinToggle = async (taskId: number) => {\n        const token = localStorage.getItem(\"accessToken\");\n\n        const res = await fetch(`${MAIN_API}/projects/tasks/${taskId}/pin`, {\n            method: \"POST\",\n            headers: { Authorization: `Bearer ${token}` }\n        });\n\n        if (res.ok) {\n            fetchAllTasks();\n            fetchMyTasks();\n        } else {\n            alert(\"Unable to toggle pin\");\n        }\n    };\n\n\n\n\n    return (\n        <main className=\"container mx-auto max-w-6xl px-4 py-8\">\n        <div className=\"flex min-h-screen flex-col bg-slate-50\">\n            {/* Top header */}\n            <header className=\"flex items-center justify-between px-8 py-6\">\n                <h1 className=\"text-2xl font-semibold text-slate-900\">My Task </h1>\n\n                {/* yaha future me notification icon, profile avatar etc aa sakta hai */}\n                <div className=\"flex items-center gap-4 text-sm text-slate-500\">\n                    {/* Placeholder for bell & profile */}\n                    <div className=\"hidden text-xs md:block\">\n                        {/* Top right content optional */}\n                    </div>\n                </div>\n            </header>\n\n            {/* Main Content */}\n            <main className=\"flex-1 space-y-4 px-4 pb-6 md:px-8\">\n                {/* -------- Section 1: Filters -------- */}\n                <Card className=\"border-none bg-white shadow-sm\">\n                    <div className=\"p-4\">\n                        <FiltersBar\n                            status={statusFilter}\n                            onStatusChange={setStatusFilter}\n                            dateRange={dateRange}\n                            onDateRangeChange={setDateRange}\n                        />\n                    </div>\n                </Card>\n\n                {/* -------- Section 2: Action Buttons -------- */}\n                <Card className=\"border-none bg-white shadow-sm\">\n                    <div className=\"p-4\">\n                        <ActionsBar\n                            taskSource={taskSource}\n                            onTaskSourceChange={setTaskSource}\n                            viewMode={viewMode}\n                            onViewModeChange={setViewMode}\n                            onAddTask={() => setShowAddTaskModal(true)}\n                            onOpenCalendar={handleOpenCalendar}\n                            onOpenStages={() => setShowStagesModal(true)}\n                        // ye special actions automatically filters se handle ho rahe hain:\n                        // - Approval -> taskSource = \"approval\"\n                        // - Pin -> taskSource = \"pinned\"\n                        />\n                    </div>\n                </Card>\n\n                {/* -------- Section 3: Render Area (Table / Kanban / etc.) -------- */}\n                <Card className=\"border-none bg-white shadow-sm\">\n                    <div className=\"p-0\">\n                        {loading && !initialLoaded ? (\n                            <div className=\"flex h-64 items-center justify-center\">\n                                <Loader2 className=\"h-6 w-6 animate-spin text-slate-400\" />\n                            </div>\n                        ) : error ? (\n                            <div className=\"flex h-64 flex-col items-center justify-center gap-2 text-sm text-red-500\">\n                                <p>{error}</p>\n                                <button\n                                    onClick={fetchAllTasks}\n                                    className=\"rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-700 hover:bg-slate-50\"\n                                >\n                                    Retry\n                                </button>\n                            </div>\n                        ) : sourceTasks.length === 0 ? (\n                            <div className=\"flex h-64 flex-col items-center justify-center gap-2 text-sm text-slate-500\">\n                                <p>No tasks found for selected filters.</p>\n                            </div>\n                        ) : viewMode === \"list\" ? (\n                            // <TaskTable\n                            //     tasks={sourceTasks}\n                            //     onView={handleViewTask}\n                            // />\n                            <TaskTable\n                                tasks={sourceTasks}\n                                onView={handleViewTask}\n                                onEdit={(task) => {\n                                    setEditTaskId(task.id);\n                                    setEditOpen(true);\n                                }}\n                                onDelete={(task) => handleDeleteTask(task.id)}\n onDuplicate={handleDuplicateTask}\n                                onTogglePin={(task) => handlePinToggle(task.id)}\n                            />\n                        ) : viewMode === \"kanban\" ? (\n                            <KanbanBoard tasks={sourceTasks} />\n                        ) : (\n                            <div className=\"flex h-64 items-center justify-center text-sm text-slate-500\">\n                                Calendar data is available in the calendar modal.\n                            </div>\n                        )}\n                    </div>\n                </Card>\n            </main>\n\n            {/* -------- Modals (kept outside Cards) -------- */}\n            <AddTaskModal\n                open={showAddTaskModal}\n                onOpenChange={setShowAddTaskModal}\n                onCreated={handleAddTaskSuccess}\n            />\n\n            <CalendarModal\n                open={showCalendarModal}\n                onOpenChange={setShowCalendarModal}\n                tasks={sourceTasks}\n            />\n            <StagesModal\n                open={showStagesModal}\n                onOpenChange={setShowStagesModal}\n            />\n\n            <ViewTaskModal\n                open={showViewModal}\n                onOpenChange={setShowViewModal}\n                taskId={viewTaskId}\n            />\n            <EditTaskDrawer\n                open={editOpen}\n                onOpenChange={setEditOpen}\n                taskId={editTaskId}\n                onUpdated={() => {\n                    fetchAllTasks();\n                    fetchMyTasks();\n                }}\n            />\n\n\n{duplicateTask && (\n  <DuplicateTaskModal\n    open={duplicateOpen}\n    onOpenChange={setDuplicateOpen}\n    task={duplicateTask}\n    onCreated={() => {\n      setDuplicateOpen(false);\n      setDuplicateTask(null);\n      fetchAllTasks();\n      fetchMyTasks();\n    }}\n  />\n)}\n\n\n        </div>\n        </main>\n    );\n};\n\nexport default TasksPage;\n","\"use client\";\n\nimport React from \"react\";\nimport { Calendar, SlidersHorizontal } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\n\nexport type TaskStageName =\n    | \"Waiting\"\n    | \"Doing\"\n    | \"Completed\"\n    | \"Approval\"\n    | string;\n\nexport interface DateRangeFilter {\n    start?: string | null;\n    end?: string | null;\n}\n\ninterface FiltersBarProps {\n    status: TaskStageName | \"All\";\n    onStatusChange: (v: TaskStageName | \"All\") => void;\n\n    dateRange: DateRangeFilter;\n    onDateRangeChange: (v: DateRangeFilter) => void;\n}\n\nexport const FiltersBar: React.FC<FiltersBarProps> = ({\n    status,\n    onStatusChange,\n    dateRange,\n    onDateRangeChange\n}) => {\n    return (\n        <div className=\"flex flex-wrap items-center gap-4\">\n\n            {/* Duration Filter */}\n            <Popover>\n                <PopoverTrigger asChild>\n                    <Button\n                        variant=\"outline\"\n                        className=\"flex h-10 items-center gap-2 rounded-xl border-slate-300 bg-white px-4 text-sm font-normal text-slate-700 shadow-sm\"\n                    >\n                        <Calendar size={16} />\n                        {dateRange.start && dateRange.end\n                            ? `${dateRange.start} → ${dateRange.end}`\n                            : \"Duration  Start Date to End Date\"}\n                    </Button>\n                </PopoverTrigger>\n\n                <PopoverContent className=\"w-80 rounded-xl border bg-white p-4 shadow\">\n                    <h2 className=\"mb-3 text-sm font-medium text-slate-700\">\n                        Select Duration\n                    </h2>\n\n                    <div className=\"flex flex-col gap-3\">\n                        <div>\n                            <label className=\"text-xs text-slate-500\">Start Date</label>\n                            <Input\n                                type=\"date\"\n                                value={dateRange.start ?? \"\"}\n                                onChange={(e) =>\n                                    onDateRangeChange({\n                                        ...dateRange,\n                                        start: e.target.value\n                                    })\n                                }\n                                className=\"mt-1\"\n                            />\n                        </div>\n\n                        <div>\n                            <label className=\"text-xs text-slate-500\">End Date</label>\n                            <Input\n                                type=\"date\"\n                                value={dateRange.end ?? \"\"}\n                                onChange={(e) =>\n                                    onDateRangeChange({\n                                        ...dateRange,\n                                        end: e.target.value\n                                    })\n                                }\n                                className=\"mt-1\"\n                            />\n                        </div>\n\n                        <div className=\"flex justify-end gap-2 pt-2\">\n                            <Button\n                                variant=\"outline\"\n                                className=\"rounded-lg\"\n                                onClick={() => onDateRangeChange({ start: null, end: null })}\n                            >\n                                Reset\n                            </Button>\n                        </div>\n                    </div>\n                </PopoverContent>\n            </Popover>\n\n            {/* Status Filter */}\n            <Select\n                value={status}\n                onValueChange={(v) => onStatusChange(v as TaskStageName | \"All\")}\n            >\n                <SelectTrigger className=\"w-40 rounded-xl border-slate-300 bg-white shadow-sm h-10\">\n                    <SelectValue placeholder=\"Status\" />\n                </SelectTrigger>\n\n                <SelectContent>\n                    <SelectItem value=\"All\">All</SelectItem>\n                    <SelectItem value=\"Waiting\">Waiting</SelectItem>\n                    <SelectItem value=\"Doing\">Doing</SelectItem>\n                    <SelectItem value=\"Completed\">Completed</SelectItem>\n                    <SelectItem value=\"Approval\">Approval</SelectItem>\n                </SelectContent>\n            </Select>\n\n            {/* Filters Icon Button */}\n            <Button\n                variant=\"outline\"\n                className=\"ml-auto flex h-10 items-center gap-2 rounded-xl border-slate-300 bg-white px-4 shadow-sm\"\n            >\n                <SlidersHorizontal size={16} />\n                Filters\n            </Button>\n        </div>\n    );\n};\n","// \"use client\";\n\n// import React from \"react\";\n// import {\n//     Plus,\n//     LayoutGrid,\n//     List as ListIcon,\n//     CalendarDays,\n//     CheckCircle2,\n//     Pin,\n//     Search,\n// } from \"lucide-react\";\n// import { Button } from \"@/components/ui/button\";\n// import { Input } from \"@/components/ui/input\";\n// import { cn } from \"@/lib/utils\";\n\n// type TaskSource = \"all\" | \"me\" | \"approval\" | \"pinned\";\n// type TaskViewMode = \"list\" | \"kanban\" | \"calendar\";\n\n// interface ActionsBarProps {\n//     taskSource: TaskSource;\n//     onTaskSourceChange: (v: TaskSource) => void;\n\n//     viewMode: TaskViewMode;\n//     onViewModeChange: (v: TaskViewMode) => void;\n\n//     onAddTask: () => void;\n//     onOpenCalendar: () => void;\n\n//     // optional: future search use\n//     onSearchChange?: (value: string) => void;\n// }\n\n// export const ActionsBar: React.FC<ActionsBarProps> = ({\n//     taskSource,\n//     onTaskSourceChange,\n//     viewMode,\n//     onViewModeChange,\n//     onAddTask,\n//     onOpenCalendar,\n//     onSearchChange,\n// }) => {\n//     return (\n//         <div className=\"flex flex-wrap items-center gap-4\">\n//             {/* Left side buttons */}\n//             <div className=\"flex flex-wrap items-center gap-3\">\n//                 {/* Add Task */}\n//                 <Button\n//                     onClick={onAddTask}\n//                     className=\"flex h-10 items-center gap-2 rounded-xl bg-indigo-500 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-600\"\n//                 >\n//                     <Plus size={16} />\n//                     Add Task\n//                 </Button>\n\n//                 {/* All Tasks / My Tasks segmented buttons */}\n//                 <Button\n//                     variant=\"outline\"\n//                     className={cn(\n//                         \"h-10 rounded-xl border-slate-300 bg-white px-4 text-sm font-medium shadow-sm\",\n//                         taskSource === \"all\" &&\n//                         \"border-indigo-500 bg-indigo-50 text-indigo-600\"\n//                     )}\n//                     onClick={() => onTaskSourceChange(\"all\")}\n//                 >\n//                     All Tasks\n//                 </Button>\n\n//                 <Button\n//                     variant=\"outline\"\n//                     className={cn(\n//                         \"h-10 rounded-xl border-slate-300 bg-white px-4 text-sm font-medium shadow-sm\",\n//                         taskSource === \"me\" &&\n//                         \"border-indigo-500 bg-indigo-50 text-indigo-600\"\n//                     )}\n//                     onClick={() => onTaskSourceChange(\"me\")}\n//                 >\n//                     My Tasks\n//                 </Button>\n//             </div>\n\n//             {/* Right side: search + view toggles */}\n//             <div className=\"ml-auto flex flex-wrap items-center gap-3\">\n//                 {/* Search box */}\n//                 <div className=\"relative\">\n//                     <Search className=\"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400\" />\n//                     <Input\n//                         placeholder=\"Search...\"\n//                         className=\"h-10 w-52 rounded-xl border-slate-300 bg-white pl-9 pr-3 text-sm shadow-sm\"\n//                         onChange={(e) => onSearchChange?.(e.target.value)}\n//                     />\n//                 </div>\n\n//                 {/* View / action icon buttons */}\n//                 <div className=\"flex items-center gap-2\">\n//                     {/* Kanban */}\n//                     <IconToggleButton\n//                         active={viewMode === \"kanban\"}\n//                         onClick={() => {\n//                             onViewModeChange(\"kanban\");\n//                         }}\n//                         icon={<LayoutGrid size={16} />}\n//                     />\n\n//                     {/* List */}\n//                     <IconToggleButton\n//                         active={viewMode === \"list\"}\n//                         onClick={() => {\n//                             onViewModeChange(\"list\");\n//                         }}\n//                         icon={<ListIcon size={16} />}\n//                     />\n\n//                     {/* Calendar */}\n//                     <IconToggleButton\n//                         active={viewMode === \"calendar\"}\n//                         onClick={() => {\n//                             onViewModeChange(\"calendar\");\n//                             onOpenCalendar();\n//                         }}\n//                         icon={<CalendarDays size={16} />}\n//                     />\n\n//                     {/* Approval (Waiting tasks) */}\n//                     <IconToggleButton\n//                         active={taskSource === \"approval\"}\n//                         onClick={() => onTaskSourceChange(\"approval\")}\n//                         icon={<CheckCircle2 size={16} />}\n//                     />\n\n//                     {/* Pin (Pinned tasks list) */}\n//                     <IconToggleButton\n//                         active={taskSource === \"pinned\"}\n//                         onClick={() => onTaskSourceChange(\"pinned\")}\n//                         icon={<Pin size={16} />}\n//                     />\n//                 </div>\n//             </div>\n//         </div>\n//     );\n// };\n\n// interface IconToggleButtonProps {\n//     active?: boolean;\n//     onClick?: () => void;\n//     icon: React.ReactNode;\n// }\n\n// const IconToggleButton: React.FC<IconToggleButtonProps> = ({\n//     active,\n//     onClick,\n//     icon,\n// }) => (\n//     <Button\n//         variant=\"outline\"\n//         size=\"icon\"\n//         onClick={onClick}\n//         className={cn(\n//             \"flex h-9 w-9 items-center justify-center rounded-xl border-slate-300 bg-white shadow-sm\",\n//             active && \"border-indigo-500 bg-indigo-50 text-indigo-600\"\n//         )}\n//     >\n//         {icon}\n//     </Button>\n// );\n\n\n\n\n\n\n\n\"use client\";\n\nimport React from \"react\";\nimport {\n    Plus,\n    LayoutGrid,\n    List as ListIcon,\n    CalendarDays,\n    CheckCircle2,\n    Pin,\n    Search,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { cn } from \"@/lib/utils\";\n\ntype TaskSource = \"all\" | \"me\" | \"approval\" | \"pinned\";\ntype TaskViewMode = \"list\" | \"kanban\" | \"calendar\";\n\ninterface ActionsBarProps {\n    taskSource: TaskSource;\n    onTaskSourceChange: (v: TaskSource) => void;\n\n    viewMode: TaskViewMode;\n    onViewModeChange: (v: TaskViewMode) => void;\n\n    onAddTask: () => void;\n    onOpenCalendar: () => void;\n\n    // optional: future search use\n    onSearchChange?: (value: string) => void;\n\n    onOpenStages?: () => void;   // ⭐ NEW\n}\n\nexport const ActionsBar: React.FC<ActionsBarProps> = ({\n    taskSource,\n    onTaskSourceChange,\n    viewMode,\n    onViewModeChange,\n    onAddTask,\n    onOpenCalendar,\n    onSearchChange,\n    onOpenStages,\n}) => {\n    return (\n        <div className=\"flex flex-wrap items-center gap-4\">\n            {/* Left side buttons */}\n            {/* Left side buttons */}\n            <div className=\"flex flex-wrap items-center gap-3\">\n                {/* Add Task */}\n                <Button\n                    onClick={onAddTask}\n                    className=\"flex h-10 items-center gap-2 rounded-xl bg-indigo-500 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-600\"\n                >\n                    <Plus size={16} />\n                    Add Task\n                </Button>\n\n                {/* KANBAN MODE → show All Task Stages */}\n               \n            </div>\n\n\n            {/* Right side: search + view toggles */}\n            <div className=\"ml-auto flex flex-wrap items-center gap-3\">\n                {/* Search box */}\n                <div className=\"relative\">\n                    <Search className=\"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400\" />\n                    <Input\n                        placeholder=\"Search...\"\n                        className=\"h-10 w-52 rounded-xl border-slate-300 bg-white pl-9 pr-3 text-sm shadow-sm\"\n                        onChange={(e) => onSearchChange?.(e.target.value)}\n                    />\n                </div>\n\n                {/* View / action icon buttons */}\n                <div className=\"flex items-center gap-2\">\n                    {/* Kanban */}\n                    <IconToggleButton\n                        active={viewMode === \"kanban\"}\n                        onClick={() => {\n                            onViewModeChange(\"kanban\");\n                        }}\n                        icon={<LayoutGrid size={16} />}\n                    />\n\n                    {/* List */}\n                    <IconToggleButton\n                        active={viewMode === \"list\"}\n                        onClick={() => {\n                            onViewModeChange(\"list\");\n                        }}\n                        icon={<ListIcon size={16} />}\n                    />\n\n                    {/* Calendar */}\n                    <IconToggleButton\n                        active={viewMode === \"calendar\"}\n                        onClick={() => {\n                            onViewModeChange(\"calendar\");\n                            onOpenCalendar();\n                        }}\n                        icon={<CalendarDays size={16} />}\n                    />\n\n                    {/* Approval (Waiting tasks) */}\n                    <IconToggleButton\n                        active={taskSource === \"approval\"}\n                        onClick={() => onTaskSourceChange(\"approval\")}\n                        icon={<CheckCircle2 size={16} />}\n                    />\n\n                    {/* Pin (Pinned tasks list) */}\n                    <IconToggleButton\n                        active={taskSource === \"pinned\"}\n                        onClick={() => onTaskSourceChange(\"pinned\")}\n                        icon={<Pin size={16} />}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\ninterface IconToggleButtonProps {\n    active?: boolean;\n    onClick?: () => void;\n    icon: React.ReactNode;\n}\n\nconst IconToggleButton: React.FC<IconToggleButtonProps> = ({\n    active,\n    onClick,\n    icon,\n}) => (\n    <Button\n        variant=\"outline\"\n        size=\"icon\"\n        onClick={onClick}\n        className={cn(\n            \"flex h-9 w-9 items-center justify-center rounded-xl border-slate-300 bg-white shadow-sm\",\n            active && \"border-indigo-500 bg-indigo-50 text-indigo-600\"\n        )}\n    >\n        {icon}\n    </Button>\n);","\"use client\";\n\nimport React from \"react\";\nimport Image from \"next/image\";\nimport { MoreVertical } from \"lucide-react\";\nimport { Task } from \"../page\";\nimport { cn } from \"@/lib/utils\";\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableHeader,\n    TableRow\n} from \"@/components/ui/table\";\nimport { TaskRowActions } from \"./TaskRowActions\";\nimport StatusDropdown from \"./StatusDropdown\";\n\ninterface TaskTableProps {\n    tasks: Task[];\n    onView?: (task: Task) => void;\n    onEdit?: (task: Task) => void;\n    onDelete?: (task: Task) => void;\n    onDuplicate?: (task: Task) => void;\n    onTogglePin?: (task: Task) => void;\n}\n\n\nexport const TaskTable: React.FC<TaskTableProps> = ({\n    tasks,\n    onView,\n    onEdit,\n    onDelete,\n    onDuplicate,\n    onTogglePin\n}) => {\n    return (\n        <div className=\"w-full overflow-hidden rounded-xl bg-white\">\n            <Table>\n                <TableHeader className=\"bg-slate-100\">\n                    <TableRow>\n                        <TableHead className=\"w-[120px] text-slate-600\">Code</TableHead>\n                        <TableHead className=\"min-w-[260px] text-slate-600\">Task Name</TableHead>\n                        <TableHead className=\"text-slate-600\">Completed On</TableHead>\n                        <TableHead className=\"text-slate-600\">Start Date</TableHead>\n                        <TableHead className=\"text-slate-600\">Due Date</TableHead>\n                        <TableHead className=\"text-slate-600\">Estimated Time</TableHead>\n                        <TableHead className=\"text-slate-600\">Hours Logged</TableHead>\n                        <TableHead className=\"text-slate-600\">Assigned To</TableHead>\n                        <TableHead className=\"text-slate-600\">Status</TableHead>\n                        <TableHead className=\"text-right text-slate-600\">Action</TableHead>\n                    </TableRow>\n                </TableHeader>\n\n                <TableBody>\n                    {tasks.map((task) => {\n                        const hoursLogged = task.hoursLogged ? `${task.hoursLogged}h` : \"--\";\n\n                        return (\n                            <TableRow key={task.id} className=\"hover:bg-slate-50\">\n                                {/* Code */}\n                                <TableCell className=\"font-medium text-slate-800\">\n                                    {task.projectShortCode ? `${task.projectShortCode}-${task.id}` : `TASK-${task.id}`}\n                                </TableCell>\n\n                                {/* Task Name + Labels + Project */}\n                                <TableCell>\n                                    <div className=\"flex flex-col\">\n                                        <span className=\"font-medium text-slate-900\">\n                                            {task.title}\n                                        </span>\n\n                                        {/* Labels (Low / High etc) */}\n                                        <div className=\"mt-1 flex flex-wrap gap-2\">\n                                            {task.labels?.map((label) => (\n                                                <span\n                                                    key={label.id}\n                                                    className={cn(\n                                                        \"rounded-full px-2 py-0.5 text-xs font-medium\",\n                                                        \"text-white\"\n                                                    )}\n                                                    style={{ backgroundColor: label.colorCode }}\n                                                >\n                                                    {label.name}\n                                                </span>\n                                            ))}\n                                        </div>\n\n                                        {/* Project Name */}\n                                        <span className=\"text-xs text-slate-500\">\n                                            {task.categoryId?.name ?? \"Project name\"}\n                                        </span>\n\n                                        {/* Pinned Tag */}\n                                        {task.pinned && (\n                                            <span className=\"mt-1 w-fit rounded-md bg-yellow-100 px-2 py-0.5 text-[10px] font-medium text-yellow-700\">\n                                                Pinned\n                                            </span>\n                                        )}\n                                    </div>\n                                </TableCell>\n\n                                {/* Completed On */}\n                                <TableCell className=\"text-slate-600\">\n                                    {task.completedOn ?? \"--\"}\n                                </TableCell>\n\n                                {/* Dates */}\n                                <TableCell className=\"text-slate-600\">\n                                    {task.startDate ?? \"--\"}\n                                </TableCell>\n                                <TableCell className=\"text-slate-600\">\n                                    {task.dueDate ?? \"--\"}\n                                </TableCell>\n\n                                {/* Estimated Time */}\n                                <TableCell className=\"text-slate-600\">\n                                    {task.timeEstimate ? `${task.timeEstimateMinutes}m` : \"--\"}\n                                </TableCell>\n\n                                {/* Hours Logged */}\n                                <TableCell className=\"font-medium text-slate-700\">\n                                    {hoursLogged}\n                                </TableCell>\n\n                                {/* Assigned To Avatars */}\n                                <TableCell>\n                                    <div className=\"flex -space-x-2\">\n                                        {task.assignedEmployees?.map((emp) => (\n                                            <div\n                                                key={emp.employeeId}\n                                                className=\"h-8 w-8 rounded-full border-2 border-white shadow-sm overflow-hidden bg-slate-200\"\n                                            >\n                                                {emp.profileUrl ? (\n                                                    <Image\n                                                        src={emp.profileUrl}\n                                                        alt={emp.name}\n                                                        width={32}\n                                                        height={32}\n                                                        className=\"h-full w-full object-cover\"\n                                                    />\n                                                ) : (\n                                                    <div className=\"flex h-full w-full items-center justify-center text-xs text-slate-600\">\n                                                        {emp.name?.charAt(0)}\n                                                    </div>\n                                                )}\n                                            </div>\n                                        ))}\n                                    </div>\n                                </TableCell>\n\n                                {/* Status Pill */}\n                                {/* <TableCell>\n                                    <span\n                                        className=\"flex w-fit items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600\"\n                                    >\n                                        <span\n                                            className=\"h-2 w-2 rounded-full\"\n                                            style={{ background: task.taskStage?.labelColor }}\n                                        />\n                                        {task.taskStage?.name}\n                                    </span>\n                                </TableCell> */}\n                                <TableCell>\n                                    <StatusDropdown task={task} />\n                                </TableCell>\n\n                                {/* Actions (...) */}\n                                <TableCell className=\"text-right\">\n                                    {/* <TaskRowActions task={task} /> */}\n                                    <TaskRowActions\n                                        task={task}\n                                        onView={onView}\n                                        onEdit={onEdit}\n                                        onDelete={onDelete}\n                                        onDuplicate={onDuplicate}\n                                        onTogglePin={onTogglePin}\n                                    />\n\n                                </TableCell>\n                            </TableRow>\n                        );\n                    })}\n                </TableBody>\n            </Table>\n        </div>\n    );\n};\n","\"use client\";\n\nimport React from \"react\";\nimport {\n    Eye,\n    Pencil,\n    Copy,\n    Pin,\n    Trash2,\n    MoreVertical,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n    DropdownMenu,\n    DropdownMenuContent,\n    DropdownMenuItem,\n    DropdownMenuTrigger,\n    DropdownMenuSeparator,\n} from \"@/components/ui/dropdown-menu\";\nimport { Task } from \"../page\";\n\ninterface TaskRowActionsProps {\n    task: Task;\n\n    // Future optional callbacks\n    onView?: (task: Task) => void;\n    onEdit?: (task: Task) => void;\n    onDuplicate?: (task: Task) => void;\n    onTogglePin?: (task: Task) => void;\n    onDelete?: (task: Task) => void;\n}\n\nexport const TaskRowActions: React.FC<TaskRowActionsProps> = ({\n    task,\n    onView,\n    onEdit,\n    onDuplicate,\n    onTogglePin,\n    onDelete,\n}) => {\n    return (\n        <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n                <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 rounded-full hover:bg-slate-100\"\n                >\n                    <MoreVertical size={18} className=\"text-slate-600\" />\n                </Button>\n            </DropdownMenuTrigger>\n\n            <DropdownMenuContent\n                align=\"end\"\n                className=\"w-40 rounded-xl border border-slate-200 bg-white shadow-lg\"\n            >\n                {/* View */}\n                <DropdownMenuItem\n                    className=\"flex cursor-pointer items-center gap-2 text-slate-700\"\n                    onClick={() => onView?.(task)}\n                >\n                    <Eye size={16} />\n                    View\n                </DropdownMenuItem>\n\n                {/* Edit */}\n                {/* <DropdownMenuItem\n                    className=\"flex cursor-pointer items-center gap-2 text-slate-700\"\n                    onClick={() => onEdit?.(task)}\n                >\n                    <Pencil size={16} />\n                    Edit\n                </DropdownMenuItem> */}\n\n                {/* Duplicate */}\n                {/* <DropdownMenuItem\n                    className=\"flex cursor-pointer items-center gap-2 text-slate-700\"\n                    onClick={() => onDuplicate?.(task)}\n                >\n                    <Copy size={16} />\n                    Duplicate\n                </DropdownMenuItem> */}\n\n                <DropdownMenuSeparator />\n\n                {/* Pin */}\n                <DropdownMenuItem\n                    className=\"flex cursor-pointer items-center gap-2 text-slate-700\"\n                    onClick={() => onTogglePin?.(task)}\n                >\n                    <Pin size={16} />\n                    {task.pinned ? \"Unpin Task\" : \"Pin Task\"}\n                </DropdownMenuItem>\n\n                <DropdownMenuSeparator />\n\n                {/* Delete */}\n                {/* <DropdownMenuItem\n                    className=\"flex cursor-pointer items-center gap-2 text-red-600\"\n                    onClick={() => onDelete?.(task)}\n                >\n                    <Trash2 size={16} className=\"text-red-600\" />\n                    Delete\n                </DropdownMenuItem> */}\n            </DropdownMenuContent>\n        </DropdownMenu>\n    );\n};\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport {\n    DropdownMenu,\n    DropdownMenuTrigger,\n    DropdownMenuContent,\n    DropdownMenuItem,\n} from \"@/components/ui/dropdown-menu\";\n\nexport default function StatusDropdown({ task }) {\n    const MAIN = process.env.NEXT_PUBLIC_MAIN;\n    const token = typeof window !== \"undefined\" ? window.localStorage.getItem(\"accessToken\") : null\n\n    const [stages, setStages] = useState([]);\n    const [current, setCurrent] = useState(task.taskStage);\n    const [loading, setLoading] = useState(false);\n\n    // -------- Fetch all Stages --------\n    const fetchStages = async () => {\n        try {\n            const res = await fetch(`${MAIN}/status`, {\n                headers: { Authorization: `Bearer ${token}` },\n            });\n            const data = await res.json();\n            setStages(data);\n        } catch (err) {\n            console.error(\"Stage fetch error:\", err);\n        }\n    };\n\n    useEffect(() => {\n        fetchStages();\n    }, []);\n\n    // -------- Update Stage (PATCH) --------\n    const updateStatus = async (stageId: string) => {\n        try {\n            setLoading(true);\n\n            const url = `${MAIN}/api/projects/tasks/${task.id}/status?statusId=${stageId}`;\n\n         //   console.log(\"PATCHING:\", url);\n\n            const res = await fetch(url, {\n                method: \"PATCH\",\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    \"Content-Length\": \"0\"      // SUPER IMPORTANT\n                }\n            });\n\n            if (!res.ok) {\n                const msg = await res.text();\n                console.error(\"Backend says:\", msg);\n                throw new Error(\"Failed to update stage\");\n            }\n\n            const updated = await res.json();\n   \n            const newStage = stages.find((s) => String(s.id) === stageId);\n            setCurrent(newStage);\n\n        } catch (err) {\n            console.error(\"Update error:\", err);\n            alert(\"Failed to update status\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n\n\n    return (\n        <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n                <button\n                    className=\"flex w-fit items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 hover:bg-slate-100\"\n                    disabled={loading}\n                >\n                    <span\n                        className=\"h-2 w-2 rounded-full\"\n                        style={{ background: current?.labelColor }}\n                    />\n                    {loading ? \"Updating...\" : current?.name}\n                </button>\n            </DropdownMenuTrigger>\n\n            <DropdownMenuContent className=\"w-40\">\n                {stages.map((stage) => (\n                    <DropdownMenuItem\n                        key={stage.id}\n                        onClick={() => updateStatus(String(stage.id))}\n                        className=\"flex items-center gap-2 cursor-pointer\"\n                    >\n                        <span\n                            className=\"h-2 w-2 rounded-full\"\n                            style={{ background: stage.labelColor }}\n                        />\n                        {stage.name}{stage.id}\n                    </DropdownMenuItem>\n                ))}\n            </DropdownMenuContent>\n        </DropdownMenu>\n    );\n}\n","\"use client\";\n\nimport React from \"react\";\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Task } from \"../page\";\nimport { CalendarDays } from \"lucide-react\";\n\ninterface CalendarModalProps {\n    open: boolean;\n    onOpenChange: (open: boolean) => void;\n    tasks: Task[];\n}\n\nexport const CalendarModal: React.FC<CalendarModalProps> = ({\n    open,\n    onOpenChange,\n    tasks,\n}) => {\n    return (\n        <Dialog open={open} onOpenChange={onOpenChange}>\n            <DialogContent className=\"max-h-[90vh] w-[600px] overflow-y-auto rounded-2xl border border-slate-200 p-0\">\n                <DialogHeader className=\"border-b border-slate-200 px-6 py-4\">\n                    <DialogTitle className=\"flex items-center gap-2 text-lg font-semibold text-slate-800\">\n                        <CalendarDays size={20} />\n                        Task Date Overview\n                    </DialogTitle>\n                </DialogHeader>\n\n                {/* BODY */}\n                <div className=\"space-y-4 px-6 py-4\">\n                    {tasks.length === 0 ? (\n                        <p className=\"py-10 text-center text-sm text-slate-500\">\n                            No tasks available for selected filters.\n                        </p>\n                    ) : (\n                        <div className=\"space-y-4\">\n                            {tasks.map((task) => (\n                                <div\n                                    key={task.id}\n                                    className=\"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\"\n                                >\n                                    <div className=\"mb-1 flex justify-between\">\n                                        <h3 className=\"font-medium text-slate-800\">{task.title}</h3>\n                                        <span className=\"rounded-md bg-slate-200 px-2 py-1 text-xs font-medium text-slate-700\">\n                                            {task.projectShortCode ?? \"TASK\"}-{task.id}\n                                        </span>\n                                    </div>\n\n                                    {/* Date Range */}\n                                    <div className=\"mt-2\">\n                                        <p className=\"text-xs text-slate-500\">Start Date</p>\n                                        <p className=\"text-sm font-medium text-slate-700\">\n                                            {task.startDate ?? \"--\"}\n                                        </p>\n                                    </div>\n\n                                    <div className=\"mt-2\">\n                                        <p className=\"text-xs text-slate-500\">Due Date</p>\n                                        <p className=\"text-sm font-medium text-slate-700\">\n                                            {task.dueDate ?? \"--\"}\n                                        </p>\n                                    </div>\n\n                                    {/* Status */}\n                                    <div className=\"mt-3\">\n                                        <span className=\"flex w-fit items-center gap-2 rounded-full border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700\">\n                                            <span\n                                                className=\"h-2 w-2 rounded-full\"\n                                                style={{\n                                                    background: task.taskStage?.labelColor,\n                                                }}\n                                            />\n                                            {task.taskStage?.name}\n                                        </span>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n            </DialogContent>\n        </Dialog>\n    );\n};\n","\n\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n} from \"@/components/ui/dialog\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n    Select,\n    SelectTrigger,\n    SelectContent,\n    SelectItem,\n    SelectValue,\n} from \"@/components/ui/select\";\nimport { Loader2 } from \"lucide-react\";\n\ninterface AddTaskModalProps {\n    open: boolean;\n    onOpenChange: (v: boolean) => void;\n    onCreated: () => void;\n}\n\nexport const AddTaskModal: React.FC<AddTaskModalProps> = ({\n    open,\n    onOpenChange,\n    onCreated,\n}) => {\n    // const GATEWAY = process.env.NEXT_PUBLIC_GATEWAY;\n    const MAIN = process.env.NEXT_PUBLIC_MAIN;\n\n    // ---------------- FORM STATES ----------------\n    const [title, setTitle] = useState(\"\");\n    const [category, setCategory] = useState(\"\");\n    const [projectId, setProjectId] = useState(\"\");\n    const [startDate, setStartDate] = useState(\"\");\n    const [dueDate, setDueDate] = useState(\"\");\n    const [taskStageId, setTaskStageId] = useState(\"\");\n    const [assignedEmployeeIds, setAssignedEmployeeIds] = useState<string[]>([]);\n    const [description, setDescription] = useState(\"\");\n    const [labelIds, setLabelIds] = useState<string[]>([]);\n    const [priority, setPriority] = useState(\"\");\n    const [isPrivate, setIsPrivate] = useState(false);\n    const [timeEstimate, setTimeEstimate] = useState(false);\n    const [timeEstimateMinutes, setTimeEstimateMinutes] = useState(\"\");\n    const [isDependent, setIsDependent] = useState(false);\n    const [milestoneId, setMilestoneId] = useState(\"\");\n    const [file, setFile] = useState<File | null>(null);\n\n    const [loading, setLoading] = useState(false);\n\n    // ---------------- API DATA STATES ----------------\n    const [categories, setCategories] = useState<any[]>([]);\n    const [projects, setProjects] = useState<any[]>([]);\n    const [stages, setStages] = useState<any[]>([]);\n    const [employees, setEmployees] = useState<any[]>([]);\n    const [milestones, setMilestones] = useState<any[]>([]);\n    const [labels, setLabels] = useState<any[]>([]);\n\n    // ---------------- API FETCH ----------------\n    const token = typeof window !== \"undefined\" ? window.localStorage.getItem(\"accessToken\") : null\n    // Task Categories\n    const fetchCategories = async () => {\n        const token = localStorage.getItem(\"accessToken\");\n        const res = await fetch(`${MAIN}/task/task-categories`, {\n            // TODO: yaha pe agar token chahiye ho to header add karna\n            headers: { Authorization: `Bearer ${token}` },\n            // credentials: \"include\",\n        });\n        const data = await res.json();\n        setCategories(data);\n    };\n\n    // Projects\n    const fetchProjects = async () => {\n        const res = await fetch(`${MAIN}/api/projects`, {\n            // TODO: yaha pe agar token chahiye ho to header add karna\n            headers: { Authorization: `Bearer ${token}` },\n            // credentials: \"include\",\n        });\n        const data = await res.json();\n        setProjects(data);\n    };\n\n    // Stages\n    const fetchStages = async () => {\n        const res = await fetch(`${MAIN}/status`, {\n            // TODO: yaha pe agar token chahiye ho to header add karna\n            headers: { Authorization: `Bearer ${token}` },\n            // credentials: \"include\",\n        });\n        const data = await res.json();\n        setStages(data);\n    };\n\n    // Employees\n    const fetchEmployees = async () => {\n        const res = await fetch(`${MAIN}/employee/all`, {\n            // TODO: yaha pe agar token chahiye ho to header add karna\n            headers: { Authorization: `Bearer ${token}` },\n            // credentials: \"include\",\n        });\n        const data = await res.json();\n        setEmployees(data);\n    };\n\n    // Milestones (depends on project)\n    const fetchMilestones = async (pid: string) => {\n        if (!pid) return;\n        const res = await fetch(`${MAIN}/api/projects/${pid}/milestones`, {\n            // TODO: yaha pe agar token chahiye ho to header add karna\n            headers: { Authorization: `Bearer ${token}` },\n            // credentials: \"include\",\n        });\n        const data = await res.json();\n        setMilestones(data);\n    };\n\n    // Labels (depends on project)\n    const fetchLabels = async (pid: string) => {\n        if (!pid) return;\n        const res = await fetch(`${MAIN}/projects/${pid}/labels`, {\n            // TODO: yaha pe agar token chahiye ho to header add karna\n            headers: { Authorization: `Bearer ${token}` },\n            // credentials: \"include\",\n        });\n        const data = await res.json();\n        setLabels(data);\n    };\n\n    // Initial load\n    useEffect(() => {\n        if (open) {\n            fetchCategories();\n            fetchProjects();\n            fetchStages();\n            fetchEmployees();\n        }\n    }, [open]);\n\n    // Project change → milestones + labels reload\n    useEffect(() => {\n        if (projectId) {\n            fetchMilestones(projectId);\n            fetchLabels(projectId);\n        }\n    }, [projectId]);\n\n    // Multi-select toggle\n    const toggle = (arr: string[], v: string) =>\n        arr.includes(v) ? arr.filter((x) => x !== v) : [...arr, v];\n\n    // ---------------- SUBMIT ----------------\n    const handleSave = async () => {\n        try {\n            setLoading(true);\n\n            const fd = new FormData();\n            fd.append(\"title\", title);\n            fd.append(\"category\", category); // ID\n            fd.append(\"projectId\", projectId); // ID\n            fd.append(\"startDate\", startDate);\n            fd.append(\"dueDate\", dueDate);\n            fd.append(\"taskStageId\", taskStageId); // ID\n            fd.append(\"description\", description);\n            fd.append(\"priority\", priority);\n            fd.append(\"isPrivate\", String(isPrivate));\n            fd.append(\"timeEstimate\", String(timeEstimate));\n            fd.append(\"timeEstimateMinutes\", timeEstimateMinutes);\n            fd.append(\"isDependent\", String(isDependent));\n            fd.append(\"milestoneId\", milestoneId); // REQUIRED\n\n            // Arrays\n            assignedEmployeeIds.forEach((id) =>\n                fd.append(\"assignedEmployeeIds\", id)\n            );\n\n            labelIds.forEach((id) => fd.append(\"labelIds\", id));\n\n            if (file) fd.append(\"taskFile\", file);\n\n            const res = await fetch(`${MAIN}/projects/tasks`, {\n                method: \"POST\",\n                body: fd,\n                // TODO: yaha pe agar token chahiye ho to header add karna\n                headers: { Authorization: `Bearer ${token}` },\n                // credentials: \"include\",\n\n            });\n\n            if (!res.ok) throw new Error(\"Failed\");\n\n            onCreated();\n            onOpenChange(false);\n        } catch (e) {\n            alert(\"Failed to create task\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // ---------------- UI ----------------\n    return (\n        <Dialog open={open} onOpenChange={onOpenChange}>\n            <DialogContent className=\"max-h-[95vh] w-[900px] overflow-y-auto rounded-xl\">\n                <DialogHeader>\n                    <DialogTitle>Add New Task</DialogTitle>\n                </DialogHeader>\n\n                {/* FORM */}\n                <div className=\"grid gap-5\">\n                    {/* Title */}\n                    <div>\n                        <Label>Title *</Label>\n                        <Input value={title} onChange={(e) => setTitle(e.target.value)} />\n                    </div>\n\n                    {/* Category */}\n                    <div>\n                        <Label>Category *</Label>\n                        <Select onValueChange={setCategory}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select category\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {categories.map((c) => (\n                                    <SelectItem value={String(c.id)} key={c.id}>\n                                        {c.name}\n                                    </SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* Project */}\n                    <div>\n                        <Label>Project *</Label>\n                        <Select onValueChange={setProjectId}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select project\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {projects?.map((p) => (\n                                    <SelectItem value={String(p.id)} key={p.id}>\n                                        {p.shortCode} - {p.name}\n                                    </SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* Milestones */}\n                    <div>\n                        <Label>Milestone *</Label>\n                        <Select onValueChange={setMilestoneId}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select milestone\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {milestones.map((m) => (\n                                    <SelectItem value={String(m.id)} key={m.id}>\n                                        {m.title}\n                                    </SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* Stage */}\n                    <div>\n                        <Label>Task Stage *</Label>\n                        <Select onValueChange={setTaskStageId}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select stage\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {stages.map((s) => (\n                                    <SelectItem value={String(s.id)} key={s.id}>\n                                        {s.name}\n                                    </SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* Assigned Employees */}\n                    <div>\n                        <Label>Assign To *</Label>\n                        <div className=\"grid grid-cols-2 gap-2 pt-2\">\n                            {employees.map((emp) => (\n                                <div key={emp.employeeId} className=\"flex items-center gap-2\">\n                                    <Checkbox\n                                        checked={assignedEmployeeIds.includes(emp.employeeId)}\n                                        onCheckedChange={() =>\n                                            setAssignedEmployeeIds(\n                                                toggle(assignedEmployeeIds, emp.employeeId)\n                                            )\n                                        }\n                                    />\n                                    <span className=\"text-sm\">{emp.name}</span>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Labels */}\n                    <div>\n                        <Label>Labels *</Label>\n                        <div className=\"grid grid-cols-2 gap-2 pt-2\">\n                            {labels.map((l) => (\n                                <div key={l.id} className=\"flex items-center gap-2\">\n                                    <Checkbox\n                                        checked={labelIds.includes(String(l.id))}\n                                        onCheckedChange={() =>\n                                            setLabelIds(toggle(labelIds, String(l.id)))\n                                        }\n                                    />\n                                    <span>{l.name}</span>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Dates */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                            <Label>Start Date *</Label>\n                            <Input\n                                type=\"date\"\n                                value={startDate}\n                                onChange={(e) => setStartDate(e.target.value)}\n                            />\n                        </div>\n\n                        <div>\n                            <Label>Due Date *</Label>\n                            <Input\n                                type=\"date\"\n                                value={dueDate}\n                                onChange={(e) => setDueDate(e.target.value)}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Description */}\n                    <div>\n                        <Label>Description *</Label>\n                        <Textarea\n                            value={description}\n                            onChange={(e) => setDescription(e.target.value)}\n                        />\n                    </div>\n\n                    {/* Priority */}\n                    <div>\n                        <Label>Priority *</Label>\n                        <Select onValueChange={setPriority}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select priority\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                <SelectItem value=\"LOW\">Low</SelectItem>\n                                <SelectItem value=\"MEDIUM\">Medium</SelectItem>\n                                <SelectItem value=\"HIGH\">High</SelectItem>\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* Toggles */}\n                    <div className=\"grid grid-cols-2 gap-3\">\n                        <div className=\"flex gap-2 items-center\">\n                            <Checkbox\n                                checked={isPrivate}\n                                onCheckedChange={(v) => setIsPrivate(Boolean(v))}\n                            />\n                            <span>Private Task</span>\n                        </div>\n\n                        <div className=\"flex gap-2 items-center\">\n                            <Checkbox\n                                checked={isDependent}\n                                onCheckedChange={(v) => setIsDependent(Boolean(v))}\n                            />\n                            <span>Dependent Task</span>\n                        </div>\n\n                        <div className=\"flex gap-2 items-center\">\n                            <Checkbox\n                                checked={timeEstimate}\n                                onCheckedChange={(v) => setTimeEstimate(Boolean(v))}\n                            />\n                            <span>Time Estimate</span>\n                        </div>\n\n                        {timeEstimate && (\n                            <Input\n                                placeholder=\"Minutes\"\n                                value={timeEstimateMinutes}\n                                onChange={(e) => setTimeEstimateMinutes(e.target.value)}\n                            />\n                        )}\n                    </div>\n\n                    {/* File Upload */}\n                    <div>\n                        <Label>Attachment *</Label>\n                        <Input\n                            type=\"file\"\n                            onChange={(e) => setFile(e.target.files?.[0] ?? null)}\n                        />\n                    </div>\n                </div>\n\n                {/* FOOTER */}\n                <div className=\"flex justify-end gap-3 pt-4\">\n                    <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n                        Cancel\n                    </Button>\n\n                    <Button onClick={handleSave} disabled={loading}>\n                        {loading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : \"Save Task\"}\n                    </Button>\n                </div>\n            </DialogContent>\n        </Dialog>\n    );\n};\n\n\n\n\n\n\n\n","\"use client\";\n\nimport React from \"react\";\nimport { Task } from \"../page\";\nimport { MoreVertical } from \"lucide-react\";\nimport { TaskRowActions } from \"./TaskRowActions\";\n\nexport const KanbanCard: React.FC<{ task: Task }> = ({ task }) => {\n    return (\n        <div className=\"rounded-xl bg-white p-4 shadow hover:shadow-md transition cursor-pointer border border-slate-200\">\n            <div className=\"flex justify-between\">\n                <h3 className=\"font-medium text-slate-800 text-sm\">{task.title}</h3>\n\n                {/* <TaskRowActions task={task} /> */}\n            </div>\n            <div className=\"mt-3 text-xs text-slate-500\">\n                {task?.projectName}\n            </div>\n\n            {/* Labels */}\n            {task.labels && (\n                <div className=\"mt-2 flex flex-wrap gap-2\">\n                    {task.labels.map((l) => (\n                        <span\n                            key={l.id}\n                            className=\"rounded-full px-2 py-0.5 text-xs text-white\"\n                            style={{ background: l.colorCode }}\n                        >\n                            {l.name}\n                        </span>\n                    ))}\n                </div>\n            )}\n\n            {/* Info */}\n            <div className=\"mt-3 text-xs text-slate-500\">\n                {task.projectShortCode}-{task.id}\n            </div>\n\n            {/* Assigned employees */}\n            <div className=\"mt-3 flex -space-x-2\">\n                {task.assignedEmployees?.map((emp) => (\n                    <img\n                        key={emp.employeeId}\n                        src={\n                            emp.profileUrl ??\n                            \"https://avatar.iran.liara.run/public/boy?57\"\n                        }\n                        className=\"h-7 w-7 rounded-full border-2 border-white object-cover\"\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n","\"use client\";\n\nimport React from \"react\";\nimport { Task } from \"../page\";\nimport { KanbanCard } from \"./KanbanCard\";\n\ninterface KanbanColumnProps {\n    title: string;\n    color?: string | null;\n    tasks: Task[];\n}\n\nexport const KanbanColumn: React.FC<KanbanColumnProps> = ({\n    title,\n    color,\n    tasks,\n}) => {\n    return (\n        <div className=\"min-w-[280px] w-[280px] rounded-xl bg-slate-100 p-4 shadow-sm\">\n            {/* Column Title */}\n            <div className=\"mb-4 flex items-center gap-2\">\n                <span\n                    className=\"h-3 w-3 rounded-full\"\n                    style={{ background: color || \"#d1d5db\" }}\n                />\n                <h2 className=\"font-semibold text-slate-700\">{title}</h2>\n                <span className=\"ml-auto rounded-md bg-white px-2 py-1 text-xs text-slate-500 shadow\">\n                    {tasks.length}\n                </span>\n            </div>\n\n            {/* Cards */}\n            <div className=\"flex flex-col gap-3\">\n                {tasks.map((task) => (\n                    <KanbanCard key={task.id} task={task} />\n                ))}\n\n                {tasks.length === 0 && (\n                    <p className=\"text-xs text-slate-400 text-center py-4\">No tasks</p>\n                )}\n            </div>\n        </div>\n    );\n};\n","\"use client\";\n\nimport React, { useMemo } from \"react\";\nimport { Task } from \"../page\";\nimport { KanbanColumn } from \"./KanbanColumn\";\n\ninterface KanbanBoardProps {\n    tasks: Task[];\n}\n\nexport const KanbanBoard: React.FC<KanbanBoardProps> = ({ tasks }) => {\n    // Group tasks by stage name\n    const grouped = useMemo(() => {\n        const map: { [stage: string]: Task[] } = {};\n\n        tasks.forEach((task) => {\n            const stage = task.taskStage?.name || \"Uncategorized\";\n            if (!map[stage]) map[stage] = [];\n            map[stage].push(task);\n        });\n\n        return map;\n    }, [tasks]);\n\n    const stagesOrdered = [\"Waiting\", \"Doing\", \"Approval\", \"Completed\"];\n\n    return (\n        <div className=\"flex w-full gap-4 overflow-x-auto pb-4\">\n            {stagesOrdered.map((stage) => (\n                <KanbanColumn\n                    key={stage}\n                    title={stage}\n                    color={tasks.find((t) => t.taskStage?.name === stage)?.taskStage?.labelColor}\n                    tasks={grouped[stage] ?? []}\n                />\n            ))}\n\n            {/* Render any extra dynamic columns */}\n            {Object.keys(grouped)\n                .filter((s) => !stagesOrdered.includes(s))\n                .map((dynamicStage) => (\n                    <KanbanColumn\n                        key={dynamicStage}\n                        title={dynamicStage}\n                        color={grouped[dynamicStage][0]?.taskStage?.labelColor}\n                        tasks={grouped[dynamicStage]}\n                    />\n                ))}\n        </div>\n    );\n};\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n} from \"@/components/ui/dialog\";\n\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Pencil, Trash2, Loader2, Plus } from \"lucide-react\";\n\ninterface Stage {\n    id: number;\n    name: string;\n    position: number;\n    labelColor: string | null;\n}\n\ninterface StagesModalProps {\n    open: boolean;\n    onOpenChange: (v: boolean) => void;\n}\n\nexport const StagesModal: React.FC<StagesModalProps> = ({\n    open,\n    onOpenChange,\n}) => {\n    const API = process.env.NEXT_PUBLIC_MAIN;\n\n    const [loading, setLoading] = useState(false);\n    const [stages, setStages] = useState<Stage[]>([]);\n\n    const [editId, setEditId] = useState<number | null>(null);\n    const [name, setName] = useState(\"\");\n    const [position, setPosition] = useState(\"\");\n    const [labelColor, setLabelColor] = useState(\"#000000\");\n\n    const resetForm = () => {\n        setEditId(null);\n        setName(\"\");\n        setPosition(\"\");\n        setLabelColor(\"#000000\");\n    };\n\n    // ---------------- LOAD STAGES ----------------\n    const fetchStages = async () => {\n        try {\n            const token = typeof window !== \"undefined\" ? window.localStorage.getItem(\"accessToken\") : null\n            const res = await fetch(`${API}/status`, {\n                // TODO: yaha pe agar token chahiye ho to header add karna\n                headers: { Authorization: `Bearer ${token}` },\n                // credentials: \"include\",\n            });\n            const data = await res.json();\n            setStages(data);\n        } catch (err) {\n            console.error(\"Failed to load stages\", err);\n        }\n    };\n\n    useEffect(() => {\n        if (open) fetchStages();\n    }, [open]);\n\n    // ---------------- SAVE (ADD / UPDATE) ----------------\n    const handleSave = async () => {\n        try {\n            const token = typeof window !== \"undefined\" ? window.localStorage.getItem(\"accessToken\") : null\n            setLoading(true);\n\n            const body = {\n                name,\n                position: Number(position),\n                labelColor,\n            };\n\n            const method = editId ? \"PUT\" : \"POST\";\n            const url = editId\n                ? `${API}/status/${editId}`\n                : `${API}/status`;\n          \n            const res = await fetch(url, {\n                method,\n                // TODO: yaha pe agar token chahiye ho to header add karna\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    \"Content-Type\": \"application/json\"\n                },\n                // credentials: \"include\",\n\n                body: JSON.stringify(body),\n            });\n\n            if (!res.ok) {\n                throw new Error(\"Failed\");\n            }\n\n            resetForm();\n            fetchStages();\n        } catch (err) {\n            alert(\"Operation failed\");\n            console.error(err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // ---------------- DELETE ----------------\n    const handleDelete = async (id: number) => {\n        if (!confirm(\"Are you sure you want to delete this stage?\")) return;\n\n        try {\n            setLoading(true);\n\n            const token = typeof window !== \"undefined\" ? window.localStorage.getItem(\"accessToken\") : null\n\n            const res = await fetch(`${API}/status/${id}`, {\n                method: \"DELETE\",\n                // TODO: yaha pe agar token chahiye ho to header add karna\n                headers: { Authorization: `Bearer ${token}` },\n                // credentials: \"include\",\n\n            });\n\n            if (!res.ok) throw new Error(\"Failed\");\n\n            fetchStages();\n        } catch (err) {\n            alert(\"Delete failed\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // ---------------- EDIT MODE ----------------\n    const startEdit = (stage: Stage) => {\n        setEditId(stage.id);\n        setName(stage.name);\n        setPosition(String(stage.position));\n        setLabelColor(stage.labelColor || \"#000000\");\n    };\n\n    // ---------------- UI ----------------\n\n    return (\n        <Dialog open={open} onOpenChange={onOpenChange}>\n            <DialogContent className=\"max-w-xl rounded-xl\">\n                <DialogHeader>\n                    <DialogTitle className=\"text-lg font-semibold\">\n                        Task Stages\n                    </DialogTitle>\n                </DialogHeader>\n\n                {/* FORM */}\n                <div className=\"space-y-4\">\n                    <div>\n                        <Label>Name</Label>\n                        <Input\n                            placeholder=\"Stage Name\"\n                            value={name}\n                            onChange={(e) => setName(e.target.value)}\n                        />\n                    </div>\n\n                    <div>\n                        <Label>Position</Label>\n                        <Input\n                            placeholder=\"Position\"\n                            type=\"number\"\n                            value={position}\n                            onChange={(e) => setPosition(e.target.value)}\n                        />\n                    </div>\n\n                    <div>\n                        <Label>Label Color</Label>\n                        <Input\n                            type=\"color\"\n                            className=\"h-10 w-20 p-1\"\n                            value={labelColor}\n                            onChange={(e) => setLabelColor(e.target.value)}\n                        />\n                    </div>\n\n                    <Button\n                        onClick={handleSave}\n                        disabled={loading || !name || !position}\n                        className=\"flex items-center gap-2 rounded-lg bg-indigo-600 text-white\"\n                    >\n                        {loading ? (\n                            <Loader2 className=\"h-4 w-4 animate-spin\" />\n                        ) : editId ? (\n                            \"Update Stage\"\n                        ) : (\n                            <>\n                                <Plus size={16} /> Add Stage\n                            </>\n                        )}\n                    </Button>\n\n                    <hr className=\"my-3\" />\n\n                    {/* STAGES LIST */}\n                    <div className=\"space-y-3\">\n                        {stages.map((s) => (\n                            <div\n                                key={s.id}\n                                className=\"flex items-center justify-between rounded-lg border border-slate-200 p-3\"\n                            >\n                                <div className=\"flex items-center gap-3\">\n                                    <span\n                                        className=\"h-4 w-4 rounded-full\"\n                                        style={{ background: s.labelColor }}\n                                    ></span>\n\n                                    <div>\n                                        <p className=\"font-medium\">{s.name}</p>\n                                        <p className=\"text-xs text-slate-500\">\n                                            Position: {s.position}\n                                        </p>\n                                    </div>\n                                </div>\n\n                                {/* Buttons */}\n                                <div className=\"flex items-center gap-3\">\n                                    <button\n                                        onClick={() => startEdit(s)}\n                                        className=\"text-blue-600 hover:text-blue-800\"\n                                    >\n                                        <Pencil size={18} />\n                                    </button>\n\n                                    <button\n                                        onClick={() => handleDelete(s.id)}\n                                        className=\"text-red-500 hover:text-red-700\"\n                                    >\n                                        <Trash2 size={18} />\n                                    </button>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </DialogContent>\n        </Dialog>\n    );\n};\n","// \"use client\";\n\n// import React, { useEffect, useState } from \"react\";\n// import { Dialog, DialogContent, DialogHeader } from \"@/components/ui/dialog\";\n// import { Loader2, X } from \"lucide-react\";\n// import TaskDetailsSection from \"./TaskDetailsSection\";\n// import FilesTab from \"./Tabs/FilesTab\";\n// import SubTasksTab from \"./Tabs/SubTasksTab\";\n// import TimesheetTab from \"./Tabs/TimesheetTab\";\n// import NotesTab from \"./Tabs/NotesTab\";\n\n// const MAIN_API = process.env.NEXT_PUBLIC_MAIN;\n\n// export default function ViewTaskModal({ open, onOpenChange, taskId }) {\n//     const [task, setTask] = useState(null);\n//     const [loading, setLoading] = useState(true);\n//     const [activeTab, setActiveTab] = useState(\"files\");\n\n//     useEffect(() => {\n//         if (open && taskId) fetchTask();\n//     }, [open, taskId]);\n\n//     async function fetchTask() {\n//         try {\n//             setLoading(true);\n//             const token = localStorage.getItem(\"accessToken\");\n\n//             const res = await fetch(`${MAIN_API}/projects/tasks/${taskId}`, {\n//                 headers: { Authorization: `Bearer ${token}` },\n//             });\n\n//             const data = await res.json();\n//             setTask(data);\n//         } catch (err) {\n//             console.error(err);\n//         } finally {\n//             setLoading(false);\n//         }\n//     }\n\n//     return (\n//         <Dialog open={open} onOpenChange={onOpenChange}>\n//             <DialogContent\n//                 className=\"\n//        min-w-6xl \n//         w-full \n//         h-[90vh] \n//         p-0 \n//         rounded-2xl \n//         overflow-auto \n//         flex flex-col\n//     \"\n//             >\n//                 {/* Top Header */}\n//                 <div className=\"flex justify-between p-6 border-b\">\n//                     <div>\n//                         <h2 className=\"text-xl font-semibold\">\n//                             Task #{task?.projectShortCode}-{task?.id}\n//                         </h2>\n//                         <p className=\"text-slate-500 text-sm\">{task?.title}</p>\n//                     </div>\n//                     {/* <button className=\"p-2\" onClick={() => onOpenChange(false)}>\n//                         <X size={20} />\n//                     </button> */}\n//                 </div>\n\n//                 {/* Loading State */}\n//                 {loading ? (\n//                     <div className=\"flex items-center justify-center h-96\">\n//                         <Loader2 className=\"animate-spin text-slate-500\" size={30} />\n//                     </div>\n//                 ) : (\n//                     <>\n//                         {/* Task Details */}\n//                         <TaskDetailsSection task={task} />\n\n//                         {/* Tabs Switcher */}\n//                         <div className=\"flex gap-6 px-6 pt-6 border-b\">\n//                             {[\"files\", \"subtasks\", \"timesheet\", \"notes\"].map((t) => (\n//                                 <button\n//                                     key={t}\n//                                     className={`pb-3 text-sm ${activeTab === t\n//                                             ? \"text-indigo-600 border-b-2 border-indigo-600\"\n//                                             : \"text-slate-500\"\n//                                         }`}\n//                                     onClick={() => setActiveTab(t)}\n//                                 >\n//                                     {t === \"files\" && \"Files\"}\n//                                     {t === \"subtasks\" && \"Sub Task\"}\n//                                     {t === \"timesheet\" && \"Timesheet\"}\n//                                     {t === \"notes\" && \"Notes\"}\n//                                 </button>\n//                             ))}\n//                         </div>\n\n//                         {/* Tab Content */}\n//                         <div className=\"p-6 min-h-[400px]\">\n//                             {activeTab === \"files\" && <FilesTab taskId={taskId} />}\n//                             {activeTab === \"subtasks\" && <SubTasksTab taskId={taskId} />}\n//                             {activeTab === \"timesheet\" && <TimesheetTab taskId={taskId} />}\n//                             {activeTab === \"notes\" && <NotesTab taskId={taskId} />}\n//                         </div>\n//                     </>\n//                 )}\n//             </DialogContent>\n//         </Dialog>\n//     );\n// }\n\n\n\n\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { X } from \"lucide-react\";\nimport TaskDetailsSection from \"./TaskDetailsSection\";\nimport FilesTab from \"./Tabs/FilesTab\";\nimport SubTasksTab from \"./Tabs/SubTasksTab\";\nimport TimesheetTab from \"./Tabs/TimesheetTab\";\nimport NotesTab from \"./Tabs/NotesTab\";\n\nconst MAIN_API = process.env.NEXT_PUBLIC_MAIN;\n\nexport default function ViewTaskModal({ open, onOpenChange, taskId }) {\n    const [task, setTask] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [activeTab, setActiveTab] = useState(\"files\");\n\n    useEffect(() => {\n        if (open && taskId) fetchTask();\n    }, [open, taskId]);\n\n    async function fetchTask() {\n        try {\n            setLoading(true);\n            const token = localStorage.getItem(\"accessToken\");\n\n            const res = await fetch(`${MAIN_API}/projects/tasks/${taskId}`, {\n                headers: { Authorization: `Bearer ${token}` },\n            });\n\n            const data = await res.json();\n            setTask(data);\n        } catch (err) {\n            console.error(err);\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return (\n        <div\n            className={`fixed inset-0 z-[999] bg-black/30 transition-opacity duration-300 \n                ${open ? \"opacity-100 visible\" : \"opacity-0 invisible\"}`}\n        >\n            {/* RIGHT SIDE SLIDING DRAWER */}\n            <div\n                className={`\n                    fixed right-0 top-0 h-full w-[83vw] max-w-[83vw] \n                    bg-white shadow-xl border-l \n                    transform transition-transform duration-300\n                    flex flex-col\n                    ${open ? \"translate-x-0\" : \"translate-x-full\"}\n                `}\n            >\n                {/* HEADER */}\n                <div className=\"flex items-center justify-between px-6 py-4 border-b bg-white\">\n                    <div>\n                        <div className=\"text-sm text-gray-500\">\n                            Task #{task?.projectShortCode}-{task?.id}\n                        </div>\n                        <div className=\"flex items-center gap-3 mt-1\">\n                            <div\n                                className=\"w-3 h-3 rounded-full\"\n                                style={{ background: task?.taskStage?.labelColor }}\n                            />\n                            <div className=\"text-lg font-semibold\">\n                                {task?.title ?? \"Task Name\"}\n                            </div>\n                        </div>\n                    </div>\n\n                    <button\n                        className=\"p-2 rounded hover:bg-gray-100\"\n                        onClick={() => onOpenChange(false)}\n                    >\n                        <X className=\"w-5 h-5 text-gray-600\" />\n                    </button>\n                </div>\n\n                {/* BODY SCROLL AREA */}\n                <div className=\"flex-1 overflow-auto\">\n                    {loading ? (\n                        <div className=\"flex items-center justify-center h-96\">\n                            Loading...\n                        </div>\n                    ) : (\n                        <>\n                            {/* TOP DETAILS SECTION */}\n                            <TaskDetailsSection task={task} />\n\n                            {/* TABS */}\n                            <div className=\"px-6 mt-4 border-b flex gap-8 text-sm\">\n                                {[\"files\", \"subtasks\", \"timesheet\", \"notes\"].map((t) => (\n                                    <button\n                                        key={t}\n                                        className={`pb-3 ${activeTab === t\n                                            ? \"border-b-2 border-blue-600 text-blue-600 font-medium\"\n                                            : \"text-gray-500\"\n                                            }`}\n                                        onClick={() => setActiveTab(t)}\n                                    >\n                                        {t === \"files\" && \"Files\"}\n                                        {t === \"subtasks\" && \"Sub Task\"}\n                                        {t === \"timesheet\" && \"Timesheet\"}\n                                        {t === \"notes\" && \"Notes\"}\n                                    </button>\n                                ))}\n                            </div>\n\n                            {/* TAB CONTENT */}\n                            <div className=\"p-6 min-h-[350px]\">\n                                {activeTab === \"files\" && <FilesTab taskId={taskId} />}\n                                {activeTab === \"subtasks\" && <SubTasksTab taskId={taskId} />}\n                                {activeTab === \"timesheet\" && (\n                                    <TimesheetTab taskId={taskId} />\n                                )}\n                                {activeTab === \"notes\" && <NotesTab taskId={taskId} />}\n                            </div>\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n","\"use client\";\n\nimport React from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { cn } from \"@/lib/utils\";\n\nexport default function TaskDetailsSection({ task }) {\n    if (!task) return null;\n\n    const assignedNames =\n        task?.assignedEmployees?.map((e) => e.name).join(\", \") || \"--\";\n\n    const labels =\n        task?.labels?.map((l) => l.name).join(\", \") || \"--\";\n\n    return (\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6 border-b\">\n\n            {/* ---------- LEFT SECTION ---------- */}\n            <Card className=\"p-6 rounded-2xl border-slate-200 shadow-sm\">\n                <button className=\"px-4 py-2 mb-6 bg-indigo-500 text-white rounded-xl text-sm\">\n                    Mark As Complete\n                </button>\n\n                <div className=\"grid grid-cols-2 gap-y-4 text-sm\">\n                    <p className=\"text-slate-500\">Project</p>\n                    <p className=\"text-slate-700\">{task.projectName || \"--\"}</p>\n\n                    <p className=\"text-slate-500\">Priority</p>\n                    <p className=\"flex items-center gap-2 text-slate-700\">\n                        <span\n                            className={cn(\n                                \"h-2 w-2 rounded-full inline-block\",\n                                task.priority === \"LOW\" && \"bg-green-500\",\n                                task.priority === \"MEDIUM\" && \"bg-yellow-500\",\n                                task.priority === \"HIGH\" && \"bg-red-500\"\n                            )}\n                        />\n                        {task.priority || \"--\"}\n                    </p>\n\n                    <p className=\"text-slate-500\">Assigned To</p>\n                    <p className=\"text-slate-700\">{assignedNames}</p>\n\n                    <p className=\"text-slate-500\">Project Code</p>\n                    <p className=\"text-slate-700\">\n                        {task.projectShortCode}-{task.id}\n                    </p>\n\n                    <p className=\"text-slate-500\">Milestones</p>\n                    <p className=\"text-slate-700\">\n                        {task.milestone?.title || \"--\"}\n                    </p>\n\n                    <p className=\"text-slate-500\">Label</p>\n                    <p className=\"text-slate-700\">{labels}</p>\n\n                    <p className=\"text-slate-500\">Task Category</p>\n                    <p className=\"text-slate-700\">\n                        {task.categoryId?.name || \"--\"}\n                    </p>\n\n                    <p className=\"text-slate-500\">Description</p>\n                    <p className=\"text-slate-700\">\n                        {task.description || \"--\"}\n                    </p>\n                </div>\n            </Card>\n\n            {/* ---------- RIGHT SECTION ---------- */}\n            <Card className=\"p-6 rounded-2xl border-slate-200 shadow-sm\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                    <span\n                        className=\"h-3 w-3 rounded-full\"\n                        style={{ backgroundColor: task?.taskStage?.labelColor || \"#3b82f6\" }}\n                    />\n                    <p className=\"font-medium text-slate-700\">\n                        {task?.taskStage?.name || \"--\"}\n                    </p>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-y-4 text-sm\">\n                    <p className=\"text-slate-500\">Created On</p>\n                    <p className=\"text-slate-700\">\n                        {formatDate(task.createdAt)}\n                    </p>\n\n                    <p className=\"text-slate-500\">Start Date</p>\n                    <p className=\"text-slate-700\">\n                        {formatShort(task.startDate) || \"--\"}\n                    </p>\n\n                    <p className=\"text-slate-500\">Due Date</p>\n                    <p className=\"text-slate-700\">\n                        {formatShort(task.dueDate) || \"--\"}\n                    </p>\n\n                    <p className=\"text-slate-500\">Hours Logged</p>\n                    <p className=\"text-slate-700\">\n                        {task.hoursLogged || 0}h\n                    </p>\n                </div>\n            </Card>\n\n        </div>\n    );\n}\n\n/* ---------- HELPERS ---------- */\nfunction formatDate(dateString) {\n    if (!dateString) return \"--\";\n    const d = new Date(dateString);\n    return d.toLocaleString(\"en-GB\", {\n        day: \"2-digit\",\n        month: \"2-digit\",\n        year: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n    });\n}\n\nfunction formatShort(dateString) {\n    if (!dateString) return \"--\";\n    const d = new Date(dateString);\n    return d.toLocaleDateString(\"en-GB\");\n}\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Loader2, Trash2, Upload } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\n\nconst MAIN_API = process.env.NEXT_PUBLIC_MAIN;\n\nexport default function FilesTab({ taskId }) {\n    const [files, setFiles] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [uploading, setUploading] = useState(false);\n\n    useEffect(() => {\n        fetchFiles();\n    }, [taskId]);\n\n    /* --------------------------------------------\n     * GET all files\n     * -------------------------------------------- */\n    async function fetchFiles() {\n        try {\n            setLoading(true);\n            const token = localStorage.getItem(\"accessToken\");\n\n            const res = await fetch(`${MAIN_API}/files/tasks/${taskId}`, {\n                headers: { Authorization: `Bearer ${token}` },\n            });\n\n            const data = await res.json();\n            setFiles(data || []);\n        } catch (err) {\n            console.error(\"Error fetching files:\", err);\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    /* --------------------------------------------\n     * Upload file\n     * -------------------------------------------- */\n    async function handleUploadFile(e) {\n        const file = e.target.files?.[0];\n        if (!file) return;\n\n        const fd = new FormData();\n        fd.append(\"file\", file);\n\n        try {\n            setUploading(true);\n            const token = localStorage.getItem(\"accessToken\");\n\n            const res = await fetch(`${MAIN_API}/files/tasks/${taskId}`, {\n                method: \"POST\",\n                headers: { Authorization: `Bearer ${token}` },\n                body: fd,\n            });\n\n            if (!res.ok) throw new Error(\"Upload failed\");\n\n            fetchFiles(); // refresh list\n        } catch (err) {\n            console.error(\"File upload error:\", err);\n        } finally {\n            setUploading(false);\n        }\n    }\n\n    /* --------------------------------------------\n     * Delete file\n     * -------------------------------------------- */\n    async function handleDelete(fileId) {\n        if (!confirm(\"Delete this file?\")) return;\n\n        try {\n            const token = localStorage.getItem(\"accessToken\");\n\n            await fetch(`${MAIN_API}/files/${fileId}`, {\n                method: \"DELETE\",\n                headers: { Authorization: `Bearer ${token}` },\n            });\n\n            setFiles((prev) => prev.filter((f) => f.id !== fileId));\n        } catch (err) {\n            console.error(\"Delete error:\", err);\n        }\n    }\n\n    return (\n        <div className=\"space-y-6\">\n\n            {/* Upload Button */}\n            <label className=\"flex items-center gap-2 text-indigo-600 cursor-pointer\">\n                <Upload size={18} />\n                <span className=\"text-sm\">Upload File</span>\n                <input\n                    type=\"file\"\n                    className=\"hidden\"\n                    onChange={handleUploadFile}\n                />\n            </label>\n\n            {uploading && (\n                <p className=\"text-xs text-slate-500\">Uploading...</p>\n            )}\n\n            {/* Files List */}\n            {loading ? (\n                <div className=\"flex justify-center py-10\">\n                    <Loader2 className=\"h-6 w-6 animate-spin text-slate-400\" />\n                </div>\n            ) : files.length === 0 ? (\n                <p className=\"text-slate-500 text-sm\">No files uploaded.</p>\n            ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {files.map((file) => (\n                        <Card\n                            key={file.id}\n                            className=\"p-4 flex items-center justify-between border border-slate-200 rounded-xl\"\n                        >\n                            {/* Left: file info */}\n                            <div>\n                                <p className=\"font-medium text-slate-700 text-sm\">\n                                    {file.filename}\n                                </p>\n                                <a\n                                    href={file.url}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    className=\"text-indigo-600 text-xs underline\"\n                                >\n                                    View / Download\n                                </a>\n                            </div>\n\n                            {/* Delete button */}\n                            <button\n                                onClick={() => handleDelete(file.id)}\n                                className=\"p-2 rounded-full hover:bg-red-50\"\n                            >\n                                <Trash2 size={16} className=\"text-red-500\" />\n                            </button>\n                        </Card>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Loader2, Trash2, Pencil } from \"lucide-react\";\n\nconst MAIN_API = process.env.NEXT_PUBLIC_MAIN;\n\nexport default function SubTasksTab({ taskId }) {\n    const [subtasks, setSubtasks] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n    const [editId, setEditId] = useState(null); // subtask being edited\n\n    useEffect(() => {\n        fetchSubtasks();\n    }, [taskId]);\n\n    /* --------------------------------------------\n     * GET ALL SUBTASKS\n     * -------------------------------------------- */\n    async function fetchSubtasks() {\n        try {\n            setLoading(true);\n            const token = localStorage.getItem(\"accessToken\");\n\n            const res = await fetch(`${MAIN_API}/tasks/${taskId}/subtasks`, {\n                headers: { Authorization: `Bearer ${token}` }\n            });\n\n            const data = await res.json();\n            setSubtasks(data || []);\n        } catch (err) {\n            console.error(\"Subtask fetch error:\", err);\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    /* --------------------------------------------\n     * CREATE SUBTASK\n     * -------------------------------------------- */\n    async function handleCreate() {\n        if (!title.trim()) return alert(\"Title is required\");\n\n        try {\n            const token = localStorage.getItem(\"accessToken\");\n\n            const res = await fetch(`${MAIN_API}/tasks/${taskId}/subtasks`, {\n                method: \"POST\",\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({ title, description }),\n            });\n\n            if (!res.ok) throw new Error(\"Failed to add subtask\");\n\n            setTitle(\"\");\n            setDescription(\"\");\n            fetchSubtasks();\n        } catch (err) {\n            console.error(\"Create error:\", err);\n        }\n    }\n\n    /* --------------------------------------------\n     * UPDATE SUBTASK\n     * -------------------------------------------- */\n    async function handleUpdate(subtaskId) {\n        try {\n            const token = localStorage.getItem(\"accessToken\");\n\n            const res = await fetch(\n                `${MAIN_API}/tasks/${taskId}/subtasks/${subtaskId}`,\n                {\n                    method: \"PATCH\",\n                    headers: {\n                        Authorization: `Bearer ${token}`,\n                        \"Content-Type\": \"application/json\",\n                    },\n                    body: JSON.stringify({ title, description }),\n                }\n            );\n\n            if (!res.ok) throw new Error(\"Update failed\");\n\n            setEditId(null);\n            setTitle(\"\");\n            setDescription(\"\");\n            fetchSubtasks();\n        } catch (err) {\n            console.error(\"Update error:\", err);\n        }\n    }\n\n    /* --------------------------------------------\n     * DELETE SUBTASK\n     * -------------------------------------------- */\n    async function handleDelete(subtaskId) {\n        if (!confirm(\"Delete this subtask?\")) return;\n\n        try {\n            const token = localStorage.getItem(\"accessToken\");\n\n            await fetch(`${MAIN_API}/tasks/${taskId}/subtasks/${subtaskId}`, {\n                method: \"DELETE\",\n                headers: { Authorization: `Bearer ${token}` },\n            });\n\n            setSubtasks((prev) => prev.filter((s) => s.id !== subtaskId));\n        } catch (err) {\n            console.error(\"Delete error:\", err);\n        }\n    }\n\n    return (\n        <div className=\"space-y-6\">\n\n            {/* ------------ ADD or EDIT SUBTASK FORM ------------ */}\n            <Card className=\"p-4 rounded-xl border-slate-200\">\n                <h3 className=\"font-semibold text-sm mb-3\">\n                    {editId ? \"Edit Sub Task\" : \"Add Sub Task\"}\n                </h3>\n\n                <div className=\"space-y-3\">\n                    <Input\n                        placeholder=\"Title\"\n                        value={title}\n                        onChange={(e) => setTitle(e.target.value)}\n                    />\n\n                    <Textarea\n                        placeholder=\"Description\"\n                        value={description}\n                        onChange={(e) => setDescription(e.target.value)}\n                    />\n\n                    {editId ? (\n                        <div className=\"flex gap-2\">\n                            <Button\n                                className=\"bg-indigo-500 text-white\"\n                                onClick={() => handleUpdate(editId)}\n                            >\n                                Update\n                            </Button>\n                            <Button\n                                variant=\"outline\"\n                                onClick={() => {\n                                    setEditId(null);\n                                    setTitle(\"\");\n                                    setDescription(\"\");\n                                }}\n                            >\n                                Cancel\n                            </Button>\n                        </div>\n                    ) : (\n                        <Button\n                            className=\"bg-indigo-500 text-white\"\n                            onClick={handleCreate}\n                        >\n                            Add Sub Task\n                        </Button>\n                    )}\n                </div>\n            </Card>\n\n            {/* ------------ SUBTASKS LIST ------------ */}\n            {loading ? (\n                <div className=\"flex justify-center py-10\">\n                    <Loader2 className=\"animate-spin text-slate-400\" size={26} />\n                </div>\n            ) : subtasks.length === 0 ? (\n                <p className=\"text-slate-500 text-sm\">No sub tasks found.</p>\n            ) : (\n                <div className=\"space-y-3\">\n                    {subtasks.map((sub) => (\n                        <Card\n                            key={sub.id}\n                            className=\"p-4 rounded-xl border-slate-200 flex justify-between items-start\"\n                        >\n                            <div>\n                                <p className=\"font-medium text-slate-700\">\n                                    {sub.title}\n                                </p>\n                                <p className=\"text-slate-500 text-sm\">\n                                    {sub.description}\n                                </p>\n                            </div>\n\n                            <div className=\"flex gap-3\">\n                                <button\n                                    onClick={() => {\n                                        setEditId(sub.id);\n                                        setTitle(sub.title);\n                                        setDescription(sub.description);\n                                    }}\n                                    className=\"p-2 hover:bg-slate-100 rounded-full\"\n                                >\n                                    <Pencil size={18} className=\"text-slate-600\" />\n                                </button>\n\n                                <button\n                                    onClick={() => handleDelete(sub.id)}\n                                    className=\"p-2 hover:bg-red-50 rounded-full\"\n                                >\n                                    <Trash2 size={18} className=\"text-red-500\" />\n                                </button>\n                            </div>\n                        </Card>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Loader2 } from \"lucide-react\";\n\nconst MAIN_API = process.env.NEXT_PUBLIC_MAIN;\n\nexport default function TimesheetTab({ taskId }) {\n    const [records, setRecords] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        fetchTimesheet();\n    }, [taskId]);\n\n    /* --------------------------------------------\n     * GET timesheet records for this task\n     * -------------------------------------------- */\n    async function fetchTimesheet() {\n        try {\n            setLoading(true);\n            const token = localStorage.getItem(\"accessToken\");\n\n            const res = await fetch(\n                `${MAIN_API}/timesheets/task/${taskId}`,\n                { headers: { Authorization: `Bearer ${token}` } }\n            );\n\n            const data = await res.json();\n            setRecords(data || []);\n        } catch (err) {\n            console.error(\"Timesheet fetch error:\", err);\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return (\n        <div className=\"space-y-6\">\n\n            {/* --------- Loading --------- */}\n            {loading ? (\n                <div className=\"flex justify-center py-10\">\n                    <Loader2 className=\"animate-spin text-slate-400\" size={26} />\n                </div>\n            ) : records.length === 0 ? (\n                <p className=\"text-slate-500 text-sm\">No timesheet entries found.</p>\n            ) : (\n                <Card className=\"rounded-xl border border-slate-200 overflow-hidden shadow-sm\">\n                    <table className=\"w-full text-sm\">\n                        <thead className=\"bg-slate-100 text-slate-600\">\n                            <tr>\n                                <th className=\"text-left px-4 py-3\">Employee</th>\n                                <th className=\"text-left px-4 py-3\">Start</th>\n                                <th className=\"text-left px-4 py-3\">End</th>\n                                <th className=\"text-left px-4 py-3\">Duration</th>\n                                <th className=\"text-left px-4 py-3\">Memo</th>\n                            </tr>\n                        </thead>\n\n                        <tbody>\n                            {records.map((rec) => (\n                                <tr\n                                    key={rec.id}\n                                    className=\"border-t border-slate-200 hover:bg-slate-50\"\n                                >\n                                    {/* Employee */}\n                                    <td className=\"px-4 py-3 flex items-center gap-3\">\n                                        {rec.employees?.[0]?.profileUrl ? (\n                                            <img\n                                                src={rec.employees[0].profileUrl}\n                                                alt=\"avatar\"\n                                                className=\"h-8 w-8 rounded-full object-cover\"\n                                            />\n                                        ) : (\n                                            <div className=\"h-8 w-8 rounded-full bg-slate-300\" />\n                                        )}\n                                        <div>\n                                            <p className=\"font-medium text-slate-700\">\n                                                {rec.employees?.[0]?.name || \"Unknown\"}\n                                            </p>\n                                            <p className=\"text-xs text-slate-500\">\n                                                {rec.employees?.[0]?.designation || \"\"}\n                                            </p>\n                                        </div>\n                                    </td>\n\n                                    {/* Start Date / Time */}\n                                    <td className=\"px-4 py-3\">\n                                        <p className=\"text-slate-700\">{rec.startDate}</p>\n                                        <p className=\"text-xs text-slate-500\">{rec.startTime}</p>\n                                    </td>\n\n                                    {/* End Date / Time */}\n                                    <td className=\"px-4 py-3\">\n                                        <p className=\"text-slate-700\">{rec.endDate}</p>\n                                        <p className=\"text-xs text-slate-500\">{rec.endTime}</p>\n                                    </td>\n\n                                    {/* Duration */}\n                                    <td className=\"px-4 py-3 text-slate-700\">\n                                        {rec.durationHours}h\n                                    </td>\n\n                                    {/* Memo */}\n                                    <td className=\"px-4 py-3 text-slate-500\">\n                                        {rec.memo || \"--\"}\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </Card>\n            )}\n        </div>\n    );\n}\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Loader2, Trash2 } from \"lucide-react\";\n\nconst MAIN_API = process.env.NEXT_PUBLIC_MAIN;\n\nexport default function NotesTab({ taskId }) {\n    const [notes, setNotes] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const [title, setTitle] = useState(\"\");\n    const [content, setContent] = useState(\"\");\n    const [isPublic, setIsPublic] = useState(true);\n\n    useEffect(() => {\n        fetchNotes();\n    }, [taskId]);\n\n    /* ------------------------------\n     * GET Notes for task\n     * ------------------------------ */\n    async function fetchNotes() {\n        try {\n            setLoading(true);\n            const token = localStorage.getItem(\"accessToken\");\n\n            const res = await fetch(`${MAIN_API}/tasks/${taskId}/notes`, {\n                headers: { Authorization: `Bearer ${token}` }\n            });\n\n            const data = await res.json();\n            setNotes(data || []);\n        } catch (err) {\n            console.error(\"Notes fetch error:\", err);\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    /* ------------------------------\n     * CREATE Note\n     * ------------------------------ */\n    async function handleCreate() {\n        if (!title.trim() || !content.trim()) {\n            return alert(\"Title and content are required\");\n        }\n\n        try {\n            const token = localStorage.getItem(\"accessToken\");\n\n            const res = await fetch(`${MAIN_API}/tasks/${taskId}/notes`, {\n                method: \"POST\",\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    title,\n                    content,\n                    isPublic,\n                }),\n            });\n\n            if (!res.ok) throw new Error(\"Failed to create note\");\n\n            const newNote = await res.json();\n\n            setNotes((prev) => [newNote, ...prev]);\n            setTitle(\"\");\n            setContent(\"\");\n        } catch (err) {\n            console.error(\"Create note error:\", err);\n        }\n    }\n\n    /* ------------------------------\n     * DELETE Note\n     * ------------------------------ */\n    async function handleDelete(noteId) {\n        if (!confirm(\"Delete this note?\")) return;\n\n        try {\n            const token = localStorage.getItem(\"accessToken\");\n\n            await fetch(`${MAIN_API}/notes/task/${noteId}`, {\n                method: \"DELETE\",\n                headers: { Authorization: `Bearer ${token}` },\n            });\n\n            setNotes((prev) => prev.filter((n) => n.id !== noteId));\n        } catch (err) {\n            console.error(\"Delete error:\", err);\n        }\n    }\n\n    return (\n        <div className=\"space-y-6\">\n\n            {/* --- CREATE NOTE FORM --- */}\n            <Card className=\"p-4 rounded-xl border-slate-200\">\n                <h3 className=\"font-semibold text-sm mb-3\">Add Note</h3>\n\n                <div className=\"space-y-3\">\n                    <Input\n                        placeholder=\"Note Title\"\n                        value={title}\n                        onChange={(e) => setTitle(e.target.value)}\n                    />\n\n                    <Textarea\n                        placeholder=\"Write your note here...\"\n                        value={content}\n                        onChange={(e) => setContent(e.target.value)}\n                    />\n\n                    <div className=\"flex items-center gap-2\">\n                        <input\n                            type=\"checkbox\"\n                            checked={isPublic}\n                            onChange={(e) => setIsPublic(e.target.checked)}\n                        />\n                        <span className=\"text-sm text-slate-600\">\n                            Public Note\n                        </span>\n                    </div>\n\n                    <Button\n                        className=\"bg-indigo-500 text-white\"\n                        onClick={handleCreate}\n                    >\n                        Add Note\n                    </Button>\n                </div>\n            </Card>\n\n            {/* --- NOTES LIST --- */}\n            {loading ? (\n                <div className=\"flex justify-center py-10\">\n                    <Loader2 className=\"animate-spin text-slate-400\" size={26} />\n                </div>\n            ) : notes.length === 0 ? (\n                <p className=\"text-slate-500 text-sm\">No notes found.</p>\n            ) : (\n                <div className=\"space-y-4\">\n                    {notes.map((note) => (\n                        <Card\n                            key={note.id}\n                            className=\"p-4 rounded-xl border-slate-200\"\n                        >\n                            <div className=\"flex justify-between\">\n                                <div>\n                                    <p className=\"font-medium text-slate-800\">\n                                        {note.title}\n                                    </p>\n                                    <p className=\"text-xs text-slate-500\">\n                                        {note.isPublic ? \"Public\" : \"Private\"}\n                                    </p>\n                                </div>\n\n                                <button\n                                    onClick={() => handleDelete(note.id)}\n                                    className=\"p-2 hover:bg-red-50 rounded-full\"\n                                >\n                                    <Trash2 size={18} className=\"text-red-600\" />\n                                </button>\n                            </div>\n\n                            <p className=\"mt-3 text-sm text-slate-700\">\n                                {note.content}\n                            </p>\n\n                            <p className=\"mt-2 text-xs text-slate-400\">\n                                Created by {note.ownerEmployeeId}\n                            </p>\n                        </Card>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { X, Loader2 } from \"lucide-react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport {\n    Select,\n    SelectTrigger,\n    SelectContent,\n    SelectItem,\n    SelectValue,\n} from \"@/components/ui/select\";\n\nconst MAIN = process.env.NEXT_PUBLIC_MAIN;\n\nexport default function EditTaskDrawer({\n    open,\n    onOpenChange,\n    taskId,\n    onUpdated\n}) {\n    // --------------- FORM STATES ---------------\n    const [title, setTitle] = useState(\"\");\n    const [category, setCategory] = useState(\"\");\n    const [projectId, setProjectId] = useState(\"\");\n    const [startDate, setStartDate] = useState(\"\");\n    const [dueDate, setDueDate] = useState(\"\");\n    const [taskStageId, setTaskStageId] = useState(\"\");\n    const [assignedEmployeeIds, setAssignedEmployeeIds] = useState<string[]>([]);\n    const [description, setDescription] = useState(\"\");\n    const [labelIds, setLabelIds] = useState<string[]>([]);\n    const [priority, setPriority] = useState(\"\");\n    const [isPrivate, setIsPrivate] = useState(false);\n    const [timeEstimate, setTimeEstimate] = useState(false);\n    const [timeEstimateMinutes, setTimeEstimateMinutes] = useState(\"\");\n    const [isDependent, setIsDependent] = useState(false);\n    const [milestoneId, setMilestoneId] = useState(\"\");\n\n    const [loading, setLoading] = useState(false);\n\n    // -------- API Collections --------\n    const [categories, setCategories] = useState<any[]>([]);\n    const [projects, setProjects] = useState<any[]>([]);\n    const [stages, setStages] = useState<any[]>([]);\n    const [employees, setEmployees] = useState<any[]>([]);\n    const [milestones, setMilestones] = useState<any[]>([]);\n    const [labels, setLabels] = useState<any[]>([]);\n\n    const token =\n        typeof window !== \"undefined\"\n            ? localStorage.getItem(\"accessToken\")\n            : null;\n\n    // ---------- FETCH TASK DETAILS FOR EDIT ----------\n    useEffect(() => {\n        if (open && taskId) fetchTask();\n    }, [open, taskId]);\n\n    async function fetchTask() {\n        setLoading(true);\n        try {\n            const res = await fetch(`${MAIN}/projects/tasks/${taskId}`, {\n                method: \"GET\",\n                headers: { Authorization: `Bearer ${token}` },\n            });\n\n            const t = await res.json();\n\n            // Pre-fill states\n            setTitle(t.title || \"\");\n            setCategory(String(t.categoryId?.id ?? \"\"));\n            setProjectId(String(t.projectId ?? \"\"));\n            setStartDate(t.startDate ?? \"\");\n            setDueDate(t.dueDate ?? \"\");\n            setTaskStageId(String(t.taskStageId ?? \"\"));\n            setDescription(t.description ?? \"\");\n            setPriority(t.priority ?? \"\");\n            setIsPrivate(t.isPrivate ?? false);\n            setTimeEstimate(t.timeEstimate ?? false);\n            setTimeEstimateMinutes(String(t.timeEstimateMinutes ?? \"\"));\n            setIsDependent(t.isDependent ?? false);\n            setMilestoneId(String(t.milestoneId ?? \"\"));\n            setAssignedEmployeeIds(t.assignedEmployeeIds ?? []);\n            setLabelIds((t.labels ?? []).map((l) => String(l.id)));\n\n            // Load dependent APIS\n            fetchMilestones(String(t.projectId));\n            fetchLabels(String(t.projectId));\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    // ---------- FETCH ALL STATIC DATA ----------\n    useEffect(() => {\n        if (open) {\n            fetchCategories();\n            fetchProjects();\n            fetchStages();\n            fetchEmployees();\n        }\n    }, [open]);\n\n    const fetchCategories = async () => {\n        const res = await fetch(`${MAIN}/task/task-categories`, {\n            method: \"GET\",\n            headers: { Authorization: `Bearer ${token}` },\n        });\n        setCategories(await res.json());\n    };\n\n    const fetchProjects = async () => {\n        const res = await fetch(`${MAIN}/api/projects`, {\n            method: \"GET\",\n            headers: { Authorization: `Bearer ${token}` },\n        });\n        setProjects(await res.json());\n    };\n\n    const fetchStages = async () => {\n        const res = await fetch(`${MAIN}/status`, {\n            method: \"GET\",\n            headers: { Authorization: `Bearer ${token}` },\n        });\n        setStages(await res.json());\n    };\n\n    const fetchEmployees = async () => {\n        const res = await fetch(`${MAIN}/employee/all`, {\n            method: \"GET\",\n            headers: { Authorization: `Bearer ${token}` },\n        });\n        setEmployees(await res.json());\n    };\n\n    const fetchMilestones = async (pid: string) => {\n        if (!pid) return;\n        const res = await fetch(`${MAIN}/api/projects/${pid}/milestones`, {\n            method: \"GET\",\n            headers: { Authorization: `Bearer ${token}` },\n        });\n        setMilestones(await res.json());\n    };\n\n    const fetchLabels = async (pid: string) => {\n        if (!pid) return;\n        const res = await fetch(`${MAIN}/projects/${pid}/labels`, {\n            method: \"GET\",\n            headers: { Authorization: `Bearer ${token}` },\n        });\n        setLabels(await res.json());\n    };\n\n    // ----------- MULTI-SELECT HANDLER -----------\n    const toggle = (arr: string[], v: string) =>\n        arr.includes(v)\n            ? arr.filter((x) => x !== v)\n            : [...arr, v];\n\n    // ----------- UPDATE API (PUT) -----------\n    const handleUpdate = async () => {\n        setLoading(true);\n        try {\n            const fd = new FormData();\n\n            fd.append(\"title\", title);\n            fd.append(\"category\", category);\n            fd.append(\"projectId\", projectId);\n            fd.append(\"startDate\", startDate);\n            fd.append(\"dueDate\", dueDate);\n            fd.append(\"taskStageId\", taskStageId);\n            fd.append(\"description\", description);\n            fd.append(\"priority\", priority);\n            fd.append(\"isPrivate\", String(isPrivate));\n            fd.append(\"timeEstimate\", String(timeEstimate));\n            fd.append(\"timeEstimateMinutes\", timeEstimateMinutes);\n            fd.append(\"isDependent\", String(isDependent));\n            fd.append(\"milestoneId\", milestoneId);\n\n            assignedEmployeeIds.forEach((id) =>\n                fd.append(\"assignedEmployeeIds\", id)\n            );\n\n            labelIds.forEach((id) => fd.append(\"labelIds\", id));\n\n            const res = await fetch(`${MAIN}/api/projects/tasks/${taskId}`, {\n                method: \"PUT\",\n                headers: { Authorization: `Bearer ${token}` },\n                body: fd,\n            });\n\n            if (!res.ok) throw new Error(\"Update failed\");\n\n            onUpdated();\n            onOpenChange(false);\n        } catch (e) {\n            alert(\"Failed to update task\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // --------------- UI DRAWER ---------------\n    return (\n        <div\n            className={`fixed inset-0 z-[999] bg-black/30 transition-opacity duration-300\n                ${open ? \"opacity-100 visible\" : \"opacity-0 invisible\"}`}\n        >\n            <div\n                className={`\n                    fixed right-0 top-0 h-full w-[83vw] max-w-[83vw] bg-white \n                    shadow-xl border-l overflow-y-auto\n                    transform transition-transform duration-300\n                    ${open ? \"translate-x-0\" : \"translate-x-full\"}\n                `}\n            >\n                {/* HEADER */}\n                <div className=\"flex items-center justify-between px-6 py-4 border-b bg-white\">\n                    <h2 className=\"text-xl font-semibold\">Edit Task</h2>\n\n                    <button\n                        onClick={() => onOpenChange(false)}\n                        className=\"p-2 rounded hover:bg-gray-100\"\n                    >\n                        <X className=\"w-5 h-5 text-gray-600\" />\n                    </button>\n                </div>\n\n                {/* BODY */}\n                <div className=\"p-6 space-y-6\">\n                    {loading ? (\n                        <div className=\"flex justify-center py-20\">\n                            <Loader2 className=\"w-8 h-8 animate-spin text-gray-500\" />\n                        </div>\n                    ) : (\n                        <>\n                            {/* ------------ Title ------------ */}\n                            <div>\n                                <Label>Title *</Label>\n                                <Input\n                                    value={title}\n                                    onChange={(e) => setTitle(e.target.value)}\n                                />\n                            </div>\n\n                            {/* ------------ Category ------------ */}\n                            <div>\n                                <Label>Category *</Label>\n                                <Select\n                                    value={category}\n                                    onValueChange={setCategory}\n                                >\n                                    <SelectTrigger>\n                                        <SelectValue placeholder=\"Select\" />\n                                    </SelectTrigger>\n                                    <SelectContent>\n                                        {categories.map((c) => (\n                                            <SelectItem key={c.id} value={String(c.id)}>\n                                                {c.name}\n                                            </SelectItem>\n                                        ))}\n                                    </SelectContent>\n                                </Select>\n                            </div>\n\n                            {/* ------------ Project ------------ */}\n                            <div>\n                                <Label>Project *</Label>\n                                <Select\n                                    value={projectId}\n                                    onValueChange={(v) => {\n                                        setProjectId(v);\n                                        fetchMilestones(v);\n                                        fetchLabels(v);\n                                    }}\n                                >\n                                    <SelectTrigger>\n                                        <SelectValue placeholder=\"Select project\" />\n                                    </SelectTrigger>\n                                    <SelectContent>\n                                        {projects.map((p) => (\n                                            <SelectItem key={p.id} value={String(p.id)}>\n                                                {p.shortCode} - {p.name}\n                                            </SelectItem>\n                                        ))}\n                                    </SelectContent>\n                                </Select>\n                            </div>\n\n                            {/* ------------ Milestone ------------ */}\n                            <div>\n                                <Label>Milestone *</Label>\n                                <Select\n                                    value={milestoneId}\n                                    onValueChange={setMilestoneId}\n                                >\n                                    <SelectTrigger>\n                                        <SelectValue placeholder=\"Select milestone\" />\n                                    </SelectTrigger>\n                                    <SelectContent>\n                                        {milestones.map((m) => (\n                                            <SelectItem key={m.id} value={String(m.id)}>\n                                                {m.title}\n                                            </SelectItem>\n                                        ))}\n                                    </SelectContent>\n                                </Select>\n                            </div>\n\n                            {/* ------------ Stage ------------ */}\n                            <div>\n                                <Label>Task Stage *</Label>\n                                <Select\n                                    value={taskStageId}\n                                    onValueChange={setTaskStageId}\n                                >\n                                    <SelectTrigger>\n                                        <SelectValue placeholder=\"Select stage\" />\n                                    </SelectTrigger>\n                                    <SelectContent>\n                                        {stages.map((s) => (\n                                            <SelectItem key={s.id} value={String(s.id)}>\n                                                {s.name}\n                                            </SelectItem>\n                                        ))}\n                                    </SelectContent>\n                                </Select>\n                            </div>\n\n                            {/* ------------ Assign Employees ------------ */}\n                            <div>\n                                <Label>Assign To</Label>\n                                <div className=\"grid grid-cols-2 gap-2 pt-2\">\n                                    {employees.map((emp) => (\n                                        <label\n                                            key={emp.employeeId}\n                                            className=\"flex items-center gap-2\"\n                                        >\n                                            <Checkbox\n                                                checked={assignedEmployeeIds.includes(\n                                                    emp.employeeId\n                                                )}\n                                                onCheckedChange={() =>\n                                                    setAssignedEmployeeIds(\n                                                        toggle(\n                                                            assignedEmployeeIds,\n                                                            emp.employeeId\n                                                        )\n                                                    )\n                                                }\n                                            />\n                                            {emp.name}\n                                        </label>\n                                    ))}\n                                </div>\n                            </div>\n\n                            {/* ------------ Labels ------------ */}\n                            <div>\n                                <Label>Labels</Label>\n                                <div className=\"grid grid-cols-2 gap-2 pt-2\">\n                                    {labels.map((l) => (\n                                        <label\n                                            key={l.id}\n                                            className=\"flex items-center gap-2\"\n                                        >\n                                            <Checkbox\n                                                checked={labelIds.includes(String(l.id))}\n                                                onCheckedChange={() =>\n                                                    setLabelIds(\n                                                        toggle(labelIds, String(l.id))\n                                                    )\n                                                }\n                                            />\n                                            {l.name}\n                                        </label>\n                                    ))}\n                                </div>\n                            </div>\n\n                            {/* ------------ Dates ------------ */}\n                            <div className=\"grid grid-cols-2 gap-4\">\n                                <div>\n                                    <Label>Start Date *</Label>\n                                    <Input\n                                        type=\"date\"\n                                        value={startDate}\n                                        onChange={(e) => setStartDate(e.target.value)}\n                                    />\n                                </div>\n\n                                <div>\n                                    <Label>Due Date *</Label>\n                                    <Input\n                                        type=\"date\"\n                                        value={dueDate}\n                                        onChange={(e) => setDueDate(e.target.value)}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* ------------ Description ------------ */}\n                            <div>\n                                <Label>Description</Label>\n                                <Textarea\n                                    value={description}\n                                    onChange={(e) => setDescription(e.target.value)}\n                                />\n                            </div>\n\n                            {/* ------------ Priority ------------ */}\n                            <div>\n                                <Label>Priority *</Label>\n                                <Select value={priority} onValueChange={setPriority}>\n                                    <SelectTrigger>\n                                        <SelectValue placeholder=\"Select priority\" />\n                                    </SelectTrigger>\n                                    <SelectContent>\n                                        <SelectItem value=\"LOW\">Low</SelectItem>\n                                        <SelectItem value=\"MEDIUM\">Medium</SelectItem>\n                                        <SelectItem value=\"HIGH\">High</SelectItem>\n                                    </SelectContent>\n                                </Select>\n                            </div>\n\n                            {/* ------------ Toggles ------------ */}\n                            <div className=\"grid grid-cols-2 gap-4\">\n                                <label className=\"flex items-center gap-2\">\n                                    <Checkbox\n                                        checked={isPrivate}\n                                        onCheckedChange={(v) => setIsPrivate(Boolean(v))}\n                                    />\n                                    Private Task\n                                </label>\n\n                                <label className=\"flex items-center gap-2\">\n                                    <Checkbox\n                                        checked={isDependent}\n                                        onCheckedChange={(v) =>\n                                            setIsDependent(Boolean(v))\n                                        }\n                                    />\n                                    Dependent Task\n                                </label>\n\n                                <label className=\"flex items-center gap-2\">\n                                    <Checkbox\n                                        checked={timeEstimate}\n                                        onCheckedChange={(v) =>\n                                            setTimeEstimate(Boolean(v))\n                                        }\n                                    />\n                                    Time Estimate\n                                </label>\n\n                                {timeEstimate && (\n                                    <Input\n                                        placeholder=\"Minutes\"\n                                        value={timeEstimateMinutes}\n                                        onChange={(e) =>\n                                            setTimeEstimateMinutes(e.target.value)\n                                        }\n                                    />\n                                )}\n                            </div>\n                        </>\n                    )}\n                </div>\n\n                {/* FOOTER */}\n                <div className=\"flex justify-end gap-3 p-6 border-t bg-white\">\n                    <button\n                        onClick={() => onOpenChange(false)}\n                        className=\"px-5 py-2 rounded-md border\"\n                    >\n                        Cancel\n                    </button>\n\n                    <button\n                        onClick={handleUpdate}\n                        disabled={loading}\n                        className=\"px-5 py-2 bg-indigo-600 text-white rounded-md\"\n                    >\n                        {loading ? (\n                            <Loader2 className=\"w-4 h-4 animate-spin\" />\n                        ) : (\n                            \"Update Task\"\n                        )}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectTrigger,\n  SelectContent,\n  SelectItem,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Loader2 } from \"lucide-react\";\n\n/* ================= PROPS ================= */\ninterface DuplicateTaskModalProps {\n  open: boolean;\n  onOpenChange: (v: boolean) => void;\n  onCreated: () => void;\n  task: any; // existing task to duplicate\n}\n\n/* ================= COMPONENT ================= */\nexport const DuplicateTaskModal: React.FC<DuplicateTaskModalProps> = ({\n  open,\n  onOpenChange,\n  onCreated,\n  task,\n}) => {\n  const MAIN = process.env.NEXT_PUBLIC_MAIN;\n  const token =\n    typeof window !== \"undefined\"\n      ? window.localStorage.getItem(\"accessToken\")\n      : null;\n\n  /* ================= FORM STATES ================= */\n  const [title, setTitle] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [projectId, setProjectId] = useState(\"\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [dueDate, setDueDate] = useState(\"\");\n  const [taskStageId, setTaskStageId] = useState(\"\");\n  const [assignedEmployeeIds, setAssignedEmployeeIds] = useState<string[]>([]);\n  const [description, setDescription] = useState(\"\");\n  const [labelIds, setLabelIds] = useState<string[]>([]);\n  const [priority, setPriority] = useState(\"\");\n  const [isPrivate, setIsPrivate] = useState(false);\n  const [timeEstimate, setTimeEstimate] = useState(false);\n  const [timeEstimateMinutes, setTimeEstimateMinutes] = useState(\"\");\n  const [isDependent, setIsDependent] = useState(false);\n  const [milestoneId, setMilestoneId] = useState(\"\");\n  const [file, setFile] = useState<File | null>(null);\n\n  const [loading, setLoading] = useState(false);\n\n  /* ================= API DATA ================= */\n  const [categories, setCategories] = useState<any[]>([]);\n  const [projects, setProjects] = useState<any[]>([]);\n  const [stages, setStages] = useState<any[]>([]);\n  const [employees, setEmployees] = useState<any[]>([]);\n  const [milestones, setMilestones] = useState<any[]>([]);\n  const [labels, setLabels] = useState<any[]>([]);\n\n  /* ================= FETCHERS ================= */\n  const fetchCategories = async () => {\n    const res = await fetch(`${MAIN}/task/task-categories`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    setCategories(await res.json());\n  };\n\n  const fetchProjects = async () => {\n    const res = await fetch(`${MAIN}/api/projects`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    setProjects(await res.json());\n  };\n\n  const fetchStages = async () => {\n    const res = await fetch(`${MAIN}/status`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    setStages(await res.json());\n  };\n\n  const fetchEmployees = async () => {\n    const res = await fetch(`${MAIN}/employee/all`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    setEmployees(await res.json());\n  };\n\n  const fetchMilestones = async (pid: string) => {\n    if (!pid) return;\n    const res = await fetch(`${MAIN}/api/projects/${pid}/milestones`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    setMilestones(await res.json());\n  };\n\n  const fetchLabels = async (pid: string) => {\n    if (!pid) return;\n    const res = await fetch(`${MAIN}/projects/${pid}/labels`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    setLabels(await res.json());\n  };\n\n  /* ================= INITIAL LOAD ================= */\n  useEffect(() => {\n    if (!open) return;\n\n    fetchCategories();\n    fetchProjects();\n    fetchStages();\n    fetchEmployees();\n  }, [open]);\n\n  /* ================= PREFILL DATA ================= */\n  useEffect(() => {\n    if (!open || !task) return;\n\n    setTitle(task.title || \"\");\n    setCategory(String(task.categoryId || \"\"));\n    setProjectId(String(task.projectId || \"\"));\n    setStartDate(task.startDate || \"\");\n    setDueDate(task.dueDate || \"\");\n    setTaskStageId(String(task.taskStageId || \"\"));\n    setDescription(task.description || \"\");\n    setPriority(task.priority || \"\");\n    setIsPrivate(Boolean(task.isPrivate));\n    setTimeEstimate(Boolean(task.timeEstimate));\n    setTimeEstimateMinutes(\n      task.timeEstimateMinutes ? String(task.timeEstimateMinutes) : \"\"\n    );\n    setIsDependent(Boolean(task.isDependent));\n    setMilestoneId(String(task.milestoneId || \"\"));\n\n    setAssignedEmployeeIds(\n      task.assignedEmployees?.map((e: any) => e.employeeId) || []\n    );\n\n    setLabelIds(task.labels?.map((l: any) => String(l.id)) || []);\n  }, [open, task]);\n\n  /* ================= DEPENDENCIES ================= */\n  useEffect(() => {\n    if (projectId) {\n      fetchMilestones(projectId);\n      fetchLabels(projectId);\n    }\n  }, [projectId]);\n\n  /* ================= HELPERS ================= */\n  const toggle = (arr: string[], v: string) =>\n    arr.includes(v) ? arr.filter((x) => x !== v) : [...arr, v];\n\n  /* ================= SUBMIT ================= */\n  const handleSave = async () => {\n    try {\n      setLoading(true);\n\n      const fd = new FormData();\n      fd.append(\"title\", title);\n      fd.append(\"category\", category);\n      fd.append(\"projectId\", projectId);\n      fd.append(\"startDate\", startDate);\n      fd.append(\"dueDate\", dueDate);\n      fd.append(\"taskStageId\", taskStageId);\n      fd.append(\"description\", description);\n      fd.append(\"priority\", priority);\n      fd.append(\"isPrivate\", String(isPrivate));\n      fd.append(\"timeEstimate\", String(timeEstimate));\n      fd.append(\"timeEstimateMinutes\", timeEstimateMinutes);\n      fd.append(\"isDependent\", String(isDependent));\n      fd.append(\"milestoneId\", milestoneId);\n\n      assignedEmployeeIds.forEach((id) =>\n        fd.append(\"assignedEmployeeIds\", id)\n      );\n      labelIds.forEach((id) => fd.append(\"labelIds\", id));\n\n      if (file) fd.append(\"taskFile\", file);\n\n      const res = await fetch(`${MAIN}/api/projects/tasks`, {\n        method: \"POST\",\n        body: fd,\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      if (!res.ok) throw new Error(\"Failed\");\n\n      onCreated();\n      onOpenChange(false);\n    } catch (e) {\n      console.error(e);\n      alert(\"Failed to duplicate task\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  /* ================= UI ================= */\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-h-[95vh] w-[900px] overflow-y-auto rounded-xl\">\n        <DialogHeader>\n          <DialogTitle>Duplicate Task</DialogTitle>\n        </DialogHeader>\n\n        {/* SAME UI AS ADD TASK */}\n        {/* (UI intentionally kept identical) */}\n\n   <div className=\"grid gap-5\">\n                    {/* Title */}\n                    <div>\n                        <Label>Title *</Label>\n                        <Input value={title} onChange={(e) => setTitle(e.target.value)} />\n                    </div>\n\n                    {/* Category */}\n                    <div>\n                        <Label>Category *</Label>\n                        <Select onValueChange={setCategory}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select category\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {categories.map((c) => (\n                                    <SelectItem value={String(c.id)} key={c.id}>\n                                        {c.name}\n                                    </SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* Project */}\n                    <div>\n                        <Label>Project *</Label>\n                        <Select onValueChange={setProjectId}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select project\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {projects.map((p) => (\n                                    <SelectItem value={String(p.id)} key={p.id}>\n                                        {p.shortCode} - {p.name}\n                                    </SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* Milestones */}\n                    <div>\n                        <Label>Milestone *</Label>\n                        <Select onValueChange={setMilestoneId}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select milestone\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {milestones.map((m) => (\n                                    <SelectItem value={String(m.id)} key={m.id}>\n                                        {m.title}\n                                    </SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* Stage */}\n                    <div>\n                        <Label>Task Stage *</Label>\n                        <Select onValueChange={setTaskStageId}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select stage\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                {stages.map((s) => (\n                                    <SelectItem value={String(s.id)} key={s.id}>\n                                        {s.name}\n                                    </SelectItem>\n                                ))}\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* Assigned Employees */}\n                    <div>\n                        <Label>Assign To *</Label>\n                        <div className=\"grid grid-cols-2 gap-2 pt-2\">\n                            {employees.map((emp) => (\n                                <div key={emp.employeeId} className=\"flex items-center gap-2\">\n                                    <Checkbox\n                                        checked={assignedEmployeeIds.includes(emp.employeeId)}\n                                        onCheckedChange={() =>\n                                            setAssignedEmployeeIds(\n                                                toggle(assignedEmployeeIds, emp.employeeId)\n                                            )\n                                        }\n                                    />\n                                    <span className=\"text-sm\">{emp.name}</span>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Labels */}\n                    <div>\n                        <Label>Labels *</Label>\n                        <div className=\"grid grid-cols-2 gap-2 pt-2\">\n                            {labels.map((l) => (\n                                <div key={l.id} className=\"flex items-center gap-2\">\n                                    <Checkbox\n                                        checked={labelIds.includes(String(l.id))}\n                                        onCheckedChange={() =>\n                                            setLabelIds(toggle(labelIds, String(l.id)))\n                                        }\n                                    />\n                                    <span>{l.name}</span>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Dates */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                            <Label>Start Date *</Label>\n                            <Input\n                                type=\"date\"\n                                value={startDate}\n                                onChange={(e) => setStartDate(e.target.value)}\n                            />\n                        </div>\n\n                        <div>\n                            <Label>Due Date *</Label>\n                            <Input\n                                type=\"date\"\n                                value={dueDate}\n                                onChange={(e) => setDueDate(e.target.value)}\n                            />\n                        </div>\n                    </div>\n\n                    {/* Description */}\n                    <div>\n                        <Label>Description *</Label>\n                        <Textarea\n                            value={description}\n                            onChange={(e) => setDescription(e.target.value)}\n                        />\n                    </div>\n\n                    {/* Priority */}\n                    <div>\n                        <Label>Priority *</Label>\n                        <Select onValueChange={setPriority}>\n                            <SelectTrigger>\n                                <SelectValue placeholder=\"Select priority\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                                <SelectItem value=\"LOW\">Low</SelectItem>\n                                <SelectItem value=\"MEDIUM\">Medium</SelectItem>\n                                <SelectItem value=\"HIGH\">High</SelectItem>\n                            </SelectContent>\n                        </Select>\n                    </div>\n\n                    {/* Toggles */}\n                    <div className=\"grid grid-cols-2 gap-3\">\n                        <div className=\"flex gap-2 items-center\">\n                            <Checkbox\n                                checked={isPrivate}\n                                onCheckedChange={(v) => setIsPrivate(Boolean(v))}\n                            />\n                            <span>Private Task</span>\n                        </div>\n\n                        <div className=\"flex gap-2 items-center\">\n                            <Checkbox\n                                checked={isDependent}\n                                onCheckedChange={(v) => setIsDependent(Boolean(v))}\n                            />\n                            <span>Dependent Task</span>\n                        </div>\n\n                        <div className=\"flex gap-2 items-center\">\n                            <Checkbox\n                                checked={timeEstimate}\n                                onCheckedChange={(v) => setTimeEstimate(Boolean(v))}\n                            />\n                            <span>Time Estimate</span>\n                        </div>\n\n                        {timeEstimate && (\n                            <Input\n                                placeholder=\"Minutes\"\n                                value={timeEstimateMinutes}\n                                onChange={(e) => setTimeEstimateMinutes(e.target.value)}\n                            />\n                        )}\n                    </div>\n\n                    {/* File Upload */}\n                    <div>\n                        <Label>Attachment *</Label>\n                        <Input\n                            type=\"file\"\n                            onChange={(e) => setFile(e.target.files?.[0] ?? null)}\n                        />\n                    </div>\n                </div>\n\n\n\n\n\n        {/* FOOTER */}\n        <div className=\"flex justify-end gap-3 pt-4\">\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Cancel\n          </Button>\n\n          <Button onClick={handleSave} disabled={loading}>\n            {loading ? (\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n            ) : (\n              \"Save Task\"\n            )}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n"],"names":[],"mappings":"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"}