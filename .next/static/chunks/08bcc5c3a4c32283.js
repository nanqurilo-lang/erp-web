(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,974482,e=>{"use strict";e.s(["default",()=>r]);var n=e.i(843476),l=e.i(271645),s=e.i(618566);let o="https://6jnqmj85-80.inc1.devtunnels.ms",a=e=>{let{label:l,children:s}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-600",children:l}),s]})};function r(){let e=(0,s.useRouter)(),[r,i]=(0,l.useState)(!1),[t,d]=(0,l.useState)(null),[c,u]=(0,l.useState)([]),[g,p]=(0,l.useState)([]),[m,h]=(0,l.useState)([]),[x,b]=(0,l.useState)({employeeId:"",name:"",email:"",password:"",gender:"Male",birthday:"",bloodGroup:"",joiningDate:"",language:"",designationId:"",departmentId:"",reportingToId:"",role:"ROLE_EMPLOYEE",country:"usa",mobile:"",address:"",about:"",loginAllowed:!0,receiveEmailNotification:!1,hourlyRate:"",slackMemberId:"",skills:"",probationEndDate:"",noticePeriodStartDate:"",noticePeriodEndDate:"",employmentType:"Full Time",maritalStatus:"Single",businessAddress:"",officeShift:""});(0,l.useEffect)(()=>{let e=localStorage.getItem("accessToken"),n={Authorization:"Bearer ".concat(e)};fetch("".concat(o,"/admin/departments"),{headers:n}).then(e=>e.json()).then(u).catch(console.error),fetch("".concat(o,"/admin/designations"),{headers:n}).then(e=>e.json()).then(p).catch(console.error),fetch("".concat(o,"/employee/all"),{headers:n}).then(e=>e.json()).then(e=>h(e.map(e=>({employeeId:e.employeeId,name:e.name})))).catch(console.error)},[]);let j=e=>{let{name:n,value:l,type:s,checked:o}=e.target;b(e=>({...e,[n]:"checkbox"===s?o:l}))},f=async n=>{n.preventDefault(),i(!0);try{let n=localStorage.getItem("accessToken");if(!n)throw Error("No access token");let l={...x,departmentId:Number(x.departmentId),designationId:Number(x.designationId),hourlyRate:Number(x.hourlyRate),skills:x.skills?x.skills.split(",").map(e=>e.trim()):[]},s=new FormData;s.append("employee",JSON.stringify(l)),t&&s.append("file",t);let a=await fetch("".concat(o,"/employee"),{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:s});if(!a.ok)throw Error("Failed to create employee");await a.json(),e.push("/hr/employee")}catch(e){alert(e.message)}finally{i(!1)}};return(0,n.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white border rounded-xl p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-6",children:"Account Details"}),(0,n.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,n.jsx)(a,{label:"Employee ID *",children:(0,n.jsx)("input",{name:"employeeId",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),(0,n.jsx)(a,{label:"Employee Name *",children:(0,n.jsx)("input",{name:"name",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),(0,n.jsxs)("div",{className:"row-span-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Profile Picture"}),(0,n.jsxs)("label",{className:"mt-2 flex flex-col items-center justify-center h-36 border-2 border-dashed rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,n.jsx)("span",{className:"text-sm text-gray-400",children:"Choose a file"}),(0,n.jsx)("input",{type:"file",hidden:!0,onChange:e=>{var n;return d((null==(n=e.target.files)?void 0:n[0])||null)}})]})]}),(0,n.jsxs)(a,{label:"Employee Email *",children:[(0,n.jsx)("input",{name:"email",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,n.jsx)("span",{className:"text-xs text-gray-400",children:"Must have at least 8 characters"})]}),(0,n.jsx)(a,{label:"Password *",children:(0,n.jsx)("input",{type:"password",name:"password",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,n.jsx)(a,{label:"Gender *",children:(0,n.jsxs)("select",{name:"gender",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{children:"Male"}),(0,n.jsx)("option",{children:"Female"})]})}),(0,n.jsx)(a,{label:"Date of Birth *",children:(0,n.jsx)("input",{type:"date",name:"birthday",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsx)(a,{label:"Blood Group *",children:(0,n.jsx)("input",{name:"bloodGroup",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsx)(a,{label:"Joining Date *",children:(0,n.jsx)("input",{type:"date",name:"joiningDate",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsx)(a,{label:"Language *",children:(0,n.jsx)("input",{name:"language",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsx)(a,{label:"Designation *",children:(0,n.jsxs)("select",{name:"designationId",value:x.designationId,onChange:j,className:"border rounded-lg px-3 py-2",required:!0,children:[(0,n.jsx)("option",{value:"",children:"Select Designation"}),g.map(e=>(0,n.jsx)("option",{value:e.id,children:e.designationName},e.id))]})}),(0,n.jsx)(a,{label:"Department *",children:(0,n.jsxs)("select",{name:"departmentId",value:x.departmentId,onChange:j,className:"border rounded-lg px-3 py-2",required:!0,children:[(0,n.jsx)("option",{value:"",children:"Select Department"}),c.map(e=>(0,n.jsx)("option",{value:e.id,children:e.departmentName},e.id))]})}),(0,n.jsx)(a,{label:"Reporting To *",children:(0,n.jsxs)("select",{name:"reportingToId",value:x.reportingToId,onChange:j,className:"border rounded-lg px-3 py-2",required:!0,children:[(0,n.jsx)("option",{value:"",children:"Select Manager"}),m.map(e=>(0,n.jsxs)("option",{value:e.employeeId,children:[e.name," (",e.employeeId,")"]},e.employeeId))]})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsx)(a,{label:"User Role *",children:(0,n.jsxs)("select",{name:"role",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"ROLE_EMPLOYEE",children:"Employee"}),(0,n.jsx)("option",{value:"ROLE_ADMIN",children:"Admin"})]})}),(0,n.jsx)(a,{label:"Country",children:(0,n.jsx)("input",{name:"country",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsx)(a,{label:"Mobile",children:(0,n.jsx)("input",{name:"mobile",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,n.jsx)(a,{label:"Address *",children:(0,n.jsx)("input",{name:"address",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsx)(a,{label:"About",children:(0,n.jsx)("textarea",{name:"about",onChange:j,className:"border rounded-lg input h-24"})})]})]}),(0,n.jsxs)("div",{className:"bg-white border rounded-xl p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-6",children:"Other Details"}),(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,n.jsx)(a,{label:"Login Allowed?",children:(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("label",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"radio",checked:x.loginAllowed,onChange:()=>b(e=>({...e,loginAllowed:!0}))}),"Yes"]}),(0,n.jsxs)("label",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"radio",checked:!x.loginAllowed,onChange:()=>b(e=>({...e,loginAllowed:!1}))}),"No"]})]})}),(0,n.jsx)(a,{label:"Receive Email Notifications?",children:(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("label",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"radio",checked:x.receiveEmailNotification,onChange:()=>b(e=>({...e,receiveEmailNotification:!0}))}),"Yes"]}),(0,n.jsxs)("label",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"radio",checked:!x.receiveEmailNotification,onChange:()=>b(e=>({...e,receiveEmailNotification:!1}))}),"No"]})]})}),(0,n.jsx)(a,{label:"Hourly Rate",children:(0,n.jsx)("input",{name:"hourlyRate",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsx)(a,{label:"Slack Member ID",children:(0,n.jsx)("input",{name:"slackMemberId",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),(0,n.jsx)(a,{label:"Skills",children:(0,n.jsx)("input",{name:"skills",onChange:j,placeholder:"Java, Spring Boot",className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[(0,n.jsx)(a,{label:"Probation End Date",children:(0,n.jsx)("input",{type:"date",name:"probationEndDate",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsx)(a,{label:"Notice Period Start Date",children:(0,n.jsx)("input",{type:"date",name:"noticePeriodStartDate",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsx)(a,{label:"Notice Period End Date",children:(0,n.jsx)("input",{type:"date",name:"noticePeriodEndDate",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,n.jsx)(a,{label:"Employment Type",children:(0,n.jsxs)("select",{name:"employmentType",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{children:"Full Time"}),(0,n.jsx)("option",{children:"Part Time"}),(0,n.jsx)("option",{children:"Contract"})]})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[(0,n.jsx)(a,{label:"Marital Status",children:(0,n.jsxs)("select",{name:"maritalStatus",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{children:"Single"}),(0,n.jsx)("option",{children:"Married"})]})}),(0,n.jsx)(a,{label:"Business Address *",children:(0,n.jsx)("input",{name:"businessAddress",onChange:j,className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,n.jsx)("button",{onClick:()=>e.back(),className:"px-6 py-2 border rounded-lg",children:"Cancel"}),(0,n.jsx)("button",{disabled:r,onClick:f,className:"px-8 py-2 bg-blue-600 text-white rounded-lg",children:r?"Saving...":"Save"})]})]})}}]);