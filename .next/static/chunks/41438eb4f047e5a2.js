(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,725826,e=>{"use strict";e.s(["default",()=>t]);var a=e.i(843476),l=e.i(271645);function t(e){let{open:t,onClose:s,employeeId:n,onSuccess:r}=e,[i,o]=(0,l.useState)({name:"",email:"",mobile:"",relationship:"",address:""}),[d,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)(null);if(!t)return null;let p=async()=>{if(!i.name||!i.email||!i.mobile||!i.relationship)return void m("All required fields must be filled");try{c(!0),m(null);let e=localStorage.getItem("accessToken");if(!e)throw Error("Unauthorized");if(!(await fetch("".concat("https://6jnqmj85-80.inc1.devtunnels.ms","/employee/").concat(n,"/emergency-contacts"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw Error("Failed to create contact");r(),s()}catch(e){m(e.message)}finally{c(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-xl p-6 space-y-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Add Emergency Contact"}),u&&(0,a.jsx)("div",{className:"text-sm text-red-600",children:u}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("input",{placeholder:"Name *",className:"border rounded px-3 py-2",value:i.name,onChange:e=>o({...i,name:e.target.value})}),(0,a.jsx)("input",{placeholder:"Relationship *",className:"border rounded px-3 py-2",value:i.relationship,onChange:e=>o({...i,relationship:e.target.value})}),(0,a.jsx)("input",{placeholder:"Email *",className:"border rounded px-3 py-2",value:i.email,onChange:e=>o({...i,email:e.target.value})}),(0,a.jsx)("input",{placeholder:"Mobile *",className:"border rounded px-3 py-2",value:i.mobile,onChange:e=>o({...i,mobile:e.target.value})})]}),(0,a.jsx)("textarea",{placeholder:"Address",className:"border rounded px-3 py-2 w-full min-h-[80px]",value:i.address,onChange:e=>o({...i,address:e.target.value})}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)("button",{onClick:s,className:"px-4 py-2 border rounded-lg",children:"Cancel"}),(0,a.jsx)("button",{onClick:p,disabled:d,className:"px-5 py-2 bg-blue-600 text-white rounded-lg",children:d?"Saving...":"Save"})]})]})})}}]);