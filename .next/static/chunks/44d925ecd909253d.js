(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,786108,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},323585,e=>{"use strict";e.s(["MoreVertical",()=>t.default]);var t=e.i(786108)},755838,(e,t,r)=>{"use strict";var n=e.r(271645),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,o=n.useEffect,l=n.useLayoutEffect,s=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),a=n[0].inst,u=n[1];return l(function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})},[e,r,t]),o(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),s(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},802239,(e,t,r)=>{"use strict";t.exports=e.r(755838)},283599,20353,e=>{"use strict";let t;e.s(["default",()=>ea],283599);var r=e.i(271645),n=e.i(802239);e.s(["B",()=>h,"I",()=>T,"O",()=>f,"S",()=>G,"U",()=>d,"a",()=>g,"b",()=>c,"c",()=>z,"d",()=>J,"e",()=>m,"f",()=>K,"g",()=>H,"i",()=>w,"j",()=>$,"m",()=>p,"n",()=>W,"o",()=>U,"r",()=>k,"s",()=>F,"t",()=>R,"u",()=>_,"z",()=>E],20353),e.s(["ERROR_REVALIDATE_EVENT",()=>l,"FOCUS_EVENT",()=>a,"MUTATE_EVENT",()=>o,"RECONNECT_EVENT",()=>i],211671);let a=0,i=1,o=2,l=3;var s=Object.prototype.hasOwnProperty;let c=new WeakMap,u=()=>{},d=u(),f=Object,m=e=>e===d,g=e=>"function"==typeof e,p=(e,t)=>({...e,...t}),h=e=>g(e.then),v={},x={},y="undefined",w=typeof window!=y,b=typeof document!=y,j=w&&"Deno"in window,E=(e,t)=>{let r=c.get(e);return[()=>!m(t)&&e.get(t)||v,n=>{if(!m(t)){let a=e.get(t);t in x||(x[t]=a),r[5](t,p(a,n),a||v)}},r[6],()=>!m(t)&&t in x?x[t]:!m(t)&&e.get(t)||v]},N=!0,[O,S]=w&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[u,u],D={initFocus:e=>(b&&document.addEventListener("visibilitychange",e),O("focus",e),()=>{b&&document.removeEventListener("visibilitychange",e),S("focus",e)}),initReconnect:e=>{let t=()=>{N=!0,e()},r=()=>{N=!1};return O("online",t),O("offline",r),()=>{S("online",t),S("offline",r)}}},T=!r.default.useId,k=!w||j,R=e=>w&&typeof window.requestAnimationFrame!=y?window.requestAnimationFrame(e):setTimeout(e,1),_=k?r.useEffect:r.useLayoutEffect,I="undefined"!=typeof navigator&&navigator.connection,C=!k&&I&&(["slow-2g","2g"].includes(I.effectiveType)||I.saveData),V=new WeakMap,A=(e,t)=>e==="[object ".concat(t,"]"),L=0,P=e=>{let t,r,n=typeof e,a=f.prototype.toString.call(e),i=A(a,"Date"),o=A(a,"RegExp"),l=A(a,"Object");if(f(e)!==e||i||o)t=i?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=V.get(e))return t;if(t=++L+"~",V.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=P(e[r])+",";V.set(e,t)}if(l){t="#";let n=f.keys(e).sort();for(;!m(r=n.pop());)m(e[r])||(t+=r+":"+P(e[r])+",");V.set(e,t)}}return t},F=e=>{if(g(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?P(e):"",t]},M=0,U=()=>++M;async function W(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[n,a,i,l]=t,s=p({populateCache:!0,throwOnError:!0},"boolean"==typeof l?{revalidate:l}:l||{}),u=s.populateCache,f=s.rollbackOnError,v=s.optimisticData,x=s.throwOnError;if(g(a)){let e=[];for(let t of n.keys())!/^\$(inf|sub)\$/.test(t)&&a(n.get(t)._k)&&e.push(t);return Promise.all(e.map(y))}return y(a);async function y(e){let r,[a]=F(e);if(!a)return;let[l,p]=E(n,a),[y,w,b,j]=c.get(n),N=()=>{let t=y[a];return(g(s.revalidate)?s.revalidate(l().data,e):!1!==s.revalidate)&&(delete b[a],delete j[a],t&&t[0])?t[0](o).then(()=>l().data):l().data};if(t.length<3)return N();let O=i,S=!1,D=U();w[a]=[D,0];let T=!m(v),k=l(),R=k.data,_=k._c,I=m(_)?R:_;if(T&&p({data:v=g(v)?v(I,R):v,_c:I}),g(O))try{O=O(I)}catch(e){r=e,S=!0}if(O&&h(O)){let e;if(O=await O.catch(e=>{r=e,S=!0}),D!==w[a][0]){if(S)throw r;return O}S&&T&&(e=r,"function"==typeof f?f(e):!1!==f)&&(u=!0,p({data:I,_c:d}))}if(u&&!S&&(g(u)?p({data:u(O,I),error:d,_c:d}):p({data:O,error:d,_c:d})),w[a][1]=U(),Promise.resolve(N()).then(()=>{p({_c:d})}),S){if(x)throw r;return}return O}}let B=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},q=(e,t)=>{if(!c.has(e)){let r=p(D,t),n=Object.create(null),o=W.bind(d,e),l=u,s=Object.create(null),f=(e,t)=>{let r=s[e]||[];return s[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},m=(t,r,n)=>{e.set(t,r);let a=s[t];if(a)for(let e of a)e(r,n)},g=()=>{if(!c.has(e)&&(c.set(e,[n,Object.create(null),Object.create(null),Object.create(null),o,m,f]),!k)){let t=r.initFocus(setTimeout.bind(d,B.bind(d,n,a))),o=r.initReconnect(setTimeout.bind(d,B.bind(d,n,i)));l=()=>{t&&t(),o&&o(),c.delete(e)}}};return g(),[e,o,g,l]}return[e,c.get(e)[4]]},[z,$]=q(new Map),J=p({onLoadingSlow:u,onSuccess:u,onError:u,onErrorRetry:(e,t,r,n,a)=>{let i=r.errorRetryCount,o=a.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;(m(i)||!(o>i))&&setTimeout(n,l,a)},onDiscarded:u,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:C?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:C?5e3:3e3,compare:function e(t,r){var n,a;if(t===r)return!0;if(t&&r&&(n=t.constructor)===r.constructor){if(n===Date)return t.getTime()===r.getTime();if(n===RegExp)return t.toString()===r.toString();if(n===Array){if((a=t.length)===r.length)for(;a--&&e(t[a],r[a]););return -1===a}if(!n||"object"==typeof t){for(n in a=0,t)if(s.call(t,n)&&++a&&!s.call(r,n)||!(n in r)||!e(t[n],r[n]))return!1;return Object.keys(r).length===a}}return t!=t&&r!=r},isPaused:()=>!1,cache:z,mutate:$,fallback:{}},{isOnline:()=>N,isVisible:()=>{let e=b&&document.visibilityState;return m(e)||"hidden"!==e}}),K=(e,t)=>{let r=p(e,t);if(t){let{use:n,fallback:a}=e,{use:i,fallback:o}=t;n&&i&&(r.use=n.concat(i)),a&&o&&(r.fallback=p(a,o))}return r},G=(0,r.createContext)({}),H=e=>{let{value:t}=e,n=(0,r.useContext)(G),a=g(t),i=(0,r.useMemo)(()=>a?t(n):t,[a,n,t]),o=(0,r.useMemo)(()=>a?i:K(n,i),[a,n,i]),l=i&&i.provider,s=(0,r.useRef)(d);l&&!s.current&&(s.current=q(l(o.cache||z),i));let c=s.current;return c&&(o.cache=c[0],o.mutate=c[1]),_(()=>{if(c)return c[2]&&c[2](),c[3]},[]),(0,r.createElement)(G.Provider,p(e,{value:o}))};var Q=e.i(211671);let X=w&&window.__SWR_DEVTOOLS_USE__,Y=(X?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,n)=>{let a=r&&function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];let[i]=F(t),[,,,o]=c.get(z);if(i.startsWith("$inf$"))return r(...n);let l=o[i];return m(l)?r(...n):(delete o[i],l)};return e(t,a,n)});X&&(window.__SWR_DEVTOOLS_REACT__=r.default);let Z=()=>{},ee=Z();new WeakMap;let et=r.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),er={dedupe:!0},en=Promise.resolve(d);f.defineProperty(H,"defaultValue",{value:J});let ea=(t=(e,t,a)=>{let{cache:i,compare:o,suspense:l,fallbackData:s,revalidateOnMount:u,revalidateIfStale:f,refreshInterval:v,refreshWhenHidden:x,refreshWhenOffline:y,keepPreviousData:w}=a,[b,j,N,O]=c.get(i),[S,D]=F(e),I=(0,r.useRef)(!1),C=(0,r.useRef)(!1),V=(0,r.useRef)(S),A=(0,r.useRef)(t),L=(0,r.useRef)(a),P=()=>L.current.isVisible()&&L.current.isOnline(),[M,B,q,z]=E(i,S),$=(0,r.useRef)({}).current,J=m(s)?m(a.fallback)?d:a.fallback[S]:s,K=(e,t)=>{for(let r in $)if("data"===r){if(!o(e[r],t[r])&&(!m(e[r])||!o(eo,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},G=(0,r.useMemo)(()=>{let e=!!S&&!!t&&(m(u)?!L.current.isPaused()&&!l&&!1!==f:u),r=t=>{let r=p(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=M(),a=z(),i=r(n),o=n===a?i:r(a),s=i;return[()=>{let e=r(M());return K(e,s)?(s.data=e.data,s.isLoading=e.isLoading,s.isValidating=e.isValidating,s.error=e.error,s):(s=e,e)},()=>o]},[i,S]),H=(0,n.useSyncExternalStore)((0,r.useCallback)(e=>q(S,(t,r)=>{K(r,t)||e()}),[i,S]),G[0],G[1]),X=!I.current,Y=b[S]&&b[S].length>0,Z=H.data,ee=m(Z)?J&&h(J)?et(J):J:Z,ea=H.error,ei=(0,r.useRef)(ee),eo=w?m(Z)?m(ei.current)?ee:ei.current:Z:ee,el=(!Y||!!m(ea))&&(X&&!m(u)?u:!L.current.isPaused()&&(l?!m(ee)&&f:m(ee)||f)),es=!!(S&&t&&X&&el),ec=m(H.isValidating)?es:H.isValidating,eu=m(H.isLoading)?es:H.isLoading,ed=(0,r.useCallback)(async e=>{let t,r,n=A.current;if(!S||!n||C.current||L.current.isPaused())return!1;let i=!0,l=e||{},s=!N[S]||!l.dedupe,c=()=>T?!C.current&&S===V.current&&I.current:S===V.current,u={isValidating:!1,isLoading:!1},f=()=>{B(u)},p=()=>{let e=N[S];e&&e[1]===r&&delete N[S]},h={isValidating:!0};m(M().data)&&(h.isLoading=!0);try{if(s&&(B(h),a.loadingTimeout&&m(M().data)&&setTimeout(()=>{i&&c()&&L.current.onLoadingSlow(S,a)},a.loadingTimeout),N[S]=[n(D),U()]),[t,r]=N[S],t=await t,s&&setTimeout(p,a.dedupingInterval),!N[S]||N[S][1]!==r)return s&&c()&&L.current.onDiscarded(S),!1;u.error=d;let e=j[S];if(!m(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return f(),s&&c()&&L.current.onDiscarded(S),!1;let l=M().data;u.data=o(l,t)?l:t,s&&c()&&L.current.onSuccess(t,S,a)}catch(r){p();let e=L.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(u.error=r,s&&c()&&(e.onError(r,S,e),(!0===t||g(t)&&t(r))&&(!L.current.revalidateOnFocus||!L.current.revalidateOnReconnect||P())&&e.onErrorRetry(r,S,e,e=>{let t=b[S];t&&t[0]&&t[0](Q.ERROR_REVALIDATE_EVENT,e)},{retryCount:(l.retryCount||0)+1,dedupe:!0})))}return i=!1,f(),!0},[S,i]),ef=(0,r.useCallback)(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return W(i,V.current,...t)},[]);if(_(()=>{A.current=t,L.current=a,m(Z)||(ei.current=Z)}),_(()=>{if(!S)return;let e=ed.bind(d,er),t=0;L.current.revalidateOnFocus&&(t=Date.now()+L.current.focusThrottleInterval);let r=((e,t,r)=>{let n=t[e]||(t[e]=[]);return n.push(r),()=>{let e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}})(S,b,function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r==Q.FOCUS_EVENT){let r=Date.now();L.current.revalidateOnFocus&&r>t&&P()&&(t=r+L.current.focusThrottleInterval,e())}else if(r==Q.RECONNECT_EVENT)L.current.revalidateOnReconnect&&P()&&e();else if(r==Q.MUTATE_EVENT)return ed();else if(r==Q.ERROR_REVALIDATE_EVENT)return ed(n)});return C.current=!1,V.current=S,I.current=!0,B({_k:D}),el&&!N[S]&&(m(ee)||k?e():R(e)),()=>{C.current=!0,r()}},[S]),_(()=>{let e;function t(){let t=g(v)?v(M().data):v;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!M().error&&(x||L.current.isVisible())&&(y||L.current.isOnline())?ed(er).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[v,x,y,S]),(0,r.useDebugValue)(eo),l){let e=S&&m(ee);if(!T&&k&&e)throw Error("Fallback data is required when using Suspense in SSR.");e&&(A.current=t,L.current=a,C.current=!1);let r=O[S];if(et(!m(r)&&e?ef(r):en),!m(ea)&&e)throw ea;let n=e?ed(er):en;!m(eo)&&e&&(n.status="fulfilled",n.value=!0),et(n)}return{mutate:ef,get data(){return $.data=!0,eo},get error(){return $.error=!0,ea},get isValidating(){return $.isValidating=!0,ec},get isLoading(){return $.isLoading=!0,eu}}},function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];let i=(()=>{let e=(0,r.useContext)(G);return(0,r.useMemo)(()=>p(J,e),[e])})(),[o,l,s]=g(n[1])?[n[0],n[1],n[2]||{}]:[n[0],null,(null===n[1]?n[2]:n[1])||{}],c=K(i,s),u=t,{use:d}=c,f=(d||[]).concat(Y);for(let e=f.length;e--;)u=f[e](u);return u(o,l||c.fetcher||null,c)})},609203,e=>{"use strict";e.s(["default",()=>c],609203);var t=e.i(843476),r=e.i(283599),n=e.i(271645);let a="https://6jnqmj85-80.inc1.devtunnels.ms";function i(e){let{open:i,onClose:l,employeeId:s,onSuccess:c}=e,[u,d]=(0,n.useState)({oldDepartmentId:"",oldDesignationId:"",newDepartmentId:"",newDesignationId:"",remarks:"",isPromotion:!0,sendNotification:!0}),[f,m]=(0,n.useState)(!1),{data:g}=(0,r.default)("".concat(a,"/admin/departments"),o),{data:p}=(0,r.default)("".concat(a,"/admin/designations"),o);if(!i)return null;let h=async()=>{m(!0);let e=localStorage.getItem("accessToken");await fetch("".concat(a,"/admin/api/promotions/employee/").concat(s),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({oldDepartmentId:Number(u.oldDepartmentId),oldDesignationId:Number(u.oldDesignationId),newDepartmentId:Number(u.newDepartmentId),newDesignationId:Number(u.newDesignationId),isPromotion:!0,sendNotification:!0,remarks:u.remarks})}),m(!1),c(),l()};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-lg p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Add Promotion"}),(0,t.jsxs)("select",{className:"border rounded px-3 py-2 w-full",value:u.oldDepartmentId,onChange:e=>d({...u,oldDepartmentId:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"Old Department"}),null==g?void 0:g.map(e=>(0,t.jsx)("option",{value:e.id,children:e.departmentName},e.id))]}),(0,t.jsxs)("select",{className:"border rounded px-3 py-2 w-full",value:u.oldDesignationId,onChange:e=>d({...u,oldDesignationId:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"Old Designation"}),null==p?void 0:p.map(e=>(0,t.jsx)("option",{value:e.id,children:e.designationName},e.id))]}),(0,t.jsxs)("select",{className:"border rounded px-3 py-2 w-full",value:u.newDepartmentId,onChange:e=>d({...u,newDepartmentId:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"New Department"}),null==g?void 0:g.map(e=>(0,t.jsx)("option",{value:e.id,children:e.departmentName},e.id))]}),(0,t.jsxs)("select",{className:"border rounded px-3 py-2 w-full",value:u.newDesignationId,onChange:e=>d({...u,newDesignationId:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"New Designation"}),null==p?void 0:p.map(e=>(0,t.jsx)("option",{value:e.id,children:e.designationName},e.id))]}),(0,t.jsx)("textarea",{className:"border rounded px-3 py-2 w-full",placeholder:"Remarks",value:u.remarks,onChange:e=>d({...u,remarks:e.target.value})}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:l,className:"px-4 py-2 border rounded",children:"Cancel"}),(0,t.jsx)("button",{disabled:f,onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded",children:f?"Saving...":"Save Promotion"})]})]})})}async function o(e){let t=localStorage.getItem("accessToken"),r=await fetch(e,{headers:{Authorization:"Bearer ".concat(t)}});if(!r.ok)throw Error("Fetch failed");return r.json()}var l=e.i(323585);let s=async e=>{let t=localStorage.getItem("accessToken");if(!t)throw Error("No token");let r=await fetch(e,{headers:{Authorization:"Bearer ".concat(t)}});if(!r.ok)throw Error("Failed to fetch promotions");return r.json()};function c(e){let{employeeId:a}=e,[o,c]=(0,n.useState)(!1),{data:u,isLoading:d,error:f,mutate:m}=(0,r.default)("".concat("https://6jnqmj85-80.inc1.devtunnels.ms","/admin/api/promotions/employee/").concat(a),s,{revalidateOnFocus:!1});return(0,t.jsxs)("div",{className:"bg-white border rounded-xl p-6 space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-between",children:(0,t.jsx)("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm",children:"+ Add Promotions"})}),(0,t.jsx)(i,{open:o,onClose:()=>c(!1),employeeId:a,onSuccess:m}),d&&(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Loading promotions…"}),f&&(0,t.jsx)("div",{className:"text-sm text-red-500",children:"Failed to load promotions"}),!d&&(null==u?void 0:u.length)===0&&(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"No promotions found"}),(0,t.jsx)("div",{className:"space-y-4",children:null==u?void 0:u.map((e,r)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,t.jsx)("span",{className:"px-2 py-0.5 bg-gray-200 rounded text-xs",children:r+1}),(0,t.jsxs)("span",{children:[new Date(e.createdAt).toLocaleDateString()," ( Promotion From Today )"]})]}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs",children:"Promotion"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-blue-600",children:e.oldDesignationName})," ","→"," ",(0,t.jsx)("span",{className:"text-green-600",children:e.newDesignationName})," ",(0,t.jsx)("span",{className:"text-gray-500",children:"(Designation)"})]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-blue-600",children:e.oldDepartmentName})," ","→"," ",(0,t.jsx)("span",{className:"text-green-600",children:e.newDepartmentName})]}),e.remarks&&(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.remarks})]}),(0,t.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-full",children:(0,t.jsx)(l.MoreVertical,{className:"w-4 h-4 text-gray-500"})})]},e.id))})]})}}]);