(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,549531,e=>{"use strict";e.s(["default",()=>C],549531);var t=e.i(843476),a=e.i(271645),l=e.i(519455),s=e.i(793479),r=e.i(967489),n=e.i(784774),i=e.i(755146),c=e.i(373375),o=e.i(463059),d=e.i(555436),u=e.i(323585),h=e.i(286536),x=e.i(840433),m=e.i(87316),p=e.i(687130),g=e.i(370956),j=e.i(37727);let f="".concat("https://6jnqmj85-80.inc1.devtunnels.ms"),y=(e,t)=>{let a=new Date(e);return a.setDate(a.getDate()+t),a},v=(e,t)=>e.toDateString()===t.toDateString();function w(){let[e,l]=(0,a.useState)([]),[s,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(new Date),c=async()=>{try{r(!0);let e=await fetch("".concat(f,"/projects"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))},credentials:"include"});if(!e.ok)throw Error("Failed to fetch projects");let t=(await e.json()).map(e=>({id:e.id,name:e.name,startDate:e.startDate,deadline:e.deadline}));l(t)}catch(e){console.error("Project fetch error:",e)}finally{r(!1)}};(0,a.useEffect)(()=>{c()},[]);let o=(0,a.useMemo)(()=>{let e=new Date(n.getFullYear(),n.getMonth(),1),t=new Date(n.getFullYear(),n.getMonth()+1,0),a=[],l=new Date(e);l.setDate(e.getDate()-e.getDay());let s=new Date(t);s.setDate(t.getDate()+(6-t.getDay()));let r=l;for(;r<=s;)a.push(new Date(r)),r=y(r,1);return a},[n]);return(0,t.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-sm border p-4 ",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("button",{onClick:()=>i(new Date(n.getFullYear(),n.getMonth()-1,1)),className:"px-3 py-1 border rounded",children:"◀"}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:n.toLocaleString("default",{month:"long",year:"numeric"})}),(0,t.jsx)("button",{onClick:()=>i(new Date(n.getFullYear(),n.getMonth()+1,1)),className:"px-3 py-1 border rounded",children:"▶"})]}),s&&(0,t.jsx)("div",{className:"text-center py-6 text-sm text-gray-500",children:"Loading projects..."}),(0,t.jsx)("div",{className:"grid grid-cols-7 text-sm font-medium text-center border-b pb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,t.jsx)("div",{children:e},e))}),(0,t.jsx)("div",{className:"mt-2 max-h-[70vh] overflow-y-auto overflow-x-hidden",children:(0,t.jsx)("div",{className:"grid grid-cols-7 gap-px bg-gray-200 mt-2",children:o.map((a,l)=>{let s=e.filter(e=>{let t=new Date(e.startDate),l=new Date(e.deadline);return a>=t&&a<=l}),r=a.getMonth()===n.getMonth();return(0,t.jsxs)("div",{className:"min-h-[110px] bg-white p-1 text-xs ".concat(r?"":"opacity-40"),children:[(0,t.jsx)("div",{className:"text-right font-semibold",children:a.getDate()}),(0,t.jsx)("div",{className:"space-y-1 mt-1",children:s.map(e=>{let l=v(a,new Date(e.startDate)),s=v(a,new Date(e.deadline));return(0,t.jsxs)("div",{className:"px-2 py-1 rounded text-white text-[11px]\n                        ".concat(l||s?"bg-blue-600":"bg-blue-400"),children:[l&&(0,t.jsx)("span",{children:"▶ "}),e.name,s&&(0,t.jsx)("span",{children:" ◀"})]},e.id)})})]},l)})})})]})}let N="https://6jnqmj85-80.inc1.devtunnels.ms",S=["IN_PROGRESS","NOT_STARTED","ON_HOLD","CANCELLED","FINISHED"],b="projectProgressOverrides";function C(){let[e,f]=(0,a.useState)([]),[y,v]=(0,a.useState)(!0),[C,D]=(0,a.useState)(null),[T,k]=(0,a.useState)(""),[A,I]=(0,a.useState)(""),[P,E]=(0,a.useState)("all"),[M,F]=(0,a.useState)("all"),[O,B]=(0,a.useState)(null),[R,L]=(0,a.useState)(null),[H,z]=(0,a.useState)(!1),[V,U]=(0,a.useState)("all"),[_,G]=(0,a.useState)("all"),[Y,J]=(0,a.useState)("all"),[K,q]=(0,a.useState)(1),[W,X]=(0,a.useState)(1),[Q,Z]=(0,a.useState)(!1),[$,ee]=(0,a.useState)(""),[et,ea]=(0,a.useState)(""),[el,es]=(0,a.useState)(""),[er,en]=(0,a.useState)(""),[ei,ec]=(0,a.useState)(!1),[eo,ed]=(0,a.useState)("none"),[eu,eh]=(0,a.useState)("none"),[ex,em]=(0,a.useState)("none"),[ep,eg]=(0,a.useState)(""),[ej,ef]=(0,a.useState)(!0),[ey,ev]=(0,a.useState)(""),[ew,eN]=(0,a.useState)(null),[eS,eb]=(0,a.useState)("USD"),[eC,eD]=(0,a.useState)(""),[eT,ek]=(0,a.useState)(""),[eA,eI]=(0,a.useState)(!1);(0,a.useRef)(null);let[eP,eE]=(0,a.useState)("you"),[eM,eF]=(0,a.useState)(!1),[eO,eB]=(0,a.useState)(!1),[eR,eL]=(0,a.useState)([]),[eH,ez]=(0,a.useState)(!1),[eV,eU]=(0,a.useState)(""),[e_,eG]=(0,a.useState)(!1),[eY,eJ]=(0,a.useState)([]),[eK,eq]=(0,a.useState)(!1),[eW,eX]=(0,a.useState)([]),[eQ,eZ]=(0,a.useState)(!1),[e$,e0]=(0,a.useState)(!1),[e1,e4]=(0,a.useState)(null),[e3,e6]=(0,a.useState)("grid"),[e2,e5]=(0,a.useState)(!1),[e7,e8]=(0,a.useState)(!1),[e9,te]=(0,a.useState)(!1);(0,a.useEffect)(()=>{document.body.style.overflow=H||Q||eO||e$||e9?"hidden":"auto"},[H,Q,eO,e$,e9]);let tt=Array.from(new Set(e.map(e=>e.name))).filter(Boolean),ta=Array.from(new Set(e.flatMap(e=>(e.assignedEmployees||[]).map(e=>e.name)))).filter(Boolean);eR.map(e=>({id:String(e.id),name:e.name}));let tl=eY.map(e=>({id:String(e.id),name:e.name}));eW.map(e=>({id:String(e.id),name:e.departmentName}));let ts=()=>{try{let e=localStorage.getItem(b);if(!e)return{};return JSON.parse(e)}catch(e){return{}}},tr=(e,t)=>{let a=ts(),l=String(e);null==t?delete a[l]:a[l]=t;try{localStorage.setItem(b,JSON.stringify(a))}catch(e){}},tn=(0,a.useCallback)(async e=>{v(!0);try{let t=e||localStorage.getItem("accessToken")||C||null;if(!t){f([]),X(1),v(!1);return}new URLSearchParams({page:String(K),limit:String(9),search:A||"",status:"all"!==P?P:"",progress:"all"!==M?M:"",project:"all"!==V?V:"",member:"all"!==_?_:"",client:"all"!==Y?Y:""});let a=await fetch("".concat(N,"/projects?page=0&size=50"),{headers:{Authorization:"Bearer ".concat(t)},cache:"no-store"});if(401===a.status){try{localStorage.removeItem("accessToken")}catch(e){}D(null),f([]),X(1),v(!1);return}if(!a.ok){let e=await a.text().catch(()=>"");throw console.error("getProjects failed",a.status,e),Error("Failed to load projects")}let l=await a.json(),s=[];Array.isArray(l)?s=l:(s=l.projects||l.items||[],X(l.totalPages||Math.max(1,Math.ceil((l.total||9)/9))));let r=ts();Object.keys(r).length>0&&(s=s.map(e=>{let t=r[String(e.id)];return null!=t?{...e,progressPercent:t}:e})),f(s)}catch(e){console.error("Error loading projects:",e),f([]),X(1)}finally{v(!1)}},[K,A,P,M,V,_,Y,C]),ti=(0,a.useCallback)(async e=>{ez(!0);try{let t=e||C||localStorage.getItem("accessToken"),a=await fetch("".concat(N,"/api/projects/category"),{headers:t?{Authorization:"Bearer ".concat(t)}:void 0,cache:"no-store"});if(!a.ok){console.warn("Failed to load categories, status:",a.status),eL([]),ez(!1);return}let l=await a.json();Array.isArray(l)?l.length>0&&"string"==typeof l[0]?eL(l.map((e,t)=>({id:t+1,name:String(e)}))):eL(l.map(e=>{var t,a,l;return{id:null!=(a=null!=(t=e.id)?t:e.name)?a:Math.random(),name:null!=(l=e.name)?l:String(e)}})):eL([])}catch(e){console.error("Error loading categories:",e),eL([])}finally{ez(!1)}},[C]),tc=(0,a.useCallback)(async e=>{eq(!0);try{let t=e||C||localStorage.getItem("accessToken"),a=await fetch("".concat(N,"/clients"),{headers:t?{Authorization:"Bearer ".concat(t)}:void 0,cache:"no-store"});if(!a.ok){console.warn("Failed to load clients, status:",a.status),eJ([]),eq(!1);return}let l=await a.json();Array.isArray(l)?eJ(l):Array.isArray(l.items)?eJ(l.items):eJ([])}catch(e){console.error("Error loading clients:",e),eJ([])}finally{eq(!1)}},[C]),to=(0,a.useCallback)(async e=>{eZ(!0);try{let t=e||C||localStorage.getItem("accessToken"),a=await fetch("".concat(N,"/admin/departments"),{headers:t?{Authorization:"Bearer ".concat(t)}:void 0,cache:"no-store"});if(!a.ok){console.warn("Failed to load departments, status:",a.status),eX([]),eZ(!1);return}let l=await a.json();Array.isArray(l)?eX(l):Array.isArray(l.items)?eX(l.items):eX([])}catch(e){console.error("Error loading departments:",e),eX([])}finally{eZ(!1)}},[C]);async function td(t,a){if(!C)return alert("Not authenticated");f(e=>e.map(e=>e.id===t?{...e,projectStatus:a}:e));try{let e=new FormData;e.append("status",a);let l=await fetch("".concat(N,"/api/projects/").concat(t,"/status"),{method:"PUT",body:e,headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}}),s=null;try{s=await l.json()}catch(e){s=null}s&&s.id?(f(e=>e.map(e=>e.id===s.id?{...e,...s}:e)),null!=s.progressPercent&&tr(s.id,null)):await tn(C)}catch(t){console.error("Status update failed",t),f(e),alert("Failed to update status on server")}}async function tu(t,a){if(!C)return alert("Not authenticated");let l=Math.max(0,Math.min(100,Math.round(a)));f(e=>e.map(e=>e.id===t?{...e,progressPercent:l}:e)),tr(t,l);try{let a=new FormData;a.append("percent",String(l));let s=await fetch("".concat(N,"/api/projects/").concat(t,"/progress"),{method:"PUT",body:a,headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}});if(401===s.status){console.error("patchProgress 401 unauthorized"),f(e),tr(t,null),localStorage.removeItem("accessToken"),D(null),alert("Session expired. Please login again.");return}if(!s.ok){let a=await s.text().catch(()=>"");console.error("patchProgress failed:",s.status,a),f(e),tr(t,null),alert("Failed to update progress on server");return}let r=null;try{r=204!==s.status?await s.json():null}catch(e){r=null}r&&r.id?(f(e=>e.map(e=>e.id===r.id?{...e,...r}:e)),null!=r.progressPercent&&tr(r.id,null)):await tn(C)}catch(a){console.error("Progress update failed:",a),f(e),tr(t,null),alert("Failed to update progress on server")}}(0,a.useEffect)(()=>{let e=setTimeout(()=>{I(e=>e!==T?(q(1),T):e)},500);return()=>clearTimeout(e)},[T]),(0,a.useEffect)(()=>{{let e=localStorage.getItem("accessToken");D(e),ti(e||null),tc(e||null),to(e||null),e?tn(e):v(!1)}},[]),(0,a.useEffect)(()=>{if(!C){let e=localStorage.getItem("accessToken");e&&(D(e),tn(e),ti(e),tc(e),to(e));return}C&&tn(C)},[tn,C,K,A,P,M,V,_,Y]);let th=async t=>{if(!C)return alert("Not authenticated");let a=e.findIndex(e=>e.id===t);if(-1===a)return;let l=!e[a].pinned;f(e=>e.map(e=>e.id===t?{...e,pinned:l}:e));try{let e=await fetch("".concat(N,"/projects/").concat(t,"/pin"),{method:"POST",headers:{Authorization:"Bearer ".concat(C),"Content-Type":"application/json"},body:JSON.stringify({pinned:l}),cache:"no-store"});if(!e.ok)throw Error("Pin failed");try{let t=await e.json();t&&t.id?f(e=>e.map(e=>e.id===t.id?{...e,...t}:e)):await tn(C)}catch(e){await tn(C)}}catch(t){console.error(t),f(e),alert("Failed to toggle pin")}},tx=e=>e.shortCode||e.code||e.projectCode||"RTA-".concat(String(e.id).padStart(2,"0")),tm=()=>z(!1),tp=async()=>{q(1),await tn(null!=C?C:null),z(!1)},tg=async()=>{U("all"),G("all"),J("all"),q(1),await tn(null!=C?C:null),z(!1)},tj=(0,a.useMemo)(()=>e.filter(e=>{if("all"!==P&&(!e.projectStatus||e.projectStatus!==P))return!1;if("all"!==M){if("number"!=typeof e.progressPercent)return!1;let t=e.progressPercent;if("0-33"===M&&!(t>=0&&t<=33)||"34-66"===M&&!(t>=34&&t<=66)||"67-100"===M&&!(t>=67&&t<=100))return!1}if(O||R){let t=e.startDate?new Date(e.startDate):null,a=e.deadline?new Date(e.deadline):null;if(!t||!a||O&&t<new Date(O)||R&&a>new Date(R))return!1}return!0}),[e,P,M,O,R]);if(y)return(0,t.jsx)("p",{className:"p-8 text-center",children:"Loading projects..."});let tf=e=>{var a,s,r,c,o,d,m,p,g,j,y;let{p:v}=e,w=v.startDate?new Date(v.startDate).toLocaleDateString():"-",N=v.noDeadline?"No Deadline":v.deadline?new Date(v.deadline).toLocaleDateString():"-",b=Math.max(0,Math.min(100,null!=(d=v.progressPercent)?d:0)),D=null==b?"bg-gray-300":b<33?"bg-red-500":b<66?"bg-yellow-400":"bg-green-500";return(0,t.jsxs)(n.TableRow,{className:"bg-white hover:bg-gray-50",children:[(0,t.jsx)(n.TableCell,{className:"py-4 px-4 align-top w-28",children:(0,t.jsx)("div",{className:"text-sm font-medium",children:tx(v)})}),(0,t.jsx)(n.TableCell,{className:"py-4 px-4 align-top",children:(0,t.jsx)("div",{className:"font-medium",children:v.name})}),(0,t.jsx)(n.TableCell,{className:"py-4 px-4 align-top",children:(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("div",{className:"flex -space-x-2",children:[(v.assignedEmployees||[]).slice(0,3).map(e=>(0,t.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white overflow-hidden bg-gray-100",title:e.name,children:e.profileUrl?(0,t.jsx)("img",{src:e.profileUrl,alt:e.name,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs text-white bg-gray-400",children:(e.name||"U").charAt(0)})},e.employeeId)),(v.assignedEmployees||[]).length>3&&(0,t.jsxs)("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 text-xs text-gray-700 flex items-center justify-center",children:["+",(v.assignedEmployees||[]).length-3]})]})})}),(0,t.jsx)(n.TableCell,{className:"py-4 px-4 align-top text-sm",children:w}),(0,t.jsx)(n.TableCell,{className:"py-4 px-4 align-top text-sm",children:N}),(0,t.jsx)(n.TableCell,{className:"py-4 px-4 align-top",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:(null==(a=v.client)?void 0:a.profilePictureUrl)?(0,t.jsx)("img",{src:v.client.profilePictureUrl,alt:null==(s=v.client)?void 0:s.name,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"text-xs text-gray-500",children:((null==(r=v.client)?void 0:r.name)||"C").charAt(0)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:null!=(m=null==(c=v.client)?void 0:c.name)?m:"Client"}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:null!=(p=null==(o=v.client)?void 0:o.company)?p:""})]})]})}),(0,t.jsx)(n.TableCell,{className:"py-4 px-4 align-top",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("div",{className:"w-44 cursor-pointer",title:"Click to filter by this progress bucket",onClick:()=>{var e,t;null==(t=null!=(e=v.progressPercent)?e:null)?F("all"):t<=33?F("0-33"):t<=66?F("34-66"):F("67-100"),q(1)},children:(0,t.jsxs)("div",{className:"relative bg-gray-200 h-4 rounded-full overflow-hidden",children:[(0,t.jsx)("div",{className:"h-4 rounded-full ".concat(D),style:{width:"".concat(b,"%")}}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,t.jsxs)("span",{className:"text-xs font-semibold text-white drop-shadow-sm",children:[b,"%"]})})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-full text-xs ".concat(function(e){switch(e){case"IN_PROGRESS":return"bg-green-600 text-white";case"NOT_STARTED":default:return"bg-gray-400 text-white";case"ON_HOLD":return"bg-yellow-500 text-white";case"CANCELLED":return"bg-red-600 text-white";case"FINISHED":return"bg-blue-600 text-white"}}(v.projectStatus)),title:"Click to filter by this status",onClick:()=>{var e;E(null!=(e=v.projectStatus)?e:"all"),q(1)},children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full",style:{background:function(e){switch(e){case"IN_PROGRESS":return"#10B981";case"NOT_STARTED":default:return"#9CA3AF";case"ON_HOLD":return"#F59E0B";case"CANCELLED":return"#EF4444";case"FINISHED":return"#3B82F6"}}(v.projectStatus)}}),(0,t.jsx)("span",{children:null!=(g=v.projectStatus)?g:"N/A"})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)(i.DropdownMenu,{children:[(0,t.jsx)(i.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded text-sm bg-white hover:bg-gray-50",children:(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"▾"})})}),(0,t.jsxs)(i.DropdownMenuContent,{align:"start",className:"w-64 p-2",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Change status"}),(0,t.jsx)("div",{className:"space-y-1",children:S.map(e=>(0,t.jsx)("button",{onClick:()=>td(v.id,e),className:"w-full text-left px-3 py-2 rounded text-sm hover:bg-gray-50 ".concat(e===v.projectStatus?"font-medium":""),children:e},e))}),(0,t.jsx)(i.DropdownMenuSeparator,{}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-2 mb-1",children:"Adjust progress"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"range",min:0,max:100,value:null!=(j=v.progressPercent)?j:0,onChange:e=>{let t=Number(e.target.value);f(e=>e.map(e=>e.id===v.id?{...e,progressPercent:t}:e))},onMouseUp:async e=>{let t=Number(e.target.value);await tu(v.id,t)},onTouchEnd:async e=>{let t=Number(e.target.value);await tu(v.id,t)},className:"w-full"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsx)("span",{children:"0%"}),(0,t.jsxs)("span",{children:[null!=(y=v.progressPercent)?y:0,"%"]}),(0,t.jsx)("span",{children:"100%"})]})]}),(0,t.jsx)("div",{className:"flex justify-end mt-2",children:(0,t.jsx)(l.Button,{size:"sm",variant:"ghost",onClick:()=>tn(null!=C?C:null),children:"Refresh"})})]})]})})]})]})}),(0,t.jsx)(n.TableCell,{className:"py-4 px-4 align-top text-right",children:(0,t.jsxs)(i.DropdownMenu,{children:[(0,t.jsx)(i.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,t.jsx)(u.MoreVertical,{className:"h-4 w-4"})})}),(0,t.jsxs)(i.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,t.jsxs)(i.DropdownMenuItem,{onClick:()=>window.location.assign("/employees/work/project/".concat(v.id)),children:[(0,t.jsx)(h.Eye,{className:"h-4 w-4 mr-2"})," View"]}),(0,t.jsxs)(i.DropdownMenuItem,{onClick:()=>th(v.id),children:[(0,t.jsx)(x.Pin,{className:"h-4 w-4 mr-2"})," ",v.pinned?"Unpin":"Pin"," Project"]}),(0,t.jsx)(i.DropdownMenuSeparator,{})]})]})})]},v.id)},ty=e=>{"calendar"===e?(te(!e9),e6(e9?"grid":"calendar")):(te(!1),e6(e))};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("main",{className:"w-full",children:(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto p-6  overflow-y-auto overflow-x-hidden",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg border p-3 mb-4 flex items-center gap-4 overflow-y-auto overflow-x-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Duration"}),(0,t.jsx)(s.Input,{type:"date",value:null!=O?O:"",onChange:e=>{B(e.target.value||null),q(1)},className:"w-40"}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"to"}),(0,t.jsx)(s.Input,{type:"date",value:null!=R?R:"",onChange:e=>{L(e.target.value||null),q(1)},className:"w-40"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,t.jsxs)(r.Select,{value:P,onValueChange:e=>{E(e),q(1)},children:[(0,t.jsx)(r.SelectTrigger,{className:"w-40",children:(0,t.jsx)(r.SelectValue,{placeholder:"All"})}),(0,t.jsxs)(r.SelectContent,{children:[(0,t.jsx)(r.SelectItem,{value:"all",children:"All"}),(0,t.jsx)(r.SelectItem,{value:"IN_PROGRESS",children:"In Progress"}),(0,t.jsx)(r.SelectItem,{value:"NOT_STARTED",children:"Not Started"}),(0,t.jsx)(r.SelectItem,{value:"ON_HOLD",children:"On Hold"}),(0,t.jsx)(r.SelectItem,{value:"CANCELLED",children:"Cancelled"}),(0,t.jsx)(r.SelectItem,{value:"FINISHED",children:"Finished"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Progress"}),(0,t.jsxs)(r.Select,{value:M,onValueChange:e=>{F(e),q(1)},children:[(0,t.jsx)(r.SelectTrigger,{className:"w-40",children:(0,t.jsx)(r.SelectValue,{placeholder:"All"})}),(0,t.jsxs)(r.SelectContent,{children:[(0,t.jsx)(r.SelectItem,{value:"all",children:"All"}),(0,t.jsx)(r.SelectItem,{value:"0-33",children:"0 - 33%"}),(0,t.jsx)(r.SelectItem,{value:"34-66",children:"34 - 66%"}),(0,t.jsx)(r.SelectItem,{value:"67-100",children:"67 - 100%"})]})]})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 border rounded px-2 py-1 bg-white",children:[(0,t.jsx)(d.Search,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)(s.Input,{placeholder:"Search",value:T,onChange:e=>k(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(I(T),q(1))},className:"border-0 bg-transparent focus-visible:ring-0"})]}),(0,t.jsxs)("div",{className:"flex items-center bg-white border rounded-lg overflow-hidden",children:[(0,t.jsx)("button",{onClick:()=>ty("grid"),className:"px-3 py-2 hover:bg-gray-50 ".concat("grid"!==e3||e9?"":"bg-violet-600 text-white"),title:"Grid / Table view",children:(0,t.jsx)(g.List,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{e8(e=>!e),!e7&&e2&&e5(!1)},className:"px-3 py-2 hover:bg-gray-50 ".concat(e7?"bg-gray-100":""),title:e7?"Showing pinned only":"Show pinned only",children:(0,t.jsx)(x.Pin,{className:"w-4 h-4"})})]}),(0,t.jsx)("button",{onClick:()=>ty("calendar"),className:"w-10 h-10 rounded bg-white border flex items-center justify-center ".concat(e9?"ring-2 ring-indigo-300":""),title:"Calendar view",children:(0,t.jsx)(m.Calendar,{className:"w-4 h-4 text-gray-600"})})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-blue-50 px-6 py-3 border-b flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"font-semibold text-gray-900",children:["Projects (",tj.length,")"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e2?"Viewing: Archived":e7?"Viewing: Pinned":"All active"})]}),(0,t.jsx)("div",{className:"overflow-auto p-4",children:"calendar"===e3||e9?(0,t.jsx)(w,{}):"list"===e3?(0,t.jsx)("div",{children:0===tj.length?(0,t.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No projects found"}):(0,t.jsx)("div",{className:"space-y-3",children:tj.map(e=>{var a,s,r;return(0,t.jsxs)("div",{className:"flex items-center justify-between border rounded p-3 bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium w-28",children:tx(e)}),(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:null!=(s=null==(a=e.client)?void 0:a.name)?s:"Client"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"text-sm",children:[null!=(r=e.progressPercent)?r:0,"%"]}),(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>window.location.assign("/employees/work/project/".concat(e.id)),children:"View"})]})]},e.id)})})}):(0,t.jsx)("div",{children:(0,t.jsxs)(n.Table,{children:[(0,t.jsx)(n.TableHeader,{children:(0,t.jsxs)(n.TableRow,{className:"bg-blue-50",children:[(0,t.jsx)(n.TableHead,{className:"px-4 py-3",children:"Code "}),(0,t.jsx)(n.TableHead,{className:"px-4 py-3",children:"Project Name"}),(0,t.jsx)(n.TableHead,{className:"px-4 py-3",children:"Members"}),(0,t.jsx)(n.TableHead,{className:"px-4 py-3",children:"Start Date"}),(0,t.jsx)(n.TableHead,{className:"px-4 py-3",children:"Deadline"}),(0,t.jsx)(n.TableHead,{className:"px-4 py-3",children:"Client"}),(0,t.jsx)(n.TableHead,{className:"px-4 py-3",children:"Status"}),(0,t.jsx)(n.TableHead,{className:"px-4 py-3 text-right",children:"Action"})]})}),(0,t.jsx)(n.TableBody,{children:0===tj.length?(0,t.jsx)(n.TableRow,{children:(0,t.jsx)(n.TableCell,{colSpan:8,className:"py-8 text-center text-gray-500",children:"No projects found"})}):tj.map(e=>(0,t.jsx)(tf,{p:e},e.id))})]})})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Result per page -",tj.length?tj.length:0]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{q(e=>Math.max(1,e-1))},disabled:1===K,children:[(0,t.jsx)(c.ChevronLeft,{})," Prev"]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",K," of ",W]}),(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{q(e=>Math.min(W,e+1))},disabled:K===W,children:["Next ",(0,t.jsx)(o.ChevronRight,{})]})]})]})]})}),(0,t.jsx)("div",{"aria-hidden":!H,onClick:tm,className:"fixed inset-0 transition-opacity duration-300 z-[9990] ".concat(H?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),style:{backgroundColor:"rgba(0,0,0,0.3)"}}),(0,t.jsxs)("aside",{"aria-hidden":!H,className:"fixed right-0 top-0 h-full w-[360px] bg-white shadow-xl transform transition-transform duration-300 z-[9999] ".concat(H?"translate-x-0":"translate-x-full"),role:"dialog","aria-modal":"true",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Filter,{className:"w-5 h-5"}),(0,t.jsx)("h3",{className:"font-semibold",children:"Filters"})]}),(0,t.jsx)("button",{onClick:tm,className:"p-2 rounded hover:bg-gray-100",children:(0,t.jsx)(j.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4 overflow-auto h-[calc(100%-140px)]",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Project"}),(0,t.jsxs)(r.Select,{value:V,onValueChange:e=>U(e),children:[(0,t.jsx)(r.SelectTrigger,{className:"w-full rounded border px-3 py-2",children:(0,t.jsx)(r.SelectValue,{placeholder:"All"})}),(0,t.jsxs)(r.SelectContent,{children:[(0,t.jsx)(r.SelectItem,{value:"all",children:"All"}),tt.map(e=>(0,t.jsx)(r.SelectItem,{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Project Members"}),(0,t.jsxs)(r.Select,{value:_,onValueChange:e=>G(e),children:[(0,t.jsx)(r.SelectTrigger,{className:"w-full rounded border px-3 py-2",children:(0,t.jsx)(r.SelectValue,{placeholder:"All"})}),(0,t.jsxs)(r.SelectContent,{children:[(0,t.jsx)(r.SelectItem,{value:"all",children:"All"}),ta.map(e=>(0,t.jsx)(r.SelectItem,{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Client"}),(0,t.jsxs)(r.Select,{value:Y,onValueChange:e=>J(e),children:[(0,t.jsx)(r.SelectTrigger,{className:"w-full rounded border px-3 py-2",children:(0,t.jsx)(r.SelectValue,{placeholder:"All"})}),(0,t.jsxs)(r.SelectContent,{children:[(0,t.jsx)(r.SelectItem,{value:"all",children:"All"}),tl.map(e=>(0,t.jsx)(r.SelectItem,{value:e.id,children:e.name},e.id))]})]})]})]}),(0,t.jsxs)("div",{className:"p-4 border-t flex items-center justify-between gap-2",children:[(0,t.jsx)(l.Button,{variant:"outline",onClick:tg,children:"Reset"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Button,{variant:"ghost",onClick:tm,children:"Close"}),(0,t.jsx)(l.Button,{className:"bg-blue-600 text-white",onClick:tp,children:"Apply"})]})]})]})]})}}]);