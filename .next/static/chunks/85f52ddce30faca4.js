(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,837410,e=>{"use strict";e.s(["default",()=>n]);var l=e.i(843476),t=e.i(271645),a=e.i(618566),r=e.i(522016);function n(){let{id:e}=(0,a.useParams)(),[n,i]=(0,t.useState)(null),[s,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(null),u=async()=>{if(!n)return void alert("Please select a file.");let l=new FormData;l.append("file",n);let t=localStorage.getItem("accessToken");if(!t)return void alert("You are not logged in!");o(!0);try{let a=await fetch("".concat("https://6jnqmj85-80.inc1.devtunnels.ms","/clients/").concat(e,"/documents"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:l});if(!a.ok){let e=await a.text();throw Error("Upload failed: ".concat(e))}let r=await a.json();c(r)}catch(e){console.error("Upload error:",e),e instanceof Error?alert(e.message):alert("Error uploading file")}finally{o(!1)}};return(0,l.jsxs)("div",{className:"p-4 border rounded-lg max-w-md mx-auto",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Upload Client Document"}),(0,l.jsx)("input",{type:"file",accept:"image/*,application/pdf",onChange:e=>{var l;return i((null==(l=e.target.files)?void 0:l[0])||null)},className:"mb-3"}),(0,l.jsx)("button",{onClick:u,disabled:!n||s,className:"bg-blue-600 text-white px-4 py-2 rounded-md disabled:bg-gray-400",children:s?"Uploading...":"Upload"}),d&&(0,l.jsxs)("div",{className:"mt-4 bg-gray-50 p-3 rounded",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"ID:"})," ",d.id]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"Filename:"})," ",d.filename]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("b",{children:"URL:"})," ",(0,l.jsx)(r.default,{href:d.url,className:"text-blue-600 underline break-all",target:"_blank",rel:"noopener noreferrer",children:d.url})]})]})]})}}]);