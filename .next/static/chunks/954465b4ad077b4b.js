(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,336874,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(843476),s=e.i(271645),a=e.i(618566);function l(){let e=(0,a.useRouter)(),[l,o]=(0,s.useState)(!1),[r,d]=(0,s.useState)(null),[i,n]=(0,s.useState)(null),c=async t=>{t.preventDefault(),o(!0),d(null),n(null);try{let t=localStorage.getItem("accessToken");if(!t)return void d("No access token found. Please log in.");if(!(await fetch("/api/deals/stages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({})})).ok)throw Error("Failed to create stage");n("Stage 'Lost' added successfully!"),setTimeout(()=>e.push("/deals/stages"),1500)}catch(e){console.error(e),d("Failed to create stage. Please try again later.")}finally{o(!1)}};return(0,t.jsxs)("div",{className:"p-6 max-w-md mx-auto",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Add Lost Stage"}),(0,t.jsxs)("form",{onSubmit:c,className:"bg-white p-6 border rounded-2xl shadow-sm",children:[r&&(0,t.jsx)("div",{className:"mb-4 text-red-600 text-sm font-semibold",children:r}),i&&(0,t.jsx)("div",{className:"mb-4 text-green-600 text-sm font-semibold",children:i}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stage Name"}),(0,t.jsx)("input",{type:"text",value:"Lost",disabled:!0,className:"w-full p-2 border rounded-lg bg-gray-100 cursor-not-allowed"})]}),(0,t.jsx)("button",{type:"submit",disabled:l,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition ".concat(l?"opacity-50 cursor-not-allowed":""),children:l?"Adding...":"Add Stage"})]})]})}}]);