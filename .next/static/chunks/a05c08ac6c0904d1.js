(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,572767,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(843476),a=e.i(271645),s=e.i(522016),l=e.i(618566);let n="".concat("https://6jnqmj85-80.inc1.devtunnels.ms"),r="/mnt/data/Screenshot 2025-11-22 120859.png";function i(){var e,i,c;let o=(0,l.useParams)(),d=null==o?void 0:o.id,[m,x]=(0,a.useState)(null),[u,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null),[f,j]=(0,a.useState)("files"),[y,v]=(0,a.useState)([]),[N,b]=(0,a.useState)([]),[w,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)(null),T=(0,a.useRef)(null),[A,D]=(0,a.useState)(null),[E,L]=(0,a.useState)(null),[I,P]=(0,a.useState)(!1),[B,F]=(0,a.useState)([]),[U,z]=(0,a.useState)(!1),[M,_]=(0,a.useState)(null),[O,R]=(0,a.useState)(!1),[W,G]=(0,a.useState)(null),[J,V]=(0,a.useState)(!1),[H,Y]=(0,a.useState)([]),[K,q]=(0,a.useState)(!1),[$,Q]=(0,a.useState)(null),[X,Z]=(0,a.useState)(!1),[ee,et]=(0,a.useState)([]),[ea,es]=(0,a.useState)([]),[el,en]=(0,a.useState)([]),[er,ei]=(0,a.useState)(null),[ec,eo]=(0,a.useState)(""),[ed,em]=(0,a.useState)(!1),[ex,eu]=(0,a.useState)(null),[eh,ep]=(0,a.useState)(""),[eg,ef]=(0,a.useState)([]),[ej,ey]=(0,a.useState)(!1),[ev,eN]=(0,a.useState)(null),[eb,ew]=(0,a.useState)(!1),[ek,eC]=(0,a.useState)("add"),[eS,eT]=(0,a.useState)(null),[eA,eD]=(0,a.useState)(!1),[eE,eL]=(0,a.useState)(null),[eI,eP]=(0,a.useState)([]),[eB,eF]=(0,a.useState)(!1),[eU,ez]=(0,a.useState)(null),[eM,e_]=(0,a.useState)(!1),[eO,eR]=(0,a.useState)(""),[eW,eG]=(0,a.useState)(!1),[eJ,eV]=(0,a.useState)(null),[eH,eY]=(0,a.useState)(!1),[eK,eq]=(0,a.useState)(""),[e$,eQ]=(0,a.useState)(!1),[eX,eZ]=(0,a.useState)(null),[e0,e2]=(0,a.useState)(null),e1=async()=>{if(d){h(!0);try{let e=localStorage.getItem("accessToken");if(!e){g("No access token found. Please log in."),h(!1);return}let t=await fetch("/api/deals/get/".concat(d),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch deal: ".concat(t.statusText));let a=await t.json();x(a)}catch(e){console.error(e),g(e.message||"Failed to load deal details. Please try again later.")}finally{h(!1)}}};(0,a.useEffect)(()=>{if(!d){g("Deal ID not found"),h(!1);return}e1()},[d]),(0,a.useEffect)(()=>{d&&(async()=>{k(!0),S(null);try{let e=localStorage.getItem("accessToken");if(!e){S("No access token found"),k(!1);return}let t=await fetch("".concat(n,"/deals/").concat(d,"/documents"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok){let e=await t.text().catch(()=>"");throw Error("Failed to fetch documents: ".concat(t.status," ").concat(e))}let a=await t.json();Array.isArray(a)?v(a):(Array.isArray(a.employeeIds)&&b(a.employeeIds),Array.isArray(a.documents)&&v(a.documents))}catch(e){console.error(e),S(e.message||"Failed to load documents")}finally{k(!1)}})()},[d]),(0,a.useEffect)(()=>{d&&(async()=>{z(!0),_(null);try{let e=localStorage.getItem("accessToken");if(!e){_("No access token found"),z(!1);return}let t=await fetch("".concat(n,"/deals/").concat(d,"/followups"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok){let e=await t.text().catch(()=>"");throw Error("Failed to fetch followups: ".concat(t.status," ").concat(e))}let a=await t.json();Array.isArray(a)&&F(a)}catch(e){console.error(e),_(e.message||"Failed to load followups")}finally{z(!1)}})()},[d]);let e6=async()=>{if(d){q(!0),Q(null);try{let e=localStorage.getItem("accessToken");if(!e){Q("No access token found"),q(!1);return}let t=await fetch("".concat(n,"/deals/").concat(d,"/employees"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok){let e=await t.text().catch(()=>"");throw Error("Failed to fetch employees: ".concat(t.status," ").concat(e))}let a=await t.json();Array.isArray(a)?Y(a):Array.isArray(a.employees)?Y(a.employees):Y([])}catch(e){console.error(e),Q(e.message||"Failed to load employees")}finally{q(!1)}}};(0,a.useEffect)(()=>{d&&e6()},[d]);let e4=async()=>{if(d){ey(!0),eN(null);try{let e=localStorage.getItem("accessToken");if(!e){eN("No access token found"),ey(!1);return}let t=await fetch("".concat(n,"/deals/").concat(d,"/notes"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok){let e=await t.text().catch(()=>"");throw Error("Failed to fetch notes: ".concat(t.status," ").concat(e))}let a=await t.json();Array.isArray(a)?ef(a):ef([])}catch(e){console.error(e),eN(e.message||"Failed to load notes")}finally{ey(!1)}}};(0,a.useEffect)(()=>{d&&e4()},[d]);let e5=async()=>{if(d){eF(!0),ez(null);try{let e=localStorage.getItem("accessToken");if(!e){ez("No access token found"),eF(!1);return}let t=await fetch("".concat(n,"/deals/").concat(d,"/tags"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok){let e=await t.text().catch(()=>"");throw Error("Failed to fetch tags: ".concat(t.status," ").concat(e))}let a=await t.json();Array.isArray(a)?eP(a):eP([])}catch(e){console.error(e),ez(e.message||"Failed to load tags")}finally{eF(!1)}}};(0,a.useEffect)(()=>{d&&e5()},[d]);let e3=async()=>{Z(!0),eo(""),ei(null),em(!1),Q(null),await e6();try{let s=localStorage.getItem("accessToken");if(!s)return void Q("No access token found");let l=await fetch("".concat(n,"/admin/departments"),{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}});if(l.ok){let e=await l.json();if(Array.isArray(e)){let t=e.map(e=>"string"==typeof e?e:e.name||e.department||"").filter(Boolean);en(t)}}else console.warn("Failed to fetch departments",l.statusText);let r=await fetch("".concat(n,"/employee/all?page=0&size=200"),{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}});if(r.ok){let s=await r.json(),l=[];if(Array.isArray(s))l=s;else if(Array.isArray(s.content))l=s.content;else if(Array.isArray(s.employees))l=s.employees;else{var e,t,a;l=null!=(a=null==(e=(t=Object.values(s)).flat)?void 0:e.call(t))?a:[]}let n=l.map(e=>{var t,a,s,l,n,r,i,c,o,d,m,x,u,h;return{employeeId:null!=(l=null!=(s=null!=(a=null!=(t=e.employeeId)?t:e.id)?a:e.empId)?s:e.employee_id)?l:"",name:null!=(i=null!=(r=null!=(n=e.name)?n:e.fullName)?r:e.employeeName)?i:"",department:null!=(d=null!=(o=null!=(c=e.department)?c:e.dept)?o:e.departmentName)?d:"",designation:null!=(x=null!=(m=e.designation)?m:e.title)?x:"",profileUrl:null!=(h=null!=(u=e.profileUrl)?u:e.avatar)?h:""}}).filter(e=>e.employeeId&&e.name);et(n);let i=new Set(H.map(e=>e.employeeId)),c=n.filter(e=>!i.has(e.employeeId));es(c),ei(c.length>0?c[0].employeeId:null)}else console.warn("Failed to fetch employee pool",r.statusText)}catch(e){console.error("Error loading add-people resources",e),Q("Failed to load available employees / departments")}},e8=()=>{Z(!1),ei(null),es([]),em(!1),eu(null),ep(""),eo("")};(0,a.useEffect)(()=>{if(!X)return;let e=new Set(H.map(e=>e.employeeId)),t=ee.filter(t=>!e.has(t.employeeId));ec&&""!==ec&&(t=t.filter(e=>(e.department||"").toLowerCase()===ec.toLowerCase())),es(t),ei(t.length>0?t[0].employeeId:null)},[ec,ee,H,X]);let e9=async()=>{if(d){if(!er)return void alert("Select an employee to add");em(!0);try{let e=localStorage.getItem("accessToken");if(!e){alert("No access token found"),em(!1);return}let t=await fetch("".concat(n,"/deals/").concat(d,"/employees"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({employeeIds:[er]})});if(!t.ok){let e=await t.text().catch(()=>"");throw Error("Failed to add employee: ".concat(t.status," ").concat(e))}await e6(),es(e=>e.filter(e=>e.employeeId!==er)),ei(null),Z(!1)}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to add employee")}finally{em(!1)}}},e7=async e=>{if(d&&e&&confirm("Are you sure you want to remove this person from the deal?")){eu(e);try{let t=localStorage.getItem("accessToken");if(!t){alert("No access token found"),eu(null);return}let a=await fetch("".concat(n,"/deals/").concat(d,"/employees/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Failed to remove employee: ".concat(a.status," ").concat(e))}await e6()}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to remove employee")}finally{eu(null)}}},te=()=>{R(!1),G(null)},tt=async()=>{if(W){V(!0);try{let e=localStorage.getItem("accessToken");if(!e){alert("No access token found"),V(!1);return}let t={nextDate:W.nextDate,startTime:W.startTime,remarks:W.remarks,sendReminder:W.sendReminder,remindBefore:W.remindBefore,remindUnit:W.remindUnit};if(W.status&&(t.status=W.status),W.id){let a=await fetch("".concat(n,"/deals/").concat(d,"/followups/").concat(W.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Failed to update followup: ".concat(a.status," ").concat(e))}let s=await a.json();F(e=>e.map(e=>e.id===s.id?s:e))}else{let a=await fetch("".concat(n,"/deals/").concat(d,"/followups"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Failed to create followup: ".concat(a.status," ").concat(e))}let s=await a.json();F(e=>[s,...e])}te()}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to save followup")}finally{V(!1)}}},ta=async e=>{if(e&&confirm("Are you sure you want to delete this follow up?"))try{let t=localStorage.getItem("accessToken");if(!t)return void alert("No access token found");let a=await fetch("".concat(n,"/deals/").concat(d,"/followups/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Failed to delete followup: ".concat(a.status," ").concat(e))}F(t=>t.filter(t=>t.id!==e))}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to delete followup")}},ts=()=>{ew(!1),eT(null)},tl=async()=>{if(d&&eS){if(!eS.noteTitle||!eS.noteTitle.trim())return void alert("Please enter note title");eD(!0);try{var e,t;let a,s=localStorage.getItem("accessToken");if(!s){alert("No access token found"),eD(!1);return}let l={noteTitle:eS.noteTitle.trim(),noteType:null!=(e=eS.noteType)?e:"PUBLIC",noteDetails:null!=(t=eS.noteDetails)?t:""};if(!(a="edit"===ek&&null!=eS.id?await fetch("".concat(n,"/deals/").concat(d,"/notes/").concat(eS.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify(l)}):await fetch("".concat(n,"/deals/").concat(d,"/notes"),{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify(l)})).ok){let e=await a.text().catch(()=>"");throw Error("Failed to save note: ".concat(a.status," ").concat(e))}await e4(),ts()}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to save note")}finally{eD(!1)}}},tn=async e=>{if(d&&null!=e&&confirm("Are you sure you want to delete this note?")){eL(e);try{let t=localStorage.getItem("accessToken");if(!t){alert("No access token found"),eL(null);return}let a=await fetch("".concat(n,"/deals/").concat(d,"/notes/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Failed to delete note: ".concat(a.status," ").concat(e))}await e4()}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to delete note")}finally{eL(null)}}},tr=()=>{e_(!1),eR("")},ti=async()=>{if(d){if(!eO.trim())return void alert("Please enter a tag name");eG(!0);try{let e=localStorage.getItem("accessToken");if(!e){alert("No access token found"),eG(!1);return}let t={tagName:eO.trim()},a=await fetch("".concat(n,"/deals/").concat(d,"/tags"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Failed to save tag: ".concat(a.status," ").concat(e))}await e5(),tr()}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to save tag")}finally{eG(!1)}}},tc=async e=>{if(d&&null!=e&&confirm("Are you sure you want to delete this tag?")){eV(e);try{let t=localStorage.getItem("accessToken");if(!t){alert("No access token found"),eV(null);return}let a=await fetch("".concat(n,"/deals/").concat(d,"/tags/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Failed to delete tag: ".concat(a.status," ").concat(e))}await e5()}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to delete tag")}finally{eV(null)}}},to=()=>{eY(!1),eq("")},td=async()=>{if(d){if(!eK.trim())return void alert("Please enter a comment");eQ(!0);try{let e=localStorage.getItem("accessToken");if(!e){eQ(!1),alert("No access token found");return}let t={commentText:eK.trim()},a=await fetch("".concat(n,"/deals/").concat(d,"/comments"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Failed to save comment: ".concat(a.status," ").concat(e))}await e1(),to()}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to save comment")}finally{eQ(!1)}}},tm=async e=>{if(d&&null!=e&&confirm("Are you sure you want to delete this comment?")){eZ(e);try{let t=localStorage.getItem("accessToken");if(!t){eZ(null),alert("No access token found");return}let a=await fetch("".concat(n,"/deals/").concat(d,"/comments/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Failed to delete comment: ".concat(a.status," ").concat(e))}await e1()}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to delete comment")}finally{eZ(null)}}},tx=H.filter(e=>(e.name||"").toLowerCase().includes(eh.toLowerCase()));(0,a.useEffect)(()=>{let e=()=>{e2(null)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);let tu=(e,t)=>{t.stopPropagation(),e2(t=>t===e?null:e)},th=e=>{e.stopPropagation()},tp=async()=>{try{P(!0);let e=localStorage.getItem("accessToken");if(!e){alert("No access token found"),P(!1);return}let t=new FormData,a=r.split("/").pop()||"upload.png";if(A)t.append("file",A),a=A.name,t.append("filename",a),t.append("url",A.name);else{let e="LOCAL_PATH:".concat(r),s=new Blob([e],{type:"text/plain"}),l=new File([s],a,{type:"text/plain"});t.append("file",l),t.append("filename",a),t.append("url",r)}let s=await fetch("".concat(n,"/deals/").concat(d,"/documents"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:t});if(!s.ok){let e=await s.text().catch(()=>"");throw Error("Failed to upload document: ".concat(s.status," ").concat(e))}let l=await s.json();v(e=>[l,...e]),D(null),L(null),T.current&&(T.current.value="")}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to upload document")}finally{P(!1)}},tg=async e=>{if(confirm("Are you sure you want to delete this document?"))try{let t=localStorage.getItem("accessToken");if(!t)return void alert("No access token found");let a=await fetch("".concat(n,"/deals/").concat(d,"/documents/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Failed to delete document: ".concat(a.status," ").concat(e))}v(t=>t.filter(t=>t.id!==e))}catch(e){console.error(e),alert((null==e?void 0:e.message)||"Failed to delete document")}};return u?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen text-lg font-semibold",children:"Loading deal details..."}):p||!m?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen text-lg font-semibold text-red-600",children:[(0,t.jsx)("div",{children:p||"Deal not found"}),(0,t.jsx)(s.default,{href:"/deals/get",className:"mt-4 text-blue-600 hover:underline",children:"Back to Deals"})]}):(0,t.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(s.default,{href:"/deals/get",className:"inline-flex items-center gap-2 text-blue-600 hover:underline mb-2",children:"â† Back to Deals"}),(0,t.jsxs)("h1",{className:"text-2xl font-semibold text-gray-900",children:["Deal fbvhh ",m.title||m.id]})]}),(0,t.jsx)("button",{onClick:()=>window.history.back(),"aria-label":"Close",className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_360px] gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-white border rounded-2xl p-6 shadow-sm mb-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Sales Pipeline"})," â†’"," ",(0,t.jsx)("span",{className:"font-semibold",children:m.dealStage||"â€”"})]}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:m.title||"â€”"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",m.id]})]}),(0,t.jsx)("div",{className:"flex items-start gap-3",children:(0,t.jsx)("button",{className:"p-2 rounded-md hover:bg-slate-50",children:(0,t.jsxs)("svg",{className:"w-5 h-5 text-gray-400",viewBox:"0 0 24 24",fill:"none",children:[(0,t.jsx)("circle",{cx:"5",cy:"12",r:"1.5"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,t.jsx)("circle",{cx:"19",cy:"12",r:"1.5"})]})})})]}),(0,t.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Deal Name"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.title||"â€”"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Lead Contact"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.leadName||"â€”"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Email"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.leadEmail||"â€”"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Company Name"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.leadCompany||"â€”"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Deal Category"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.dealCategory||"â€”"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Deal Agent"}),(0,t.jsx)("span",{className:"text-gray-900",children:(null==(e=m.dealAgentMeta)?void 0:e.name)||m.dealAgent||"â€”"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Deal Watcher"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.dealWatchersMeta&&m.dealWatchersMeta.map(e=>e.name).join(", ")||m.dealWatchers&&m.dealWatchers.join(", ")||"â€”"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Close Date"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.expectedCloseDate?new Date(m.expectedCloseDate).toLocaleDateString():"â€”"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Deal Value"}),(0,t.jsx)("span",{className:"text-gray-900",children:"number"==typeof m.value?"$".concat(m.value.toLocaleString(void 0)):"â€”"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white border rounded-2xl p-4 shadow-sm",children:[(0,t.jsx)("div",{className:"border-b -mx-4 px-4",children:(0,t.jsxs)("nav",{className:"flex gap-6 text-sm",children:[(0,t.jsx)("button",{onClick:()=>j("files"),className:"py-3 px-1 ".concat("files"===f?"border-b-2 border-violet-500 text-violet-600":"text-gray-600"),children:"Files"}),(0,t.jsx)("button",{onClick:()=>j("followups"),className:"py-3 px-1 ".concat("followups"===f?"border-b-2 border-violet-500 text-violet-600":"text-gray-600"),children:"Follow Up"}),(0,t.jsx)("button",{onClick:()=>j("people"),className:"py-3 px-1 ".concat("people"===f?"border-b-2 border-violet-500 text-violet-600":"text-gray-600"),children:"People"}),(0,t.jsx)("button",{onClick:()=>j("notes"),className:"py-3 px-1 ".concat("notes"===f?"border-b-2 border-violet-500 text-violet-600":"text-gray-600"),children:"Notes"}),(0,t.jsx)("button",{onClick:()=>j("comments"),className:"py-3 px-1 ".concat("comments"===f?"border-b-2 border-violet-500 text-violet-600":"text-gray-600"),children:"Comments"}),(0,t.jsx)("button",{onClick:()=>j("tags"),className:"py-3 px-1 ".concat("tags"===f?"border-b-2 border-violet-500 text-violet-600":"text-gray-600"),children:"Tags"})]})}),(0,t.jsxs)("div",{className:"p-6 min-h-[180px]",children:["files"===f&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{ref:T,type:"file",accept:"*/*",className:"hidden",onChange:e=>{let t=e.target.files&&e.target.files[0];t?(D(t),L(t.name)):(D(null),L(null))}}),(0,t.jsxs)("button",{type:"button",className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-violet-600 hover:bg-violet-50",onClick:()=>{var e;D(null),L(null),null==(e=T.current)||e.click()},children:[(0,t.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,t.jsx)("path",{d:"M12 4v12",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M8 8l4-4 4 4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M20 20H4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Choose File"]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:E?(0,t.jsxs)("span",{children:["Selected: ",E]}):(0,t.jsx)("span",{children:"No file selected (will use developer local file if you press Upload without selecting)."})})]}),(0,t.jsxs)("div",{className:"mt-3 flex gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:tp,disabled:I,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-white ".concat(I?"bg-gray-400":"bg-violet-600 hover:bg-violet-700"),children:I?"Uploading...":"Upload"}),(0,t.jsx)("button",{type:"button",onClick:()=>{D(null),L(null),T.current&&(T.current.value="")},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-gray-600 hover:bg-slate-50",children:"Clear"})]}),(0,t.jsxs)("div",{className:"mt-6 text-sm text-gray-500",children:[w&&(0,t.jsx)("div",{children:"Loading documents..."}),C&&(0,t.jsx)("div",{className:"text-red-600",children:C}),!w&&0===y.length&&(0,t.jsx)("div",{children:"No files uploaded yet."}),(0,t.jsx)("div",{className:"space-y-3 mt-4",children:y.map((e,a)=>{var s;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-md overflow-hidden bg-slate-100 flex items-center justify-center text-xs text-gray-400",children:(0,t.jsx)("img",{src:e.url||r,alt:e.filename,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("div",{className:"font-medium",children:e.filename}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Uploaded: ",e.uploadedAt?new Date(e.uploadedAt).toLocaleString():"â€”"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("a",{href:e.url||r,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-sky-600 hover:underline",children:"View"}),(0,t.jsx)("button",{onClick:()=>tg(e.id),className:"text-sm text-red-600 hover:underline",children:"Delete"})]})]},null!=(s=e.id)?s:"".concat(e.filename,"-").concat(a))})})]})]}),"followups"===f&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("button",{type:"button",onClick:()=>{G({nextDate:"",startTime:"",remarks:"",sendReminder:!0,remindBefore:1,remindUnit:"DAYS",status:"PENDING"}),R(!0)},className:"inline-flex items-center gap-2 text-blue-600",children:[(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,t.jsx)("path",{d:"M12 5v14",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M5 12h14",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Add a Follow Up"]})}),(0,t.jsxs)("div",{className:"rounded-md border overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-blue-50 text-sm text-gray-700 grid grid-cols-[1fr_1fr_1fr_1fr_80px] gap-3 p-2 items-center font-medium",children:[(0,t.jsx)("div",{children:"Created"}),(0,t.jsx)("div",{children:"Follow Up"}),(0,t.jsx)("div",{children:"Remark"}),(0,t.jsx)("div",{className:"text-center",children:"Status"}),(0,t.jsx)("div",{className:"text-center",children:"Action"})]}),(0,t.jsxs)("div",{children:[U&&(0,t.jsx)("div",{className:"p-4",children:"Loading followups..."}),M&&(0,t.jsx)("div",{className:"p-4 text-red-600",children:M}),!U&&0===B.length&&(0,t.jsx)("div",{className:"p-4 text-sm text-gray-500",children:"No follow ups"}),B.map((e,a)=>{var s,l,n;let r;return(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_1fr_1fr_80px] gap-4 items-center p-4 border-t",children:[(0,t.jsx)("div",{children:(r=e.nextDate)?new Date(r).toLocaleDateString():"â€”"}),(0,t.jsx)("div",{children:e.startTime||"â€”"}),(0,t.jsx)("div",{children:e.remarks||"---"}),(0,t.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"inline-block w-3 h-3 rounded-full ".concat("PENDING"===e.status?"bg-yellow-400":"CANCELLED"===e.status?"bg-gray-400":"COMPLETED"===e.status?"bg-green-400":"bg-gray-300")}),(0,t.jsx)("span",{className:"text-sm",children:null!=(s=e.status)?s:"PENDING"})]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:t=>{var s;return tu("followup-".concat(null!=(s=e.id)?s:a),t)},className:"p-1 rounded hover:bg-slate-50 text-gray-500","aria-label":"Actions",children:"â‹®"}),e0==="followup-".concat(null!=(l=e.id)?l:a)&&(0,t.jsxs)("div",{onClick:th,className:"absolute right-0 mt-2 w-36 bg-white border rounded-md shadow-sm z-50",children:[(0,t.jsx)("button",{onClick:()=>{var t,a,s;G({id:e.id,nextDate:e.nextDate?e.nextDate.split("T")[0]:e.nextDate||"",startTime:e.startTime?e.startTime.slice(0,5):e.startTime||"",remarks:e.remarks||"",sendReminder:!!e.sendReminder,remindBefore:null!=(t=e.remindBefore)?t:1,remindUnit:null!=(a=e.remindUnit)?a:"DAYS",status:null!=(s=e.status)?s:"PENDING"}),R(!0),e2(null)},className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>{ta(e.id),e2(null)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-slate-50",children:"Delete"})]})]})]},null!=(n=e.id)?n:"followup-".concat(a))})]})]})]}),"people"===f&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("button",{type:"button",onClick:e3,className:"inline-flex items-center gap-2 text-blue-600",children:[(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,t.jsx)("path",{d:"M12 5v14",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M5 12h14",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Add People"]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)("input",{type:"search",placeholder:"Search",value:eh,onChange:e=>ep(e.target.value),className:"rounded-full border px-3 py-2 text-sm"})})]}),(0,t.jsxs)("div",{className:"rounded-md border overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-blue-50 text-sm text-gray-700 grid grid-cols-[1fr_1fr_1fr_80px] gap-3 p-2 items-center font-medium",children:[(0,t.jsx)("div",{children:"Name"}),(0,t.jsx)("div",{children:"Department"}),(0,t.jsx)("div",{className:"text-center",children:"Designation"}),(0,t.jsx)("div",{className:"text-center",children:"Action"})]}),(0,t.jsxs)("div",{children:[K&&(0,t.jsx)("div",{className:"p-4",children:"Loading people..."}),$&&(0,t.jsx)("div",{className:"p-4 text-red-600",children:$}),!K&&0===H.length&&(0,t.jsx)("div",{className:"p-4 text-sm text-gray-500",children:"No people assigned"}),tx.map((e,a)=>{var s;return(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_1fr_80px] gap-4 items-center p-4 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-slate-100",children:e.profileUrl?(0,t.jsx)("img",{src:e.profileUrl,alt:e.name,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-400",children:"N"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.designation||""}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:["ID: ",e.employeeId]})]})]}),(0,t.jsx)("div",{className:"text-sm",children:e.department||"â€”"}),(0,t.jsx)("div",{className:"text-sm text-center",children:e.designation||"â€”"}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:()=>e7(e.employeeId),disabled:ex===e.employeeId,className:"text-red-600 hover:underline","aria-label":"Remove",children:ex===e.employeeId?"Removing...":"ðŸ—‘ï¸"})})]},null!=(s=e.employeeId)?s:"emp-".concat(a))})]})]})]}),"notes"===f&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("button",{onClick:()=>{eC("add"),eT({noteTitle:"",noteType:"PUBLIC",noteDetails:""}),ew(!0)},className:"inline-flex items-center gap-2 text-blue-600",children:[(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"11",strokeWidth:"1"}),(0,t.jsx)("path",{d:"M12 8v8M8 12h8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Add a Note"]})}),(0,t.jsxs)("div",{className:"rounded-md border overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-blue-50 text-sm text-gray-700 grid grid-cols-[1fr_1fr_80px] gap-3 p-3 items-center font-medium rounded-t-md",children:[(0,t.jsx)("div",{children:"Note Title"}),(0,t.jsx)("div",{children:"Note Type"}),(0,t.jsx)("div",{className:"text-center",children:"Action"})]}),(0,t.jsxs)("div",{children:[ej&&(0,t.jsx)("div",{className:"p-6 text-sm text-gray-500",children:"Loading notes..."}),ev&&(0,t.jsx)("div",{className:"p-6 text-sm text-red-600",children:ev}),!ej&&0===eg.length&&(0,t.jsx)("div",{className:"p-6 text-sm text-gray-500",children:"No notes yet."}),eg.map((e,a)=>{var s,l;return(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_80px] items-start border-t p-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.noteTitle}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.id," â€¢ ",e.createdBy||"--"]})]}),(0,t.jsx)("div",{className:"text-sm",children:(0,t.jsx)("div",{className:"inline-flex items-center gap-2",children:(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"PUBLIC"===e.noteType?"ðŸŒ Public":"ðŸ”’ Private"})})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("div",{className:"relative inline-block",children:[(0,t.jsx)("button",{onClick:t=>{var s;return tu("note-".concat(null!=(s=e.id)?s:a),t)},className:"p-1 rounded hover:bg-slate-50 text-gray-500","aria-label":"Actions",children:"â‹®"}),e0==="note-".concat(null!=(s=e.id)?s:a)&&(0,t.jsxs)("div",{onClick:th,className:"absolute right-0 mt-2 w-40 bg-white border rounded-md shadow-sm z-50",children:[(0,t.jsx)("button",{onClick:()=>{eC("view"),eT(e),ew(!0),e2(null)},className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",children:"View"}),(0,t.jsx)("button",{onClick:()=>{eC("edit"),eT(e),ew(!0),e2(null)},className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>{tn(e.id),e2(null)},disabled:eE===e.id,className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-slate-50",children:eE===e.id?"Deleting...":"Delete"})]})]})})]},null!=(l=e.id)?l:"note-".concat(a))})]})]})]}),"comments"===f&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("button",{onClick:()=>{eq(""),eY(!0)},className:"inline-flex items-center gap-2 text-blue-600",children:[(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"11",strokeWidth:"1"}),(0,t.jsx)("path",{d:"M12 8v8M8 12h8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Add a Comment"]})}),(0,t.jsxs)("div",{className:"rounded-md border overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-blue-50 text-sm text-gray-700 grid grid-cols-[140px_1fr_80px] gap-3 p-3 items-center font-medium rounded-t-md",children:[(0,t.jsx)("div",{children:"Date"}),(0,t.jsx)("div",{children:"Comment"}),(0,t.jsx)("div",{className:"text-center",children:"Action"})]}),(0,t.jsxs)("div",{children:[(!m.comments||0===m.comments.length)&&(0,t.jsx)("div",{className:"p-6 text-sm text-gray-500",children:"No comments yet."}),m.comments&&m.comments.length>0&&m.comments.map((e,a)=>{var s,l;return(0,t.jsxs)("div",{className:"grid grid-cols-[140px_1fr_80px] items-start border-t p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-700",children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsx)("div",{className:"text-sm text-gray-700",children:e.commentText||"--"}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:()=>tm(e.id),disabled:eX===e.id,className:"text-red-600 hover:underline","aria-label":"Delete comment",children:eX===e.id?"Deleting...":"ðŸ—‘ï¸"})})]},e.id||"".concat(null!=(s=e.employeeId)?s:"emp","-").concat(null!=(l=e.createdAt)?l:a))})]})]})]}),"tags"===f&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("button",{onClick:()=>{eR(""),e_(!0)},className:"inline-flex items-center gap-2 text-blue-600",children:[(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"11",strokeWidth:"1"}),(0,t.jsx)("path",{d:"M12 8v8M8 12h8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Add a Tag"]})}),(0,t.jsxs)("div",{className:"rounded-md border overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-blue-50 text-sm text-gray-700 grid grid-cols-[1fr_80px] gap-3 p-3 items-center font-medium rounded-t-md",children:[(0,t.jsx)("div",{children:"Tag Name"}),(0,t.jsx)("div",{className:"text-center",children:"Action"})]}),(0,t.jsxs)("div",{children:[eB&&(0,t.jsx)("div",{className:"p-6 text-sm text-gray-500",children:"Loading tags..."}),eU&&(0,t.jsx)("div",{className:"p-6 text-sm text-red-600",children:eU}),!eB&&0===eI.length&&(0,t.jsx)("div",{className:"p-6 text-sm text-gray-500",children:"No tags yet."}),eI.map((e,a)=>{var s;let l="string"==typeof e?e:e.tagName,n="string"==typeof e?void 0:e.id,r="".concat("string"==typeof e?e:null!=(s=e.id)?s:e.tagName,"-").concat(a);return(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_80px] items-center border-t p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-700",children:l}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:()=>tc(n),disabled:eJ===n,className:"text-red-600","aria-label":"Delete tag",children:eJ===n?"Deleting...":"ðŸ—‘ï¸"})})]},r)})]})]})]}),"tags"===f&&(0,t.jsx)(t.Fragment,{})]})]})]}),(0,t.jsx)("aside",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"bg-white border rounded-2xl p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Lead Contact Details"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Name"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.leadName||"â€”"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Email"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.leadEmail||"â€”"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Mobile"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.leadMobile||"â€”"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Company Name"}),(0,t.jsx)("span",{className:"text-gray-900",children:m.leadCompany||"â€”"})]}),(0,t.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,t.jsxs)("a",{href:m.leadEmail?"mailto:".concat(m.leadEmail):"#",onClick:e=>{m.leadEmail||e.preventDefault()},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-sky-600 hover:bg-sky-50",children:[(0,t.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,t.jsx)("path",{d:"M3 8l9 6 9-6",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M21 19H3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Email"]}),(0,t.jsxs)("a",{href:m.leadMobile?"tel:".concat(m.leadMobile):"#",onClick:e=>{m.leadMobile||e.preventDefault()},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-sky-600 hover:bg-sky-50",children:[(0,t.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.86 19.86 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.86 19.86 0 0 1 2.09 4.18 2 2 0 0 1 4 2h3a2 2 0 0 1 2 1.72c.12.9.36 1.77.72 2.58a2 2 0 0 1-.45 2.11L9.91 9.91a14 14 0 0 0 6 6l1.5-1.5a2 2 0 0 1 2.11-.45c.81.36 1.68.6 2.58.72A2 2 0 0 1 22 16.92z",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"})}),"Call"]})]})]})]})})]}),O&&W&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-20",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:te}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-4xl rounded-2xl shadow-xl border p-6 mx-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:W.id?"Edit Follow Up":"Add Follow Up"}),(0,t.jsx)("button",{onClick:te,className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-6 mb-6",children:[(0,t.jsx)("div",{className:"text-sm font-medium mb-4",children:"Follow Up Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Next Follow Up *"}),(0,t.jsx)("input",{type:"date",value:W.nextDate,onChange:e=>G({...W,nextDate:e.target.value}),className:"mt-2 block w-full rounded-md border px-3 py-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Start Time *"}),(0,t.jsx)("input",{type:"time",value:W.startTime,onChange:e=>G({...W,startTime:e.target.value}),className:"mt-2 block w-full rounded-md border px-3 py-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Status"}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border ".concat("PENDING"===W.status?"bg-yellow-50 border-yellow-200":"COMPLETED"===W.status?"bg-green-50 border-green-200":"CANCELLED"===W.status?"bg-gray-50 border-gray-200":"bg-white"),children:[(0,t.jsx)("span",{className:"inline-block w-2 h-2 rounded-full ".concat("PENDING"===W.status?"bg-yellow-400":"COMPLETED"===W.status?"bg-green-400":"CANCELLED"===W.status?"bg-gray-400":"bg-gray-300")}),(0,t.jsx)("span",{className:"text-sm",children:null!=(i=W.status)?i:"PENDING"})]}),(0,t.jsxs)("select",{value:W.status,onChange:e=>G({...W,status:e.target.value}),className:"mt-0 block rounded-md border px-3 py-2",children:[(0,t.jsx)("option",{value:"PENDING",children:"Pending"}),(0,t.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,t.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{id:"sendReminder",type:"checkbox",checked:!!W.sendReminder,onChange:e=>G({...W,sendReminder:e.target.checked})}),(0,t.jsx)("label",{htmlFor:"sendReminder",className:"text-sm text-gray-700",children:"Send Reminder"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600",children:"Remind Before *"}),(0,t.jsx)("input",{type:"number",min:0,value:null!=(c=W.remindBefore)?c:1,onChange:e=>G({...W,remindBefore:Number(e.target.value)}),className:"mt-2 block w-full rounded-md border px-3 py-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600",children:"Days / Hours / Minutes"}),(0,t.jsxs)("select",{value:W.remindUnit,onChange:e=>G({...W,remindUnit:e.target.value}),className:"mt-2 block w-full rounded-md border px-3 py-2",children:[(0,t.jsx)("option",{value:"DAYS",children:"Days"}),(0,t.jsx)("option",{value:"HOURS",children:"Hours"}),(0,t.jsx)("option",{value:"MINUTES",children:"Minutes"})]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600",children:"Remark"}),(0,t.jsx)("textarea",{value:W.remarks,onChange:e=>G({...W,remarks:e.target.value}),className:"mt-2 block w-full rounded-md border px-3 py-2 min-h-[120px]",placeholder:"---"})]})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex justify-center gap-6",children:[(0,t.jsx)("button",{onClick:te,className:"px-6 py-2 border rounded-md text-sm",children:"Cancel"}),(0,t.jsx)("button",{onClick:tt,disabled:J,className:"px-6 py-2 rounded-md text-sm text-white ".concat(J?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"),children:J?"Saving...":"Save"})]})]})]}),X&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-20",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:e8}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-4xl rounded-2xl shadow-xl border p-6 mx-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Add People"}),(0,t.jsx)("button",{onClick:e8,className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-6 mb-6",children:[(0,t.jsx)("div",{className:"text-sm font-medium mb-4",children:"Add People"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6 items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Name *"}),(0,t.jsxs)("select",{value:null!=er?er:"",onChange:e=>ei(e.target.value),className:"mt-2 block w-full rounded-md border px-3 py-2",children:[(0,t.jsx)("option",{value:"",children:"-- Select Person --"}),ea.map(e=>(0,t.jsxs)("option",{value:e.employeeId,children:[e.name," ",e.department?"â€” ".concat(e.department):""]},e.employeeId))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Department *"}),(0,t.jsxs)("select",{value:ec,onChange:e=>eo(e.target.value),className:"mt-2 block w-full rounded-md border px-3 py-2",children:[(0,t.jsx)("option",{value:"",children:"-- All Departments --"}),el.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsx)("div",{className:"col-span-2 text-sm text-gray-500",children:(0,t.jsxs)("div",{className:"mt-2",children:["Tip: Choose department to filter the Name dropdown. If Department is left as ",(0,t.jsx)("strong",{children:"All"}),", all available employees will show."]})})]})]}),(0,t.jsxs)("div",{className:"flex justify-center gap-6",children:[(0,t.jsx)("button",{onClick:e8,className:"px-6 py-2 border rounded-md text-sm",children:"Cancel"}),(0,t.jsx)("button",{onClick:e9,disabled:ed||!er,className:"px-6 py-2 rounded-md text-sm text-white ".concat(ed?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"),children:ed?"Adding...":"Save"})]})]})]}),eb&&eS&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-20",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:ts}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-4xl rounded-2xl shadow-xl border p-6 mx-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"add"===ek?"Add Deal Note":"edit"===ek?"Edit Deal Note":eS.noteTitle||"View Note"}),(0,t.jsx)("button",{onClick:ts,className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),"view"===ek?(0,t.jsxs)("div",{className:"rounded-lg border p-6 mb-6",children:[(0,t.jsx)("div",{className:"text-sm font-medium mb-4",children:"Deal Note Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-[220px_1fr] gap-4 text-sm text-gray-700",children:[(0,t.jsx)("div",{className:"text-gray-500",children:"Note Title"}),(0,t.jsx)("div",{className:"text-gray-900",children:eS.noteTitle||"â€”"}),(0,t.jsx)("div",{className:"text-gray-500",children:"Note Type "}),(0,t.jsx)("div",{className:"text-gray-900",children:"PUBLIC"===eS.noteType?"Public":"Private"}),(0,t.jsx)("div",{className:"text-gray-500",children:"Note Detail"}),(0,t.jsx)("div",{className:"text-gray-900",children:eS.noteDetails&&eS.noteDetails.trim()?eS.noteDetails:"---"})]})]}):(0,t.jsxs)("div",{className:"rounded-lg border p-6 mb-6",children:[(0,t.jsx)("div",{className:"text-sm font-medium mb-4",children:"Deal Note Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Note Title *"}),(0,t.jsx)("input",{type:"text",value:eS.noteTitle,onChange:e=>eT({...eS,noteTitle:e.target.value}),className:"mt-2 block w-full rounded-md border px-3 py-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Note Type"}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-4",children:[(0,t.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"noteType",value:"PUBLIC",checked:"PUBLIC"===eS.noteType,onChange:()=>eT({...eS,noteType:"PUBLIC"})}),(0,t.jsx)("span",{className:"text-sm",children:"Public"})]}),(0,t.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"noteType",value:"PRIVATE",checked:"PRIVATE"===eS.noteType,onChange:()=>eT({...eS,noteType:"PRIVATE"})}),(0,t.jsx)("span",{className:"text-sm",children:"Private"})]})]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600",children:"Note Detail "}),(0,t.jsx)("textarea",{value:eS.noteDetails,onChange:e=>eT({...eS,noteDetails:e.target.value}),className:"mt-2 block w-full rounded-md border px-3 py-2 min-h-[120px]",placeholder:"--"})]})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex justify-center gap-6",children:[(0,t.jsx)("button",{onClick:ts,className:"px-6 py-2 border rounded-md text-sm",children:"Cancel"}),"view"!==ek&&(0,t.jsx)("button",{onClick:tl,disabled:eA,className:"px-6 py-2 rounded-md text-sm text-white ".concat(eA?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"),children:eA?"Saving...":"Save"})]})]})]}),eM&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-20",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:tr}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-4xl rounded-2xl shadow-xl border p-6 mx-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Add Tags"}),(0,t.jsx)("button",{onClick:tr,className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-6 mb-6",children:[(0,t.jsx)("div",{className:"text-sm font-medium mb-4",children:"Tag"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Tag *"}),(0,t.jsx)("input",{type:"text",value:eO,onChange:e=>eR(e.target.value),className:"mt-2 block w-full rounded-md border px-3 py-2",placeholder:"--"})]})]}),(0,t.jsxs)("div",{className:"flex justify-center gap-6",children:[(0,t.jsx)("button",{onClick:tr,className:"px-6 py-2 border rounded-md text-sm",children:"Cancel"}),(0,t.jsx)("button",{onClick:ti,disabled:eW,className:"px-6 py-2 rounded-md text-sm text-white ".concat(eW?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"),children:eW?"Saving...":"Save"})]})]})]}),eH&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-20",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:to}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-4xl rounded-2xl shadow-xl border p-6 mx-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Add a Comment"}),(0,t.jsx)("button",{onClick:to,className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"rounded-lg border p-6 mb-6",children:[(0,t.jsx)("div",{className:"text-sm font-medium mb-4",children:"Comment"}),(0,t.jsx)("textarea",{value:eK,onChange:e=>eq(e.target.value),placeholder:"--",className:"mt-2 block w-full rounded-md border px-3 py-2 min-h-[120px]"})]}),(0,t.jsxs)("div",{className:"mt-4 flex justify-center gap-6",children:[(0,t.jsx)("button",{onClick:to,className:"px-6 py-2 border rounded-md text-sm",children:"Cancel"}),(0,t.jsx)("button",{onClick:td,disabled:e$,className:"px-6 py-2 rounded-md text-sm text-white ".concat(e$?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"),children:e$?"Saving...":"Save"})]})]})]})]})}}]);