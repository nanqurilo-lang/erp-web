(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,288468,e=>{"use strict";e.s(["default",()=>N],288468),e.i(247167);var t=e.i(843476),s=e.i(271645),l=e.i(618566),a=e.i(927591),n=e.i(581949),r=e.i(288683),i=e.i(427217);function d(e){var l,a,n,r,d,c,o,m,x,u,h,p,g;let j,{open:b,task:f,onClose:v,onMarkComplete:y}=e,[N,w]=(0,s.useState)("files"),[k,C]=(0,s.useState)(!1),[S,D]=(0,s.useState)(!1),T=(0,s.useRef)(null),E=(0,s.useRef)(null),[I,M]=(0,s.useState)(!1),L=(0,s.useRef)(null),A=(0,s.useRef)(null),[P,U]=(0,s.useState)(!1),[O,F]=(0,s.useState)(!1),R=(0,s.useRef)(null),z=(0,s.useRef)(null),[B,H]=(0,s.useState)(!1),[_,J]=(0,s.useState)(""),[q,W]=(0,s.useState)(""),[G,V]=(0,s.useState)(null),[X,Y]=(0,s.useState)(!1),[$,K]=(0,s.useState)(!1),[Q,Z]=(0,s.useState)(""),[ee,et]=(0,s.useState)(""),[es,el]=(0,s.useState)(null),[ea,en]=(0,s.useState)([{id:1,title:"My Note",type:"public",content:"This is the body of My Note."}]),[er,ei]=(0,s.useState)(null),[ed,ec]=(0,s.useState)(null),[eo,em]=(0,s.useState)(!1),[ex,eu]=(0,s.useState)(!1),[eh,ep]=(0,s.useState)(!1),[eg,ej]=(0,s.useState)(!1),[eb,ef]=(0,s.useState)(""),[ev,ey]=(0,s.useState)("public"),[eN,ew]=(0,s.useState)(""),[ek,eC]=(0,s.useState)(null),[eS,eD]=(0,s.useState)(""),[eT,eE]=(0,s.useState)("public"),[eI,eM]=(0,s.useState)(""),[eL,eA]=(0,s.useState)(!1),[eP,eU]=(0,s.useState)(""),[eO,eF]=(0,s.useState)(""),[eR,ez]=(0,s.useState)(""),[eB,eH]=(0,s.useState)(null),[e_,eJ]=(0,s.useState)(null),[eq,eW]=(0,s.useState)(!1),[eG,eV]=(0,s.useState)("Doing"),[eX,eY]=(0,s.useState)(""),[e$,eK]=(0,s.useState)(""),[eQ,eZ]=(0,s.useState)(""),[e0,e2]=(0,s.useState)(""),[e1,e6]=(0,s.useState)("Low"),[e3,e4]=(0,s.useState)(!1),[e5,e8]=(0,s.useState)(!1),[e7,e9]=(0,s.useState)(""),[te,tt]=(0,s.useState)(!1),[ts,tl]=(0,s.useState)(""),[ta,tn]=(0,s.useState)(null),[tr,ti]=(0,s.useState)(null),[td]=(0,s.useState)([{id:1,employee:{employeeId:"u1",name:"Jack Smith",profileUrl:void 0,role:"Trainee"},startTime:"2025-08-02T11:00:00",endTime:"2025-08-02T13:00:00",memo:"---",minutesLogged:480},{id:2,employee:{employeeId:"u1",name:"Jack Smith",profileUrl:void 0,role:"Trainee"},startTime:"2025-08-02T11:00:00",endTime:"2025-08-02T13:00:00",memo:"---",minutesLogged:480},{id:3,employee:{employeeId:"u1",name:"Jack Smith",profileUrl:void 0,role:"Trainee"},startTime:"2025-08-02T11:00:00",endTime:"2025-08-02T13:00:00",memo:"---",minutesLogged:480},{id:4,employee:{employeeId:"u1",name:"Jack Smith",profileUrl:void 0,role:"Trainee"},startTime:"2025-08-02T11:00:00",endTime:"2025-08-02T13:00:00",memo:"---",minutesLogged:480}]);(0,s.useEffect)(()=>{b?C(!0):(C(!1),D(!1),M(!1),F(!1),H(!1),Y(!1),K(!1),ei(null),em(!1),eu(!1),ep(!1),ec(null),ej(!1),eA(!1))},[b]),(0,s.useEffect)(()=>{function e(e){if(S&&T.current&&!T.current.contains(e.target)&&E.current&&!E.current.contains(e.target)&&D(!1),O&&R.current&&!R.current.contains(e.target)&&z.current&&!z.current.contains(e.target)&&F(!1),I&&L.current&&!L.current.contains(e.target)&&M(!1),null!==er){let t=e.target.closest("[data-notes-menu]"),s=e.target.closest("[data-notes-menu-btn]");t||s||ei(null)}}function t(e){"Escape"===e.key&&(D(!1),F(!1),M(!1),H(!1),Y(!1),K(!1),ei(null),em(!1),eu(!1),ep(!1),ej(!1),eA(!1))}return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[S,O,I,er,eg]);let tc=(0,s.useMemo)(()=>{switch(((null==f?void 0:f.priority)||"").toLowerCase()){case"low":return"bg-green-500";case"medium":return"bg-yellow-400";case"high":return"bg-orange-500";case"urgent":return"bg-red-600";default:return"bg-gray-400"}},[null==f?void 0:f.priority]);if(!b||!f)return null;let to=e=>e?new Date(e).toLocaleDateString():"--",tm=e=>{if(!e)return"--";let t=new Date(e),s=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return"".concat(s,"/").concat(l,"/").concat(a)},tx=e=>e?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--",tu=e=>{if(null==e)return"--";let t=Math.floor((e||0)/60),s=(e||0)%60;return t&&s?"".concat(t,"h ").concat(s,"m"):t?"".concat(t,"h"):"".concat(s,"m")},th=()=>{em(!1),ec(null)};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end bg-black/0",children:[(0,t.jsxs)("div",{className:["relative h-full w-[83vw] max-w-[83vw] bg-white shadow-xl border-l transform transition-transform duration-300",k?"translate-x-0":"translate-x-full","flex flex-col"].join(" "),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Task #",f.projectId?"RTA-".concat(String(f.id).padStart(2,"0")):"RTA-".concat(String(f.id))]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,t.jsx)("div",{className:"text-lg font-semibold",children:null!=(n=f.title)?n:"Task Name"})]})]}),(0,t.jsx)("button",{"aria-label":"close",onClick:v,className:"p-2 rounded hover:bg-gray-100",title:"Close",children:(0,t.jsx)(i.XMarkIcon,{className:"w-5 h-5 text-gray-600"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,t.jsxs)("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-white border rounded-lg p-5 relative",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:()=>f.id&&(null==y?void 0:y(f.id)),className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 text-sm",children:"Mark As Complete"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 relative",children:[(0,t.jsx)("button",{ref:E,onClick:()=>D(e=>!e),className:"p-2 rounded hover:bg-gray-100",children:(0,t.jsxs)("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",children:[(0,t.jsx)("circle",{cx:"5",cy:"12",r:"1.5"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,t.jsx)("circle",{cx:"19",cy:"12",r:"1.5"})]})}),S&&(0,t.jsxs)("div",{ref:T,className:"absolute right-10 top-10 w-48 bg-white border rounded-lg shadow-md p-2 z-50",children:[(0,t.jsx)("button",{onClick:()=>{D(!1),M(!0)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:"ðŸ”” Send Reminder"}),(0,t.jsx)("button",{onClick:()=>{var e,t,s,l,a,n,r,i,d,c,o,m,x,u;D(!1),eU(null!=(l=f.title)?l:""),eF(""),ez(null!=(a=f.projectName)?a:""),eH(null!=(n=f.startDate)?n:null),eJ(null!=(r=f.dueDate)?r:null),eW(!!f.noDueDate),eV(null!=(i=null==(e=f.taskStage)?void 0:e.name)?i:"Doing"),eY(null!=(c=null!=(d=f.assignedEmployees&&f.assignedEmployees.length&&f.assignedEmployees[0].name)?d:f.assignedEmployeeIds&&f.assignedEmployeeIds[0])?c:""),eK(null!=(o=f.description)?o:""),eZ(null!=(m=f.labels&&(null==(t=f.labels[0])?void 0:t.name))?m:""),e2(null!=(x=null==(s=f.milestone)?void 0:s.title)?x:""),e6(f.priority?String(f.priority).charAt(0).toUpperCase()+String(f.priority).slice(1):"Low"),e4(!!f.isPrivate),e8(!!f.timeEstimateMinutes),e9(null!=(u=f.timeEstimateMinutes)?u:""),tt(!!f.isDependent),tl(""),tn(null),ti(null),eA(!0)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:"âœï¸ Edit Task"}),(0,t.jsx)("button",{onClick:()=>{D(!1),alert("Pin Task clicked")},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:"ðŸ“Œ Pin Task"}),(0,t.jsx)("button",{onClick:()=>{D(!1);let e="".concat(window.location.origin,"/tasks/").concat(f.id);try{var t;null==(t=navigator.clipboard)||t.writeText(e),alert("Task link copied to clipboard")}catch(t){alert("Task link: "+e)}},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:"ðŸ”— Copy Task Link"})]}),(0,t.jsx)("button",{onClick:v,className:"p-2 rounded hover:bg-gray-100"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-3 mt-6 text-sm",children:[(0,t.jsx)("div",{className:"text-gray-500",children:"Project"}),(0,t.jsx)("div",{className:"font-medium",children:null!=(d=f.projectName)?d:"Project ".concat(null!=(r=f.projectId)?r:"--")}),(0,t.jsx)("div",{className:"text-gray-500",children:"Priority"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(tc)}),(0,t.jsx)("span",{className:"font-medium",children:null!=(c=f.priority)?c:"Low"})]}),(0,t.jsx)("div",{className:"text-gray-500",children:"Assigned to"}),(0,t.jsx)("div",{className:"font-medium",children:f.assignedEmployees&&f.assignedEmployees.length?f.assignedEmployees.map(e=>e.name).join(", "):f.assignedEmployeeIds&&f.assignedEmployeeIds.length?f.assignedEmployeeIds.join(", "):"--"}),(0,t.jsx)("div",{className:"text-gray-500",children:"Project Code"}),(0,t.jsxs)("div",{className:"font-medium",children:["RTA-",String(f.id).padStart(2,"0")]}),(0,t.jsx)("div",{className:"text-gray-500",children:"Milestones"}),(0,t.jsx)("div",{className:"font-medium",children:null!=(o=null==(l=f.milestone)?void 0:l.title)?o:"----"}),(0,t.jsx)("div",{className:"text-gray-500",children:"Label"}),(0,t.jsx)("div",{className:"font-medium",children:f.labels&&f.labels.length?f.labels.map(e=>e.name).join(", "):"--"}),(0,t.jsx)("div",{className:"text-gray-500",children:"Task Category"}),(0,t.jsx)("div",{className:"font-medium",children:"--"}),(0,t.jsx)("div",{className:"text-gray-500",children:"Description"}),(0,t.jsx)("div",{className:"font-medium whitespace-pre-wrap",children:null!=(m=f.description)?m:"--"})]})]}),(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,t.jsx)("div",{className:"font-medium",children:null!=(x=null==(a=f.taskStage)?void 0:a.name)?x:"Doing"})]}),(0,t.jsxs)("div",{className:"mt-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between py-2",children:[(0,t.jsx)("div",{className:"text-gray-500",children:"Created On"}),(0,t.jsx)("div",{className:"font-medium",children:(j=f.createdOn)?new Date(j).toLocaleString():"--"})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2",children:[(0,t.jsx)("div",{className:"text-gray-500",children:"Start Date"}),(0,t.jsx)("div",{className:"font-medium",children:to(f.startDate)})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2",children:[(0,t.jsx)("div",{className:"text-gray-500",children:"Due Date"}),(0,t.jsx)("div",{className:"font-medium",children:f.noDueDate?"--":to(f.dueDate)})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2",children:[(0,t.jsx)("div",{className:"text-gray-500",children:"Hours Logged"}),(0,t.jsx)("div",{className:"font-medium",children:tu(null!=(u=f.hoursLoggedMinutes)?u:null)})]})]})]})]}),(0,t.jsx)("div",{className:"px-6 pb-6",children:(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("button",{onClick:()=>w("files"),className:"pb-2 ".concat("files"===N?"border-b-2 border-blue-600 font-medium":"text-gray-500"),children:"Files"}),(0,t.jsx)("button",{onClick:()=>w("subtask"),className:"pb-2 ".concat("subtask"===N?"border-b-2 border-blue-600 font-medium":"text-gray-500"),children:"Sub Task"}),(0,t.jsx)("button",{onClick:()=>w("timesheet"),className:"pb-2 ".concat("timesheet"===N?"border-b-2 border-blue-600 font-medium":"text-gray-500"),children:"Timesheet"}),(0,t.jsx)("button",{onClick:()=>w("notes"),className:"pb-2 ".concat("notes"===N?"border-b-2 border-blue-600 font-medium":"text-gray-500"),children:"Notes"})]}),(0,t.jsx)("div",{})]}),(0,t.jsxs)("div",{className:"mt-4 border rounded-lg p-4 bg-white h-60 overflow-auto",children:[(0,t.jsx)("input",{ref:A,type:"file",className:"hidden",onChange:e=>{let t=e.target.files;t&&0!==t.length&&(alert("".concat(t.length," file(s) selected. Integrate your upload handler to actually send files to server.")),e.currentTarget.value="")},multiple:!0}),"files"===N&&(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("button",{onClick:()=>{var e;return null==(e=A.current)?void 0:e.click()},className:"inline-flex items-center gap-2 text-blue-600 text-sm font-medium hover:underline","aria-label":"Upload File",title:"Upload File",children:[(0,t.jsx)("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white border border-blue-600 text-blue-600 text-xs",children:"+"}),(0,t.jsx)("span",{children:"Upload File"})]})}),(0,t.jsx)("div",{className:"mt-3 flex-1 overflow-auto",children:f.attachments&&f.attachments.length?(0,t.jsx)("ul",{className:"space-y-2 text-sm",children:f.attachments.map((e,s)=>{var l;let a=null!=(l=e.name)?l:(e=>{if(!e)return"attachment";try{let t=e.split("/").pop()||e;return decodeURIComponent(t.split("?")[0])}catch(t){return e}})(e.url);return(0,t.jsxs)("li",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"truncate max-w-[80%]",children:a}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.url?(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"underline",children:"Download"}):null})]},s)})}):(0,t.jsx)("div",{className:"text-gray-500"})})]}),"subtask"===N&&(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("button",{onClick:()=>{J(""),W(""),V(null),H(!0)},className:"inline-flex items-center gap-2 text-blue-600 text-sm font-medium hover:underline","aria-label":"Add a Sub Task",title:"Add a Sub Task",children:[(0,t.jsx)("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white border border-blue-600 text-blue-600 text-xs",children:"+"}),(0,t.jsx)("span",{children:"Add a Sub Task"})]})}),(0,t.jsx)("div",{className:"mt-4 flex-1 overflow-auto",children:(0,t.jsx)("ul",{className:"space-y-3",children:(0,t.jsxs)("li",{className:"flex items-center justify-between pr-2",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:P,onChange:()=>{U(e=>!e)},className:"w-4 h-4 rounded border-gray-300","aria-label":"toggle subtask done"}),(0,t.jsx)("span",{className:"text-sm ".concat(P?"line-through text-gray-400":"text-gray-700"),children:"Title of the sub task"})]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{ref:z,onClick:()=>F(e=>!e),className:"p-2 rounded hover:bg-gray-100","aria-label":"subtask menu",children:(0,t.jsxs)("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",children:[(0,t.jsx)("circle",{cx:"5",cy:"12",r:"1.5"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,t.jsx)("circle",{cx:"19",cy:"12",r:"1.5"})]})}),O&&(0,t.jsxs)("div",{ref:R,className:"absolute right-0 top-8 w-40 bg-white border rounded-lg shadow-md p-1 z-50",children:[(0,t.jsxs)("button",{onClick:()=>{F(!1),Y(!0)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-600",viewBox:"0 0 24 24",fill:"none",children:(0,t.jsx)("path",{d:"M12 5c-7 0-11 7-11 7s4 7 11 7 11-7 11-7-4-7-11-7z",stroke:"currentColor",strokeWidth:"1.2"})}),"View"]}),(0,t.jsxs)("button",{onClick:()=>{F(!1),Z("Title of the sub task"),et(""),el(null),K(!0)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-600",viewBox:"0 0 24 24",fill:"none",children:(0,t.jsx)("path",{d:"M3 21l3-1 11-11 2 2-11 11-1 3H3z",stroke:"currentColor",strokeWidth:"1.2"})}),"Edit"]}),(0,t.jsxs)("button",{onClick:()=>{F(!1),confirm("Delete subtask? This is UI-only.")&&alert("Subtask deleted (UI-only). Integrate API to persist.")},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2 text-red-600",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-red-600",viewBox:"0 0 24 24",fill:"none",children:(0,t.jsx)("path",{d:"M3 6h18M8 6v12a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6M10 6V4a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v2",stroke:"currentColor",strokeWidth:"1.2"})}),"Delete"]})]})]})]})})})]}),"timesheet"===N&&(0,t.jsx)("div",{className:"h-full flex flex-col",children:(0,t.jsx)("div",{className:"mt-1 flex-1 overflow-auto",children:(0,t.jsxs)("div",{className:"rounded-md overflow-hidden border",children:[(0,t.jsxs)("div",{className:"bg-[#e8f2fb] px-4 py-3 text-sm text-gray-700 grid grid-cols-4 gap-4 items-center rounded-t-md",children:[(0,t.jsx)("div",{className:"font-medium",children:"Employee"}),(0,t.jsx)("div",{className:"font-medium",children:"Start Time"}),(0,t.jsx)("div",{className:"font-medium",children:"End Time"}),(0,t.jsx)("div",{className:"font-medium text-right",children:"Hours Logged"})]}),(0,t.jsx)("div",{className:"bg-white divide-y",children:td.map(e=>{var s;return(0,t.jsxs)("div",{className:"px-4 py-4 grid grid-cols-4 gap-4 items-center text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:e.employee.profileUrl?(0,t.jsx)("img",{src:e.employee.profileUrl,alt:e.employee.name,className:"w-full h-full object-cover"}):(0,t.jsx)("span",{className:"text-xs text-gray-600",children:e.employee.name.split(" ").map(e=>e[0]).join("")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.employee.name}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:null!=(s=e.employee.role)?s:""})]})]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("div",{className:"font-medium",children:tm(e.startTime)}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:tx(e.startTime)})]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("div",{className:"font-medium",children:tm(e.endTime)}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:tx(e.endTime)})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("div",{className:"font-medium",children:tu(e.minutesLogged)})})]},e.id)})}),(0,t.jsx)("div",{className:"h-2 bg-white rounded-b-md"})]})})}),"notes"===N&&(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("button",{onClick:()=>{ef(""),ew(""),ey("public"),eC(null),ej(!0)},"data-add-note-btn":!0,className:"inline-flex items-center gap-2 text-blue-600 text-sm font-medium hover:underline","aria-label":"Add a Note",title:"Add a Note",children:[(0,t.jsx)("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white border border-blue-600 text-blue-600 text-xs",children:"+"}),(0,t.jsx)("span",{children:"Add a Note"})]})}),(0,t.jsx)("div",{className:"mt-4 flex-1 overflow-auto relative",children:(0,t.jsxs)("div",{className:"rounded-md overflow-hidden border relative",children:[(0,t.jsxs)("div",{className:"bg-[#e8f2fb] px-4 py-3 text-sm text-gray-700 grid grid-cols-3 gap-4 items-center",children:[(0,t.jsx)("div",{className:"font-medium",children:"Note Title"}),(0,t.jsx)("div",{className:"font-medium",children:"Note Type"}),(0,t.jsx)("div",{className:"font-medium text-right",children:"Action"})]}),null!==er&&ed&&(0,t.jsxs)("div",{"data-notes-menu":!0,className:"absolute right-3 top-3 z-50 w-44 bg-white border rounded-lg shadow-md p-1",children:[(0,t.jsx)("button",{onClick:()=>{ed&&(em(!0),ei(null))},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:"View"}),(0,t.jsx)("button",{onClick:()=>{var e;ed&&(eD(ed.title),eE(ed.type),eM(null!=(e=ed.content)?e:""),eu(!0),ei(null))},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>{ed&&(ep(!0),ei(null))},className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm flex items-center gap-2 text-red-600",children:"Delete"})]}),(0,t.jsx)("div",{className:"bg-white p-3 text-sm",children:ea.length?(0,t.jsx)("ul",{className:"space-y-3",children:ea.map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"truncate max-w-[40%]",children:e.title}),(0,t.jsx)("div",{className:"flex items-center gap-2 text-gray-600",children:"public"===e.type?(0,t.jsx)("span",{children:"Public"}):(0,t.jsx)("span",{children:"Private"})}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("button",{"data-notes-menu-btn":!0,onClick:()=>{ec(e),ei(e.id)},className:"p-2 rounded hover:bg-gray-100","aria-label":"note actions",children:(0,t.jsxs)("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",children:[(0,t.jsx)("circle",{cx:"5",cy:"12",r:"1.5"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,t.jsx)("circle",{cx:"19",cy:"12",r:"1.5"})]})})})]},e.id))}):(0,t.jsx)("div",{className:"text-gray-500 p-4",children:"No notes yet"})})]})})]})]})]})})]})]}),I&&(0,t.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/30 px-4",children:(0,t.jsxs)("div",{ref:L,role:"dialog","aria-modal":"true",className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Are You Sure?"}),(0,t.jsx)("p",{className:"mt-3 text-sm text-gray-500",children:"You want to send reminder to the assigned employees."})]}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{M(!1)},className:"px-6 py-2 border border-blue-600 text-blue-600 rounded-full text-sm hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{alert("Reminder sent to assigned employees"),M(!1)},className:"px-6 py-2 bg-blue-600 text-white rounded-full text-sm hover:bg-blue-700",children:"Yes"})]})]})}),B&&(0,t.jsx)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/30 px-4",children:(0,t.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Title ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{value:_,onChange:e=>{J(e.target.value),G&&V(null)},className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter subtask title",autoFocus:!0}),G&&(0,t.jsx)("div",{className:"mt-1 text-xs text-red-600",children:G})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("textarea",{value:q,onChange:e=>W(e.target.value),className:"mt-2 w-full min-h-[90px] rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter description (optional)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-6",children:[(0,t.jsx)("button",{onClick:()=>{H(!1),V(null)},className:"px-6 py-2 rounded-full border border-blue-600 text-blue-600 text-sm hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!_.trim())return void V("Title is required");alert('Subtask "'.concat(_,'" created (UI-only). Integrate API to persist.')),H(!1)},className:"px-6 py-2 rounded-full bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Save"})]})]})}),X&&(0,t.jsx)("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/30 px-4",children:(0,t.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Subtask Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-3 text-sm",children:[(0,t.jsx)("div",{className:"text-gray-500",children:"Title"}),(0,t.jsx)("div",{className:"font-medium",children:"Title of the sub task"}),(0,t.jsx)("div",{className:"text-gray-500",children:"Description"}),(0,t.jsx)("div",{className:"font-medium",children:"--"})]}),(0,t.jsx)("div",{className:"mt-6 flex justify-end",children:(0,t.jsx)("button",{onClick:()=>Y(!1),className:"px-6 py-2 rounded-full border border-gray-300 text-gray-700 text-sm hover:bg-gray-50",children:"Close"})})]})}),$&&(0,t.jsx)("div",{className:"fixed inset-0 z-[90] flex items-center justify-center bg-black/30 px-4",children:(0,t.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Title ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{value:Q,onChange:e=>{Z(e.target.value),es&&el(null)},className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter subtask title",autoFocus:!0}),es&&(0,t.jsx)("div",{className:"mt-1 text-xs text-red-600",children:es})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("textarea",{value:ee,onChange:e=>et(e.target.value),className:"mt-2 w-full min-h-[90px] rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter description (optional)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-6",children:[(0,t.jsx)("button",{onClick:()=>{K(!1),el(null)},className:"px-6 py-2 rounded-full border border-blue-600 text-blue-600 text-sm hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!Q.trim())return void el("Title is required");alert('Subtask updated to "'.concat(Q,'" (UI-only). Integrate API to persist.')),K(!1)},className:"px-6 py-2 rounded-full bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Update"})]})]})}),eg&&(0,t.jsx)("div",{className:"fixed inset-0 z-[85] flex items-center justify-center bg-black/30 px-4",children:(0,t.jsxs)("div",{"data-add-note-modal":!0,role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Note Title ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{value:eb,onChange:e=>{ef(e.target.value),ek&&eC(null)},className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter note title",autoFocus:!0}),ek&&(0,t.jsx)("div",{className:"mt-1 text-xs text-red-600",children:ek})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Note Detail"}),(0,t.jsx)("textarea",{value:eN,onChange:e=>ew(e.target.value),className:"mt-2 w-full min-h-[100px] rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter note details (optional)"})]}),(0,t.jsxs)("div",{className:"mb-6 flex items-center gap-6",children:[(0,t.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"note-type",checked:"public"===ev,onChange:()=>ey("public")}),(0,t.jsx)("span",{className:"text-sm",children:"Public"})]}),(0,t.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"note-type",checked:"private"===ev,onChange:()=>ey("private")}),(0,t.jsx)("span",{className:"text-sm",children:"Private"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-6",children:[(0,t.jsx)("button",{onClick:()=>{ej(!1),eC(null)},className:"px-8 py-2 rounded-full border border-blue-600 text-blue-600 text-sm hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!eb.trim())return void eC("Title is required");let e={id:ea.length?Math.max(...ea.map(e=>e.id))+1:1,title:eb.trim(),type:ev,content:eN};en(t=>[e,...t]),ej(!1),ef(""),ew(""),ey("public")},className:"px-8 py-2 rounded-full bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Save"})]})]})}),eo&&ed&&(0,t.jsx)("div",{className:"fixed inset-0 z-[86] flex items-center justify-center bg-black/30 px-4",children:(0,t.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"View Note"}),(0,t.jsx)("button",{onClick:th,className:"p-2 rounded hover:bg-gray-100",children:(0,t.jsx)(i.XMarkIcon,{className:"w-5 h-5 text-gray-600"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-3 text-sm",children:[(0,t.jsx)("div",{className:"text-gray-500",children:"Title"}),(0,t.jsx)("div",{className:"font-medium",children:ed.title}),(0,t.jsx)("div",{className:"text-gray-500",children:"Type"}),(0,t.jsx)("div",{className:"font-medium",children:"public"===ed.type?"Public":"Private"}),(0,t.jsx)("div",{className:"text-gray-500",children:"Content"}),(0,t.jsx)("div",{className:"font-medium whitespace-pre-wrap",children:null!=(h=ed.content)?h:"--"})]}),(0,t.jsx)("div",{className:"mt-6 flex justify-end",children:(0,t.jsx)("button",{onClick:th,className:"px-6 py-2 rounded-full border border-gray-300 text-gray-700 text-sm hover:bg-gray-50",children:"Close"})})]})}),ex&&ed&&(0,t.jsx)("div",{className:"fixed inset-0 z-[87] flex items-center justify-center bg-black/30 px-4",children:(0,t.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-lg bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Note"}),(0,t.jsx)("button",{onClick:()=>{eu(!1),ec(null)},className:"p-2 rounded hover:bg-gray-100",children:(0,t.jsx)(i.XMarkIcon,{className:"w-5 h-5 text-gray-600"})})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Title ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{value:eS,onChange:e=>eD(e.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter note title",autoFocus:!0})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,t.jsxs)("select",{value:eT,onChange:e=>eE(e.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"public",children:"Public"}),(0,t.jsx)("option",{value:"private",children:"Private"})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Content"}),(0,t.jsx)("textarea",{value:eI,onChange:e=>eM(e.target.value),className:"mt-2 w-full min-h-[120px] rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Enter note content (optional)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-6",children:[(0,t.jsx)("button",{onClick:()=>{eu(!1),ec(null)},className:"px-6 py-2 rounded-full border border-blue-600 text-blue-600 text-sm hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(ed){if(!eS.trim())return void alert("Title is required");en(e=>e.map(e=>e.id===ed.id?{...e,title:eS.trim(),type:eT,content:eI}:e)),eu(!1),ec(null)}},className:"px-6 py-2 rounded-full bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Save"})]})]})}),eh&&ed&&(0,t.jsx)("div",{className:"fixed inset-0 z-[88] flex items-center justify-center bg-black/30 px-4",children:(0,t.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Are you sure?"}),(0,t.jsxs)("p",{className:"mt-3 text-sm text-gray-500",children:['Delete note "',ed.title,'". This action cannot be undone.']})]}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{ep(!1),ec(null)},className:"px-6 py-2 border border-blue-600 text-blue-600 rounded-full text-sm hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!ed)return void ep(!1);en(e=>e.filter(e=>e.id!==ed.id)),ep(!1),ec(null)},className:"px-6 py-2 bg-red-600 text-white rounded-full text-sm hover:bg-red-700",children:"Delete"})]})]})}),eL&&(0,t.jsx)("div",{className:"fixed inset-0 z-[95] flex items-start justify-center pt-10 pb-10 overflow-auto bg-black/30 px-4",children:(0,t.jsxs)("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-[980px] bg-white rounded-lg shadow-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b pb-3 px-4",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:"Update Task Details"}),(0,t.jsx)("button",{onClick:()=>eA(!1),className:"p-1 rounded hover:bg-gray-100",children:(0,t.jsx)(i.XMarkIcon,{className:"w-5 h-5 text-gray-600"})})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium mb-3",children:"Task Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{className:"block text-sm text-gray-600",children:["Title ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{value:eP,onChange:e=>{eU(e.target.value),tr&&ti(null)},className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Task Name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600",children:"Task Category"}),(0,t.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,t.jsx)("select",{value:eO,onChange:e=>eF(e.target.value),className:"flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,t.jsx)("option",{value:"",children:"--"})}),(0,t.jsx)("button",{onClick:()=>{alert("Add Task Category clicked (UI-only).")},className:"px-3 py-2 rounded border bg-gray-100 text-sm",children:"Add"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{className:"block text-sm text-gray-600 mt-2",children:["Project ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("select",{value:eR,onChange:e=>ez(e.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,t.jsx)("option",{value:null!=(p=f.projectName)?p:"",children:null!=(g=f.projectName)?g:"Project Name"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Client Details"}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-xs",children:"JD"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("div",{className:"font-medium",children:"John Doe"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Curilo Solutions"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mt-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:eB?eB.split("T")[0]:"",onChange:e=>eH(e.target.value?e.target.value:null),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mt-2",children:"Due Date"}),(0,t.jsx)("input",{type:"date",value:e_?e_.split("T")[0]:"",onChange:e=>eJ(e.target.value?e.target.value:null),disabled:eq,className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:opacity-60"}),(0,t.jsxs)("label",{className:"inline-flex items-center gap-2 mt-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq,onChange:e=>eW(e.target.checked)}),(0,t.jsx)("span",{children:"Without Due Date"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mt-2",children:"Status"}),(0,t.jsxs)("select",{value:eG,onChange:e=>eV(e.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"Doing",children:"Doing"}),(0,t.jsx)("option",{value:"To Do",children:"To Do"}),(0,t.jsx)("option",{value:"Done",children:"Done"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mt-2",children:"Assigned To"}),(0,t.jsx)("select",{value:eX,onChange:e=>eY(e.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,t.jsx)("option",{value:eX||"",children:eX||"Riya Sharma"})})]}),(0,t.jsxs)("div",{className:"md:col-span-3",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mt-2",children:"Description"}),(0,t.jsx)("textarea",{value:e$,onChange:e=>eK(e.target.value),className:"mt-2 w-full min-h-[80px] rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"--"})]})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium mb-3",children:"Other Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600",children:"Label"}),(0,t.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,t.jsx)("select",{value:eQ,onChange:e=>eZ(e.target.value),className:"flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,t.jsx)("option",{value:"",children:"--"})}),(0,t.jsx)("button",{onClick:()=>{alert("Add Label clicked (UI-only).")},className:"px-3 py-2 rounded border bg-gray-100 text-sm",children:"Add"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600",children:"Milestones"}),(0,t.jsx)("select",{value:e0,onChange:e=>e2(e.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,t.jsx)("option",{value:"",children:"--"})})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600",children:"Priority"}),(0,t.jsx)("div",{className:"mt-2 flex items-center justify-between gap-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"w-3 h-3 rounded-full ".concat("Low"===e1?"bg-green-500":"Medium"===e1?"bg-yellow-400":"High"===e1?"bg-orange-500":"bg-red-600")}),(0,t.jsxs)("select",{value:e1,onChange:e=>e6(e.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"Low",children:"Low"}),(0,t.jsx)("option",{value:"Medium",children:"Medium"}),(0,t.jsx)("option",{value:"High",children:"High"}),(0,t.jsx)("option",{value:"Urgent",children:"Urgent"})]})]})})]}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:e3,onChange:e=>e4(e.target.checked)}),(0,t.jsx)("span",{className:"text-sm",children:"Make Private"})]})}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:e5,onChange:e=>e8(e.target.checked)}),(0,t.jsx)("span",{className:"text-sm",children:"Time Estimate"})]}),e5&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("input",{type:"number",min:0,value:e7,onChange:e=>e9(""===e.target.value?"":Number(e.target.value)),className:"w-32 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"mins"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:te,onChange:e=>tt(e.target.checked)}),(0,t.jsx)("span",{className:"text-sm",children:"Task is dependent on other task"})]}),te&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("label",{className:"block text-sm text-gray-600",children:["Dependent Task ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("select",{value:ts,onChange:e=>tl(e.target.value),className:"mt-2 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:(0,t.jsx)("option",{value:"",children:"Task Name"})})]})]}),(0,t.jsxs)("div",{className:"md:col-span-6 mt-2",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Add File"}),(0,t.jsx)("div",{onClick:()=>{var e;null==(e=A.current)||e.click()},className:"w-full min-h-[80px] rounded-md border-dashed border-2 border-gray-200 flex items-center justify-center text-sm text-gray-500 cursor-pointer",children:ta?(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("div",{className:"font-medium",children:ta.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[(ta.size/1024).toFixed(1)," KB"]})]}):(0,t.jsx)("div",{children:"Choose a file"})}),(0,t.jsx)("input",{type:"file",onChange:e=>{let t=e.target.files&&e.target.files[0];t&&tn(t),e.currentTarget.value=""},className:"hidden"})]})]}),tr&&(0,t.jsx)("div",{className:"mt-3 text-sm text-red-600",children:tr})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>{eA(!1),ti(null)},className:"px-4 py-2 border rounded-md text-sm border-blue-600 text-blue-600 hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>eP.trim()?te&&!ts.trim()?void ti("Dependent Task is required when dependency is checked"):void(alert("Update (UI-only) payload:\n"+JSON.stringify({id:f.id,title:eP.trim(),category:eO.trim(),project:eR,startDate:eB,dueDate:eq?null:e_,withoutDueDate:eq,status:eG,assignedTo:eX,description:e$.trim(),label:eQ,milestone:e0,priority:e1,isPrivate:e3,timeEstimateMins:e5?Number(e7||0):null,isDependent:te,dependentTask:ts,fileName:ta?ta.name:null},null,2)),eA(!1)):void ti("Title is required"),className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Update"})]})]})]})})]})}let c="https://6jnqmj85-80.inc1.devtunnels.ms";function o(e){let{projectId:l}=e,[i,o]=(0,s.useState)([]),[m,x]=(0,s.useState)(!0),[u,h]=(0,s.useState)(null),[p,g]=(0,s.useState)([]),[j,b]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),[y,N]=(0,s.useState)(null),[w,k]=(0,s.useState)(!1),[C,S]=(0,s.useState)(null),[D,T]=(0,s.useState)(null),[E,I]=(0,s.useState)(null),M={title:"",category:"",startDate:"",dueDate:"",noDueDate:!1,taskStageId:"",assignedEmployeeIds:[],description:"",labelIds:[],milestoneId:"",priority:"LOW",isPrivate:!1,timeEstimateMinutes:"",isDependent:!1,projectId:l,taskFile:null},[L,A]=(0,s.useState)(M),P=e=>"".concat(c).concat(e),U=async()=>{try{let e=localStorage.getItem("accessToken"),t=await n.default.get("".concat(c,"/status"),{headers:{Authorization:e?"Bearer ".concat(e):""}});Array.isArray(t.data)?g(t.data):g([])}catch(e){console.warn("Failed to fetch statuses:",e),g([])}},O=async()=>{x(!0),h(null);try{let e=localStorage.getItem("accessToken"),t="".concat(c,"/projects/").concat(l,"/tasks"),s=await n.default.get(t,{headers:{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""}});o(Array.isArray(s.data)?s.data:[])}catch(s){var e,t;h((null==s||null==(t=s.response)||null==(e=t.data)?void 0:e.message)||(null==s?void 0:s.message)||"Failed to load tasks")}finally{x(!1)}};(0,s.useEffect)(()=>{U(),O()},[l]);let F=e=>A(t=>({...t,...e})),R=async e=>{e.preventDefault();try{let e=new FormData;e.append("title",L.title),e.append("category",L.category||""),e.append("startDate",L.startDate||""),e.append("dueDate",L.dueDate||""),e.append("noDueDate",String(L.noDueDate)),e.append("taskStageId",L.taskStageId||""),e.append("assignedEmployeeIds",JSON.stringify(L.assignedEmployeeIds)),e.append("description",L.description||""),e.append("labelIds",JSON.stringify(L.labelIds)),e.append("milestoneId",L.milestoneId||""),e.append("priority",L.priority||""),e.append("isPrivate",String(L.isPrivate)),e.append("timeEstimateMinutes",String(L.timeEstimateMinutes||"")),e.append("isDependent",String(L.isDependent)),e.append("projectId",String(l)),L.taskFile&&e.append("taskFile",L.taskFile),await (0,r.postAPI)(P("/api/projects/tasks"),e,{headers:{"Content-Type":"multipart/form-data"}}),b(!1),A(M),await O()}catch(e){var t,s;alert("Create task failed: "+((null==e||null==(s=e.response)||null==(t=s.data)?void 0:t.message)||(null==e?void 0:e.message)||"unknown"))}},z=async e=>{if(e.preventDefault(),y)try{let e=new FormData;e.append("title",L.title),e.append("category",L.category||""),e.append("noDueDate",String(L.noDueDate)),e.append("description",L.description||""),e.append("labelIds",JSON.stringify(L.labelIds)),e.append("priority",L.priority||""),e.append("isPrivate",String(L.isPrivate)),e.append("timeEstimateMinutes",String(L.timeEstimateMinutes||"")),e.append("isDependent",String(L.isDependent)),e.append("projectId",String(l)),e.append("assignedEmployeeIds",JSON.stringify(L.assignedEmployeeIds)),L.taskFile&&e.append("taskFile",L.taskFile),await (0,r.putAPI)(P("/api/projects/tasks/".concat(y.id)),e,{headers:{"Content-Type":"multipart/form-data"}}),v(!1),N(null),A(M),await O()}catch(e){var t,s;alert("Update task failed: "+((null==e||null==(s=e.response)||null==(t=s.data)?void 0:t.message)||(null==e?void 0:e.message)||"unknown"))}},B=e=>{var t;switch(("string"==typeof e?e:null!=(t=null==e?void 0:e.name)?t:"").toLowerCase()){case"complete":case"completed":case"complete":case"complete":return"bg-green-600";case"to-do":case"to do":case"todo":return"bg-yellow-500";case"doing":return"bg-blue-600";case"incomplete":return"bg-red-600";case"waiting":case"waiting for approval":return"bg-gray-600";default:return"bg-gray-400"}},H=e=>{if(!e&&0!==e)return"--";let t=Math.floor((e||0)/60),s=(e||0)%60;return t&&s?"".concat(t,"h ").concat(s,"m"):t?"".concat(t,"h"):"".concat(s,"m")};return(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Tasks"}),(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)("input",{type:"search",placeholder:"Search",onChange:e=>{let t=e.target.value.toLowerCase();t?o(e=>e.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.projectName||"").toLowerCase().includes(t))):O()},className:"border px-3 py-2 rounded-md text-sm"})})}),m?(0,t.jsx)("div",{className:"py-6 text-center text-gray-500",children:"Loading tasks..."}):u?(0,t.jsx)("div",{className:"py-6 text-center text-red-500",children:u}):(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"min-w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-blue-50 text-left text-gray-600",children:[(0,t.jsx)("th",{className:"px-4 py-3",children:"Code"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Task"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Completed On"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Start Date"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Due Date"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Hours Logged"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Estimated Time"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Milestones"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Assigned to"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Status"})]})}),(0,t.jsx)("tbody",{children:0===i.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:11,className:"py-6 text-center text-gray-500",children:"No tasks found"})}):i.map(e=>{var s,l,n,r,i,d,c;let o=e.dueDate&&!e.noDueDate&&new Date(e.dueDate)<new Date,m=(e=>{var t,s,l,a;if(e.taskStage&&e.taskStage.name)return e.taskStage;if(e.taskStageId){let t=p.find(t=>t.id===e.taskStageId);if(t)return t}let n=(e=>{if(p&&p.length)return p.find(t=>String(t.name).toLowerCase().includes(String(e).toLowerCase()))})(String((null==(t=e.taskStage)?void 0:t.name)||""));return null!=n?n:{id:null!=(l=e.taskStageId)?l:0,name:null!=(a=null==(s=e.taskStage)?void 0:s.name)?a:"Doing"}})(e),x=null!=(l=null==m?void 0:m.name)?l:"Doing";return(0,t.jsxs)("tr",{className:"border-b last:border-b-0 bg-white hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"px-4 py-4 align-top",children:["RTA-",String(e.id).padStart(2,"0")]}),(0,t.jsxs)("td",{className:"px-4 py-4 align-top",children:[(0,t.jsx)("div",{className:"font-medium",children:e.title}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:null!=(n=e.projectName)?n:"Project ".concat(e.projectId)})]}),(0,t.jsx)("td",{className:"px-4 py-4 align-top",children:"--"}),(0,t.jsx)("td",{className:"px-4 py-4 align-top",children:e.startDate?new Date(e.startDate).toLocaleDateString():"--"}),(0,t.jsx)("td",{className:"px-4 py-4 align-top ".concat(o?"text-red-600":""),children:e.noDueDate?"--":e.dueDate?new Date(e.dueDate).toLocaleDateString():"--"}),(0,t.jsx)("td",{className:"px-4 py-4 align-top",children:H(null!=(r=e.hoursLoggedMinutes)?r:null)}),(0,t.jsx)("td",{className:"px-4 py-4 align-top",children:H(null!=(i=e.timeEstimateMinutes)?i:null)}),(0,t.jsx)("td",{className:"px-4 py-4 align-top",children:null!=(d=null==(s=e.milestone)?void 0:s.title)?d:"--"}),(0,t.jsx)("td",{className:"px-4 py-4 align-top",children:(0,t.jsx)("div",{className:"flex -space-x-2",children:(e.assignedEmployees||[]).slice(0,3).map(e=>(0,t.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white overflow-hidden bg-gray-100",children:e.profileUrl?(0,t.jsx)("img",{src:e.profileUrl,alt:e.name,className:"w-full h-full object-cover"}):(0,t.jsx)(a.UserIcon,{className:"w-full h-full text-gray-400 p-1"})},e.employeeId))})}),(0,t.jsx)("td",{className:"px-4 py-4 align-top relative",children:(0,t.jsxs)("div",{className:"relative inline-block",children:[(0,t.jsxs)("button",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs bg-white hover:bg-gray-50",title:"Change status",children:[m&&m.labelColor?(0,t.jsx)("span",{style:{width:8,height:8,borderRadius:9999,display:"inline-block",background:"#".concat(String(m.labelColor).replace(/[^0-9a-fA-F]/g,"").slice(0,6))}}):(0,t.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(B(null!=(c=null==m?void 0:m.name)?c:"Doing"))}),(0,t.jsx)("span",{children:String(x)})]}),E===e.id&&(0,t.jsx)("div",{className:"absolute right-0 mt-2 z-30 w-44 bg-white border rounded-md shadow-lg text-sm",children:p.length>0?p.map(e=>(0,t.jsxs)("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-2 ".concat(e.id===(null==m?void 0:m.id)?"font-medium":""),children:[e.labelColor?(0,t.jsx)("span",{style:{width:8,height:8,borderRadius:9999,background:"#".concat(String(e.labelColor).replace(/[^0-9a-fA-F]/g,"").slice(0,6))}}):(0,t.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(B(e.name))}),(0,t.jsx)("span",{children:e.name})]},e.id)):["To Do","Doing","Completed","Incomplete","Waiting for Approval"].map(e=>(0,t.jsxs)("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(B(e))})," ",(0,t.jsx)("span",{children:e})]},e))})]})})]},e.id)})})]}),(0,t.jsxs)("div",{className:"px-4 py-3 border-t bg-gray-50 flex items-center justify-between text-sm text-gray-600 rounded-b-md mt-4",children:[(0,t.jsxs)("div",{children:["Result per page - ",i.length?i.length:0]}),(0,t.jsx)("div",{children:"Page 1 of 1"})]})]}),j&&(0,t.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 p-4",children:(0,t.jsxs)("form",{onSubmit:R,className:"bg-white w-full max-w-3xl rounded-lg p-6 shadow-lg overflow-auto max-h-[90vh]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Add Task"}),(0,t.jsx)("button",{type:"button",onClick:()=>b(!1),className:"text-gray-500",children:"Close"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Title"}),(0,t.jsx)("input",{required:!0,value:L.title,onChange:e=>F({title:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Category (id)"}),(0,t.jsx)("input",{value:L.category,onChange:e=>F({category:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:L.startDate,onChange:e=>F({startDate:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Due Date"}),(0,t.jsx)("input",{type:"date",value:L.dueDate,onChange:e=>F({dueDate:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:L.noDueDate,onChange:e=>F({noDueDate:e.target.checked})}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"No Due Date"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Task Stage ID"}),(0,t.jsx)("input",{value:L.taskStageId,onChange:e=>F({taskStageId:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col md:col-span-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Description"}),(0,t.jsx)("textarea",{value:L.description,onChange:e=>F({description:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Assigned Employee IDs (comma separated)"}),(0,t.jsx)("input",{value:L.assignedEmployeeIds.join(","),onChange:e=>F({assignedEmployeeIds:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Label IDs (comma separated)"}),(0,t.jsx)("input",{value:L.labelIds.join(","),onChange:e=>F({labelIds:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Milestone ID"}),(0,t.jsx)("input",{value:L.milestoneId,onChange:e=>F({milestoneId:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Priority"}),(0,t.jsxs)("select",{value:L.priority,onChange:e=>F({priority:e.target.value}),className:"border px-3 py-2 rounded",children:[(0,t.jsx)("option",{value:"LOW",children:"LOW"}),(0,t.jsx)("option",{value:"MEDIUM",children:"MEDIUM"}),(0,t.jsx)("option",{value:"HIGH",children:"HIGH"}),(0,t.jsx)("option",{value:"URGENT",children:"URGENT"})]})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Time Estimate (minutes)"}),(0,t.jsx)("input",{type:"number",value:L.timeEstimateMinutes,onChange:e=>F({timeEstimateMinutes:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:L.isPrivate,onChange:e=>F({isPrivate:e.target.checked})}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Private"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:L.isDependent,onChange:e=>F({isDependent:e.target.checked})}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Is Dependent"})]}),(0,t.jsxs)("label",{className:"flex flex-col md:col-span-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Attach file (optional)"}),(0,t.jsx)("input",{type:"file",onChange:e=>{var t;return F({taskFile:(null==(t=e.target.files)?void 0:t[0])||null})}})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-end gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 rounded border",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600 text-white",children:"Save"})]})]})}),f&&y&&(0,t.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 p-4",children:(0,t.jsxs)("form",{onSubmit:z,className:"bg-white w-full max-w-3xl rounded-lg p-6 shadow-lg overflow-auto max-h-[90vh]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Task"}),(0,t.jsx)("button",{type:"button",onClick:()=>{v(!1),N(null)},className:"text-gray-500",children:"Close"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Title"}),(0,t.jsx)("input",{required:!0,value:L.title,onChange:e=>F({title:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Category (id)"}),(0,t.jsx)("input",{value:L.category,onChange:e=>F({category:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col md:col-span-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Description"}),(0,t.jsx)("textarea",{value:L.description,onChange:e=>F({description:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Assigned Employee IDs (comma separated)"}),(0,t.jsx)("input",{value:L.assignedEmployeeIds.join(","),onChange:e=>F({assignedEmployeeIds:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Label IDs (comma separated)"}),(0,t.jsx)("input",{value:L.labelIds.join(","),onChange:e=>F({labelIds:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Priority"}),(0,t.jsxs)("select",{value:L.priority,onChange:e=>F({priority:e.target.value}),className:"border px-3 py-2 rounded",children:[(0,t.jsx)("option",{value:"LOW",children:"LOW"}),(0,t.jsx)("option",{value:"MEDIUM",children:"MEDIUM"}),(0,t.jsx)("option",{value:"HIGH",children:"HIGH"}),(0,t.jsx)("option",{value:"URGENT",children:"URGENT"})]})]}),(0,t.jsxs)("label",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Time Estimate (minutes)"}),(0,t.jsx)("input",{type:"number",value:L.timeEstimateMinutes,onChange:e=>F({timeEstimateMinutes:e.target.value}),className:"border px-3 py-2 rounded"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:L.isPrivate,onChange:e=>F({isPrivate:e.target.checked})}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Private"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:L.isDependent,onChange:e=>F({isDependent:e.target.checked})}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Is Dependent"})]}),(0,t.jsxs)("label",{className:"flex flex-col md:col-span-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Attach file (optional)"}),(0,t.jsx)("input",{type:"file",onChange:e=>{var t;return F({taskFile:(null==(t=e.target.files)?void 0:t[0])||null})}})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-end gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{v(!1),N(null)},className:"px-4 py-2 rounded border",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600 text-white",children:"Update"})]})]})}),(0,t.jsx)(d,{open:w,task:C,onClose:()=>{k(!1),S(null)}})]})}let m="https://6jnqmj85-80.inc1.devtunnels.ms",x=n.default.create({baseURL:m||"/",timeout:15e3});function u(e){let{projectId:l}=e,[n,r]=(0,s.useState)(null),[i,d]=(0,s.useState)([]),[c,o]=(0,s.useState)(!1),[u,h]=(0,s.useState)(null),[p,g]=(0,s.useState)(!1),[j,b]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[y,N]=(0,s.useState)(null),w=async()=>{try{var e;o(!0),h(null);let t="".concat(m,"/api/projects/").concat(l),s=await x.get(t);r(s),d(null!=(e=null==s?void 0:s.assignedEmployees)?e:[])}catch(e){h(e.message),r(null),d([])}finally{o(!1)}};(0,s.useEffect)(()=>{w()},[l]);let k=async()=>{let e=j.trim();if(!e)return alert("Enter employee IDs");let t=e.split(",").map(e=>e.trim());try{o(!0),h(null);let e="".concat(m,"/api/projects/").concat(l,"/assign");await x.post(e,{employeeIds:t}),g(!1),b(""),w()}catch(e){h(e.message)}finally{o(!1)}},C=async e=>{if(confirm("Remove ".concat(e,"   from project?")))try{N(e),h(null);let t="".concat(m,"/api/projects/").concat(l,"/assign/").concat(e);await x.delete(t),(null==n?void 0:n.projectAdminId)===e&&await x.patch("".concat(m,"/api/projects/").concat(l),{projectAdminId:null}),w()}catch(e){h(e.message)}finally{N(null)}},S=i.filter(e=>{var t,s;let l=f.toLowerCase();return(null==(t=e.name)?void 0:t.toLowerCase().includes(l))||e.employeeId.toLowerCase().includes(l)||(null==(s=e.designation)?void 0:s.toLowerCase().includes(l))});return(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Member"}),(0,t.jsx)("div",{className:"flex justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"search",placeholder:"Search",className:"border px-3 py-2 rounded",value:f,onChange:e=>v(e.target.value)}),(0,t.jsx)("button",{onClick:w,className:"bg-gray-100 px-3 py-2 rounded",children:"Refresh"})]})}),c&&(0,t.jsx)("div",{className:"text-center py-5",children:"Loadingâ€¦"}),u&&(0,t.jsx)("div",{className:"p-3 bg-red-50 text-red-600 rounded mb-3",children:u}),!c&&(0,t.jsxs)("table",{className:"min-w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-blue-50 text-gray-700 text-left",children:[(0,t.jsx)("th",{className:"px-4 py-3",children:"Name"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"User Role"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Action"})]})}),(0,t.jsxs)("tbody",{children:[S.map(e=>{var s;return(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsxs)("td",{className:"px-4 py-4 flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden",children:e.profileUrl?(0,t.jsx)("img",{src:e.profileUrl,className:"w-full h-full object-cover"}):(0,t.jsx)(a.UserIcon,{className:"w-6 h-6 text-gray-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:null!=(s=e.designation)?s:e.department})]})]}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("span",{className:"ml-1",children:"Project Admin"})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("button",{onClick:()=>C(e.employeeId),disabled:y===e.employeeId,className:"text-red-600",children:y===e.employeeId?"Removingâ€¦":"Delete"})})]},e.employeeId)}),0===S.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:3,className:"py-6 text-center text-gray-500",children:"No members found"})})]})]}),p&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded w-full max-w-md",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Add Project Members"}),(0,t.jsx)("input",{className:"border px-3 py-2 w-full rounded",placeholder:"EMP-015, EMP-010",value:j,onChange:e=>b(e.target.value)}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Example: EMP-015, EMP-010"}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,t.jsx)("button",{className:"px-4 py-2 border rounded",onClick:()=>g(!1),children:"Cancel"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:k,children:"Add"})]})]})})]})}x.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),x.interceptors.response.use(e=>e.data,e=>{var t,s,l;return Promise.reject(Error((null==e||null==(s=e.response)||null==(t=s.data)?void 0:t.message)||(null==e||null==(l=e.response)?void 0:l.statusText)||e.message||"Request failed"))});let h=localStorage.getItem("accessToken");function p(e){var l,a,n;let{projectId:r,gatewayPath:d="/api/projects",authToken:c=h,mainBase:o}=e,m=(o||"https://6jnqmj85-80.inc1.devtunnels.ms").replace(/\/$/,""),[x,u]=(0,s.useState)([]),[p,g]=(0,s.useState)(!1),[j,b]=(0,s.useState)(null),[f,v]=(0,s.useState)(0),[y,N]=(0,s.useState)(!1),[w,k]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),[D,T]=(0,s.useState)(!1),[E,I]=(0,s.useState)(null),[M,L]=(0,s.useState)(!1),[A,P]=(0,s.useState)(null),[U,O]=(0,s.useState)({title:"",milestoneCost:"",status:"INCOMPLETE",summary:"",startDate:"",endDate:""}),[F,R]=(0,s.useState)(null),[z,B]=(0,s.useState)(null),H=e=>{let t=String(e||"");return t.startsWith("http://")||t.startsWith("https://")?t:t.startsWith("/")?"".concat(m).concat(t):"".concat(m,"/").concat(t)},_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={...e};return c&&(t.Authorization="Bearer ".concat(c)),t},J=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15e3,l=new AbortController,a=setTimeout(()=>l.abort(),s);try{let s={...t,signal:l.signal},n=await fetch(e,s);clearTimeout(a);let r=n.headers.get("content-type")||"",i=await n.text().catch(()=>"");if(!n.ok){if(r.includes("text/html")||i.trim().startsWith("<!DOCTYPE html"))throw Error("HTTP ".concat(n.status," ").concat(n.statusText," â€” server returned HTML. Snippet: ").concat(i.slice(0,300)));if(r.includes("application/json"))try{let e=JSON.parse(i||"{}");throw Error("HTTP ".concat(n.status," ").concat(n.statusText," â€” ").concat(JSON.stringify(e)))}catch(e){}throw Error("HTTP ".concat(n.status," ").concat(n.statusText," ").concat(i?"- "+i.slice(0,300):""))}if(r.includes("application/json"))return JSON.parse(i||"[]");return i}catch(e){if("AbortError"===e.name)throw Error("Request timed out");if("Failed to fetch"===e.message)throw Error("Network Error - check CORS / server availability");throw e}finally{clearTimeout(a)}},q=(0,s.useMemo)(()=>{if(null==r)return null;let e=String(r).trim();if(/{{\s*projectId\s*}}/.test(e))return"__INVALID_PLACEHOLDER__";let t=Number(e);return Number.isNaN(t)?"__INVALID_NUMBER__":t},[r]),W=async()=>{g(!0),b(null);try{if(null===q){b("projectId is required."),u([]),g(!1);return}if("__INVALID_PLACEHOLDER__"===q){b('projectId looks like a template placeholder ("{{projectId}}"). Pass a real numeric id.'),u([]),g(!1);return}if("__INVALID_NUMBER__"===q){b('projectId "'.concat(r,'" is not a valid number.')),u([]),g(!1);return}let e=H("".concat(d,"/").concat(q,"/milestones"));console.info("[milestones] GET",e,"AuthPresent:",!!c);let t=await J(e,{method:"GET",headers:_({"Content-Type":"application/json"}),credentials:"same-origin"});Array.isArray(t)?u(t):(null==t?void 0:t.data)&&Array.isArray(t.data)?u(t.data):(null==t?void 0:t.milestones)&&Array.isArray(t.milestones)?u(t.milestones):(console.warn("Unexpected milestones response:",t),u([]),b("Unexpected response shape from server. See console."))}catch(e){console.error("fetchMilestones error:",e),u([]),b((null==e?void 0:e.message)||"Failed to load milestones")}finally{g(!1)}};(0,s.useEffect)(()=>{W()},[r,f]);let G=e=>"number"!=typeof e?"-":"$".concat(e.toFixed(2)),V=async()=>{L(!0),P(null);try{var e,t;if(!(null==(e=U.title)?void 0:e.trim())){P("Title is required."),L(!1);return}if("number"!=typeof q){P("Invalid projectId."),L(!1);return}let s={title:U.title.trim(),milestoneCost:Number(U.milestoneCost||0),status:(U.status||"INCOMPLETE").toUpperCase(),summary:(null==(t=U.summary)?void 0:t.trim())||"",startDate:U.startDate?new Date(U.startDate).toISOString():null,endDate:U.endDate?new Date(U.endDate).toISOString():null},l=H("".concat(d,"/").concat(q,"/milestones"));await J(l,{method:"POST",headers:_({"Content-Type":"application/json"}),credentials:"same-origin",body:JSON.stringify(s)}),N(!1),O({title:"",milestoneCost:"",status:"INCOMPLETE",summary:"",startDate:"",endDate:""}),v(e=>e+1)}catch(e){console.error("createMilestone error:",e),P((null==e?void 0:e.message)||"Failed to create milestone")}finally{L(!1)}},X=async()=>{L(!0),P(null);try{var e,t;if(!(null==E?void 0:E.id)){P("No milestone selected for update."),L(!1);return}if(!(null==(e=U.title)?void 0:e.trim())){P("Title is required."),L(!1);return}let s={title:U.title.trim(),milestoneCost:Number(U.milestoneCost||0),status:(U.status||"INCOMPLETE").toUpperCase(),summary:(null==(t=U.summary)?void 0:t.trim())||"",startDate:U.startDate?new Date(U.startDate).toISOString():null,endDate:U.endDate?new Date(U.endDate).toISOString():null},l=H("".concat(d,"/").concat(q,"/milestones/").concat(E.id));await J(l,{method:"PUT",headers:_({"Content-Type":"application/json"}),credentials:"same-origin",body:JSON.stringify(s)}),S(!1),I(null),v(e=>e+1)}catch(e){console.error("updateMilestone error:",e),P((null==e?void 0:e.message)||"Failed to update milestone")}finally{L(!1)}},Y=async()=>{L(!0),P(null);try{if(!(null==E?void 0:E.id)){P("No milestone selected for delete."),L(!1);return}let e=H("".concat(d,"/").concat(q,"/milestones/").concat(E.id));await J(e,{method:"DELETE",headers:_({"Content-Type":"application/json"}),credentials:"same-origin"}),T(!1),I(null),v(e=>e+1)}catch(e){console.error("deleteMilestone error:",e),P((null==e?void 0:e.message)||"Failed to delete milestone")}finally{L(!1)}};return(0,t.jsxs)("div",{className:"p-6 bg-white rounded shadow-sm border border-gray-200",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Milestones"}),(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)("button",{onClick:()=>v(e=>e+1),className:"bg-gray-100 px-3 py-2 rounded text-sm border hover:bg-gray-200",title:"Refresh",children:"Refresh"})})}),(0,t.jsxs)("div",{className:"rounded-md border overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-blue-50 text-gray-700 text-sm",children:(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-0 items-left px-4 py-3",children:[(0,t.jsx)("div",{className:"col-span-4 font-medium",children:"Title"}),(0,t.jsx)("div",{className:"col-span-3 font-medium",children:"Milestone Cost"}),(0,t.jsx)("div",{className:"col-span-2 font-medium",children:"Task Count"}),(0,t.jsx)("div",{className:"col-span-3 font-medium",children:"Status"})]})}),p?(0,t.jsx)("div",{className:"p-6 text-center text-gray-500",children:"Loading milestones..."}):j?(0,t.jsx)("div",{className:"p-6 text-center text-red-600",children:j}):0===x.length?(0,t.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No milestones found"}):(0,t.jsx)("div",{children:x.map(e=>{var s,l;return(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-0 items-center px-4 py-4 border-t",children:[(0,t.jsx)("div",{className:"col-span-4 text-sm",children:e.title}),(0,t.jsx)("div",{className:"col-span-3 text-sm",children:G(e.milestoneCost)}),(0,t.jsx)("div",{className:"col-span-2 text-sm",children:String(null!=(s=e.taskCount)?s:"00").padStart(2,"0")}),(0,t.jsx)("div",{className:"col-span-3 text-sm",children:(0,t.jsx)("div",{className:"relative inline-block",children:(0,t.jsx)("button",{className:"inline-flex items-center justify-between w-full gap-2 px-3 py-1 rounded-md  text-sm bg-white ".concat((e=>{let t=String(e||"").toLowerCase();return"complete"===t||"completed"===t})(e.status)?"border-green-200":"border-gray-200"),title:"Change status","aria-haspopup":"true","aria-expanded":z===e.id,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full ".concat((e=>{let t=String(e||"").toLowerCase();return"complete"===t||"completed"===t||"COMPLETED"===String(e)?"bg-green-600":"bg-red-600"})(e.status))}),(0,t.jsx)("span",{className:"uppercase",children:String(e.status||"INCOMPLETE").toUpperCase()})]})})})})]},null!=(l=e.id)?l:Math.random())})}),(0,t.jsxs)("div",{className:"px-4 py-3 border-t bg-gray-50 flex items-center justify-between text-sm text-gray-600",children:[(0,t.jsxs)("div",{children:["Result per page - ",x.length?x.length:0]}),(0,t.jsx)("div",{children:"Page 1 of 1"})]})]}),y&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-12 px-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>N(!1)}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-3xl rounded-lg shadow-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Create Milestone"}),(0,t.jsx)("button",{onClick:()=>N(!1),className:"p-2 rounded hover:bg-gray-100",children:(0,t.jsx)(i.XMarkIcon,{className:"w-6 h-6 text-gray-500"})})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Milestone Title *"}),(0,t.jsx)("input",{type:"text",value:U.title,onChange:e=>O(t=>({...t,title:e.target.value})),className:"w-full border rounded px-3 py-2",placeholder:"Project Closure"})]}),(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Milestone Cost"}),(0,t.jsx)("input",{type:"number",value:U.milestoneCost,onChange:e=>O(t=>({...t,milestoneCost:e.target.value})),className:"w-full border rounded px-3 py-2",placeholder:"0.00",min:0})]}),(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Status"}),(0,t.jsxs)("select",{value:U.status,onChange:e=>O(t=>({...t,status:e.target.value})),className:"w-full border rounded px-3 py-2",children:[(0,t.jsx)("option",{value:"INCOMPLETE",children:"INCOMPLETE"}),(0,t.jsx)("option",{value:"COMPLETED",children:"COMPLETED"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-3",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Milestone Summary *"}),(0,t.jsx)("textarea",{value:U.summary,onChange:e=>O(t=>({...t,summary:e.target.value})),className:"w-full border rounded px-3 py-2 min-h-[100px]",placeholder:"Conduct a project review to evaluate overall success and lessons learned..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:U.startDate,onChange:e=>O(t=>({...t,startDate:e.target.value})),className:"w-full border rounded px-3 py-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:U.endDate,onChange:e=>O(t=>({...t,endDate:e.target.value})),className:"w-full border rounded px-3 py-2"})]})]}),A&&(0,t.jsx)("div",{className:"mt-4 text-sm text-red-600",children:A}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-6 pb-6",children:[(0,t.jsx)("button",{onClick:()=>N(!1),className:"px-6 py-2 rounded-md border text-blue-600",disabled:M,children:"Cancel"}),(0,t.jsx)("button",{onClick:V,className:"px-6 py-2 rounded-md bg-blue-600 text-white",disabled:M,children:M?"Saving...":"Save"})]})]})]})]}),w&&E&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-12 px-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>k(!1)}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-2xl rounded-lg shadow-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Milestone Details"}),(0,t.jsx)("button",{onClick:()=>k(!1),className:"p-2 rounded hover:bg-gray-100",children:(0,t.jsx)(i.XMarkIcon,{className:"w-6 h-6 text-gray-500"})})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Title:"})," ",E.title]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Milestone Cost:"})," ",G(E.milestoneCost)]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Task Count:"})," ",null!=(l=E.taskCount)?l:0]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Status:"})," ",String(null!=(a=E.status)?a:"INCOMPLETE").toUpperCase()]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Summary:"}),(0,t.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded text-sm",children:null!=(n=E.summary)?n:"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Start Date:"})," ",E.startDate?new Date(E.startDate).toLocaleDateString():"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"End Date:"})," ",E.endDate?new Date(E.endDate).toLocaleDateString():"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Created At:"})," ",E.createdAt?new Date(E.createdAt).toLocaleString():"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Raw:"})," ",(0,t.jsx)("pre",{className:"text-xs bg-gray-50 p-2 rounded",children:JSON.stringify(E,null,2)})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-center gap-6 mt-6 pb-6",children:(0,t.jsx)("button",{onClick:()=>k(!1),className:"px-6 py-2 rounded-md border text-blue-600",children:"Close"})})]})]})]}),C&&E&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-12 px-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>S(!1)}),(0,t.jsxs)("div",{className:"relative bg-white w-full max-w-3xl rounded-lg shadow-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Edit Milestone"}),(0,t.jsx)("button",{onClick:()=>S(!1),className:"p-2 rounded hover:bg-gray-100",children:(0,t.jsx)(i.XMarkIcon,{className:"w-6 h-6 text-gray-500"})})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Milestone Title *"}),(0,t.jsx)("input",{type:"text",value:U.title,onChange:e=>O(t=>({...t,title:e.target.value})),className:"w-full border rounded px-3 py-2"})]}),(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Milestone Cost"}),(0,t.jsx)("input",{type:"number",value:U.milestoneCost,onChange:e=>O(t=>({...t,milestoneCost:e.target.value})),className:"w-full border rounded px-3 py-2",min:0})]}),(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Status"}),(0,t.jsxs)("select",{value:U.status,onChange:e=>O(t=>({...t,status:e.target.value})),className:"w-full border rounded px-3 py-2",children:[(0,t.jsx)("option",{value:"INCOMPLETE",children:"INCOMPLETE"}),(0,t.jsx)("option",{value:"COMPLETED",children:"COMPLETED"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-3",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Milestone Summary *"}),(0,t.jsx)("textarea",{value:U.summary,onChange:e=>O(t=>({...t,summary:e.target.value})),className:"w-full border rounded px-3 py-2 min-h-[100px]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:U.startDate,onChange:e=>O(t=>({...t,startDate:e.target.value})),className:"w-full border rounded px-3 py-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:U.endDate,onChange:e=>O(t=>({...t,endDate:e.target.value})),className:"w-full border rounded px-3 py-2"})]})]}),A&&(0,t.jsx)("div",{className:"mt-4 text-sm text-red-600",children:A}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-6 pb-6",children:[(0,t.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-2 rounded-md border text-blue-600",disabled:M,children:"Cancel"}),(0,t.jsx)("button",{onClick:X,className:"px-6 py-2 rounded-md bg-blue-600 text-white",disabled:M,children:M?"Saving...":"Save"})]})]})]})]}),D&&E&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-12 px-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>T(!1)}),(0,t.jsx)("div",{className:"relative bg-white w-full max-w-md rounded-lg shadow-xl overflow-hidden",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Delete Milestone"}),(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Are you sure you want to delete milestone ",(0,t.jsx)("strong",{children:E.title})," ? This action cannot be undone."]}),A&&(0,t.jsx)("div",{className:"mt-4 text-sm text-red-600",children:A}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-4 mt-6",children:[(0,t.jsx)("button",{className:"px-4 py-2 rounded border",onClick:()=>T(!1),disabled:M,children:"Cancel"}),(0,t.jsx)("button",{className:"px-4 py-2 rounded bg-red-600 text-white",onClick:Y,disabled:M,children:M?"Deleting...":"Delete"})]})]})})]})]})}var g=e.i(381618);let j="https://6jnqmj85-80.inc1.devtunnels.ms",b=e=>{if(!e)return null;let t=String(e).replace(/[^0-9a-fA-F]/g,"");return t.length>=6?"#".concat(t.slice(0,6)):null},f=e=>{let t=e.toLowerCase();return t.includes("complete")||t.includes("complete")?"#10b981":t.includes("to-do")||t.includes("todo")||t.includes("to do")?"#f59e0b":t.includes("doing")?"#2563eb":t.includes("incomplete")?"#ef4444":t.includes("wait")||t.includes("waiting")?"#9ca3af":"#6b7280"},v=(e,t,s,l)=>{let a=(l-90)*Math.PI/180;return{x:e+s*Math.cos(a),y:t+s*Math.sin(a)}};function y(e){let{projectId:l}=e,[a,r]=(0,s.useState)([]),[i,d]=(0,s.useState)([]),[c,o]=(0,s.useState)(!0),[m,x]=(0,s.useState)(null),u=(0,g.getStorage)();(0,s.useEffect)(()=>{let e=!0;return(async()=>{o(!0),x(null);try{let[t,s]=await Promise.all([n.default.get("".concat(j,"/status"),{headers:{Authorization:u?"Bearer ".concat(u):""}}),n.default.get("".concat(j,"/projects/").concat(l,"/tasks"),{headers:{Authorization:u?"Bearer ".concat(u):""}})]);e&&(r(Array.isArray(t.data)?t.data:[]),d(Array.isArray(s.data)?s.data:[]))}catch(l){var t,s,a;console.error("Failed to load task statistics:",null!=(a=null!=(s=null==l||null==(t=l.response)?void 0:t.data)?s:null==l?void 0:l.message)?a:l),e&&(x("Failed to load task statistics"),r([]),d([]))}finally{e&&o(!1)}})(),()=>{e=!1}},[l,u]);let h=(0,s.useMemo)(()=>{let e=new Map;return a.forEach(t=>e.set(t.id,{status:t,count:0})),i.forEach(t=>{var s,l,n,r,i,d;let c=null!=(r=null!=(n=t.taskStageId)?n:null==(s=t.taskStage)?void 0:s.id)?r:null;if(null!=c){let t=Array.from(e.keys()).find(e=>e===c);if(void 0!==t){let s=e.get(t);s.count+=1,e.set(t,s);return}}let o=null!=(i=null==(l=t.taskStage)?void 0:l.name)?i:"",m=a.find(e=>o&&String(e.name).toLowerCase().includes(o.toLowerCase()));if(m){let t=null!=(d=e.get(m.id))?d:{status:m,count:0};t.count+=1,e.set(m.id,t);return}let x="unknown";e.has(x)||e.set(x,{status:{id:0,name:"Other",labelColor:null},count:0});let u=e.get(x);u.count+=1,e.set(x,u)}),Array.from(e.values())},[a,i]),p=h.reduce((e,t)=>e+t.count,0)||0,y=0,N=h.filter(e=>e.count>0).map(e=>{let t=0===p?0:e.count/p,s=y;y+=360*t;let l=b(e.status.labelColor)||f(e.status.name);return{...e,start:s,end:y,color:l}});return(0,t.jsx)("div",{children:c?(0,t.jsx)("div",{className:"py-6 text-center text-gray-500",children:"Loading task statistics..."}):m?(0,t.jsx)("div",{className:"py-6 text-center text-red-500",children:m}):(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("svg",{viewBox:"0 0 100 100",width:"180",height:"180",className:"flex-shrink-0",children:[0===N.length&&(0,t.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"#e5e7eb"}),N.map((e,s)=>(0,t.jsx)("path",{d:((e,t,s,l,a)=>{let n=v(e,t,s,a),r=v(e,t,s,l);return"M ".concat(e," ").concat(t," L ").concat(n.x," ").concat(n.y," A ").concat(s," ").concat(s," 0 ").concat(a-l<=180?"0":"1"," 0 ").concat(r.x," ").concat(r.y," Z")})(50,50,40,e.start,e.end),fill:e.color,stroke:"#ffffff",strokeWidth:"0.5"},s))]})}),(0,t.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,t.jsx)("ul",{className:"space-y-3 text-sm",children:h.map((e,s)=>{let l=b(e.status.labelColor)||f(e.status.name);return(0,t.jsxs)("li",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{style:{width:18,height:12,background:l},className:"rounded-sm inline-block"}),(0,t.jsx)("span",{className:"flex-1",children:e.status.name}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e.count})]},s)})}),(0,t.jsxs)("div",{className:"mt-4 text-xs text-gray-500",children:["Total tasks: ",p]})]})]})})}function N(){var e,r,i,d,c,m,x,h,g,b,f,v;let{id:N}=(0,l.useParams)()||{},[w,k]=(0,s.useState)(null),[C,S]=(0,s.useState)(!0),[D,T]=(0,s.useState)("overview"),[E,I]=(0,s.useState)(null),[M,L]=(0,s.useState)(!1),A=async e=>{try{let t=await fetch("/api/work/project/".concat(N),{headers:e?{Authorization:"Bearer ".concat(e)}:void 0});if(!t.ok)throw Error("Failed to fetch");let s=await t.json();k(Array.isArray(s)?s[0]:s)}catch(e){k({id:Number(N||1),shortCode:"PRJ-001",name:"Project Name",category:"Website",startDate:"2025-08-02",deadline:"2025-09-12",client:{name:"John Doe",profilePictureUrl:"https://i.pravatar.cc/80?img=5"},summary:"Short description of the project and goals.",currency:"$",budget:0,hoursEstimate:40,assignedEmployees:[{employeeId:"1",name:"Aman Sharma",designation:"Developer",department:"Engineering"},{employeeId:"2",name:"Riya Singh",designation:"Designer",department:"Design"}],progressPercent:76,totalTimeLoggedMinutes:300,createdBy:"Admin",createdAt:new Date().toISOString(),pinned:!1,archived:!1})}finally{S(!1)}},P=async e=>{if(N){L(!0);try{var t;let s="".concat(j,"/projects/").concat(N,"/metrics"),l=await n.default.get(s,{headers:e?{Authorization:"Bearer ".concat(e)}:void 0});I(null!=(t=l.data)?t:null)}catch(e){console.error("Failed to fetch metrics:",e),I(null)}finally{L(!1)}}};if((0,s.useEffect)(()=>{let e=localStorage.getItem("accessToken")||"";A(e),P(e)},[N]),C)return(0,t.jsx)("p",{className:"p-8 text-center",children:"Loading project..."});if(!w)return(0,t.jsx)("p",{className:"p-8 text-center text-red-600",children:"Project not found"});let U=Math.floor(((null!=(c=null!=(d=null==E?void 0:E.totalTimeLoggedMinutes)?d:w.totalTimeLoggedMinutes)?c:0)||0)/60),O=null!=(x=null!=(m=null==E?void 0:E.currency)?m:w.currency)?x:"$",F="number"==typeof(null==E?void 0:E.earning)?E.earning:"string"==typeof(null==E?void 0:E.earning)?Number(E.earning):null!=(h=w.budget)?h:0,R="number"==typeof(null==E?void 0:E.expenses)?E.expenses:0,z="number"==typeof(null==E?void 0:E.profit)?E.profit:F-R,B=null!=(b=null!=(g=null==E?void 0:E.hoursEstimate)?g:w.hoursEstimate)?b:0,H=B>0?Math.min(100,Math.round(U/B*100)):0,_=B>0?Math.min(100,Math.round(B/Math.max(B,U||1)*100)):50,J=Math.min(100,Math.round(U/Math.max(B,U||1)*100));return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h1",{className:"text-3xl font-semibold text-gray-800",children:w.name})}),(0,t.jsxs)("div",{className:"bg-white rounded-t-lg shadow-sm border border-b-0",children:[(0,t.jsx)("div",{className:"px-4",children:(0,t.jsx)("nav",{className:"flex items-center gap-6 h-14",children:[{key:"overview",label:"Overview"}].map(e=>{let s=D===e.key;return(0,t.jsx)("button",{onClick:()=>T(e.key),className:"py-3 text-sm font-medium ".concat(s?"text-blue-600":"text-gray-600"),"aria-current":s?"page":void 0,children:(0,t.jsxs)("span",{className:"relative inline-block",children:[e.label,s&&(0,t.jsx)("span",{className:"absolute -bottom-5 left-0 w-full h-0.5 bg-blue-400 rounded"})]})},e.key)})})}),(0,t.jsx)("div",{className:"h-1",children:(0,t.jsx)("div",{className:"border-t-2 border-blue-300"})})]}),(0,t.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"w-36 h-20",children:(0,t.jsxs)("svg",{viewBox:"0 0 100 50",className:"w-full h-full",children:[(0,t.jsx)("path",{d:"M5 50 A45 45 0 0 1 95 50",fill:"none",stroke:"#e6e6e6",strokeWidth:"10",strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M5 50 A45 45 0 0 1 75 18",fill:"none",stroke:"#f5c518",strokeWidth:"10",strokeLinecap:"round"}),(0,t.jsxs)("text",{x:"50",y:"40",fontSize:"8",textAnchor:"middle",fill:"#374151",children:[w.progressPercent,"%"]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Start Date"}),(0,t.jsx)("p",{className:"font-medium",children:new Date(w.startDate).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"End Date"}),(0,t.jsx)("p",{className:"font-medium",children:w.noDeadline?"No Deadline":w.deadline?new Date(w.deadline).toLocaleDateString():"TBD"})]})]}),(0,t.jsx)("div",{className:"hidden lg:block max-w-xs text-gray-600",children:w.summary?(0,t.jsx)("p",{children:w.summary}):(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"No summary available"})})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:(null==(e=w.client)?void 0:e.profilePictureUrl)?(0,t.jsx)("img",{src:w.client.profilePictureUrl,alt:"client",className:"w-full h-full object-cover"}):(0,t.jsx)(a.UserIcon,{className:"w-8 h-8 text-gray-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Client"}),(0,t.jsx)("p",{className:"font-medium",children:(null==(r=w.client)?void 0:r.name)||"Client ID: ".concat(null!=(f=null==(i=w.client)?void 0:i.name)?f:"")}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Qurilo Solutions"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Task Statistics"}),(0,t.jsx)(y,{projectId:w.id}),(0,t.jsxs)("div",{className:"mt-6 bg-white rounded border border-gray-200 p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Hours Logged"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:M?"Loading...":"".concat(U," hrs")})]}),(0,t.jsxs)("div",{className:"h-40",children:[(0,t.jsxs)("div",{className:"flex items-end gap-8 h-full",children:[(0,t.jsxs)("div",{className:"flex-1 text-center",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Planned"}),(0,t.jsx)("div",{className:"h-28 flex items-end justify-center",children:(0,t.jsx)("div",{className:"w-24 rounded-t-md",style:{height:"".concat(Math.max(30,_),"%"),background:"#16a34a"},children:(0,t.jsxs)("div",{className:"text-xs text-white text-center py-1",children:[B," hrs"]})})})]}),(0,t.jsxs)("div",{className:"flex-1 text-center",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Actual"}),(0,t.jsx)("div",{className:"h-28 flex items-end justify-center",children:(0,t.jsx)("div",{className:"w-24 rounded-t-md",style:{height:"".concat(Math.max(30,J),"%"),background:"#ef4444"},children:(0,t.jsxs)("div",{className:"text-xs text-white text-center py-1",children:[U," hrs"]})})})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("div",{className:"h-2 bg-gray-200 rounded overflow-hidden",children:(0,t.jsx)("div",{className:"h-2 rounded",style:{width:"".concat(H,"%"),background:H>100?"#ef4444":"#16a34a"}})}),(0,t.jsxs)("div",{className:"mt-2 text-xs text-gray-500 flex justify-between",children:[(0,t.jsxs)("span",{children:[H,"% of estimate"]}),(0,t.jsxs)("span",{children:[O,(null!=F?F:0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Project Budget"}),(0,t.jsxs)("div",{className:"text-2xl font-semibold text-blue-600 mt-2",children:[O,(null!=(v=w.budget)?v:0).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Hours Logged"}),(0,t.jsxs)("div",{className:"text-2xl font-semibold text-blue-600 mt-2",children:[B,"hrs 0 min"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-3 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Earnings"}),(0,t.jsxs)("div",{className:"text-lg font-semibold text-blue-600 mt-1",children:[O,(null!=F?F:0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-3 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Expenses"}),(0,t.jsxs)("div",{className:"text-lg font-semibold text-blue-600 mt-1",children:[O,(null!=R?R:0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-3 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Profit"}),(0,t.jsxs)("div",{className:"text-lg font-semibold text-blue-600 mt-1",children:[O,(null!=z?z:0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 p-4",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h4",{className:"text-lg font-medium",children:"Assigned Employees"})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:w.assignedEmployees&&w.assignedEmployees.length?w.assignedEmployees.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:e.profileUrl?(0,t.jsx)("img",{src:e.profileUrl,alt:e.name,className:"w-full h-full object-cover"}):(0,t.jsx)(a.UserIcon,{className:"w-5 h-5 text-gray-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.designation?e.designation+", ":"",e.department]})]})]},e.employeeId)):(0,t.jsx)("p",{className:"text-gray-500 text-center py-6",children:"No employees assigned"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,t.jsx)("h4",{className:"text-lg font-medium mb-2",children:"Project Summary"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 space-y-2",children:[(0,t.jsxs)("div",{children:["Created by: ",w.summary]}),(0,t.jsxs)("div",{children:["Created on: ",new Date(w.createdAt||"").toLocaleDateString()]}),w.pinned&&(0,t.jsxs)("div",{children:["Pinned on: ",new Date(w.pinnedAt||"").toLocaleDateString()]}),w.archived&&(0,t.jsxs)("div",{children:["Archived on: ",new Date(w.archivedAt||"").toLocaleDateString()]})]})]})]})]}),w&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(o,{projectId:w.id})}),(0,t.jsxs)("div",{className:"mt-6 grid grid-cols-1 lg:grid-rows-2 gap-2",children:[(0,t.jsx)(u,{projectId:w.id}),(0,t.jsx)(p,{projectId:w.id})]})]})})}}]);